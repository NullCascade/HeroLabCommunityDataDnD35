<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <thing id="cHelpCru" name="Crusader" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cAbbr" value="Cru"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecName" value="Stances"/>
    <fieldval field="cSpec2ndSi" value="Maneuver"/>
    <fieldval field="cSpecSing" value="Stance"/>
    <fieldval field="cSpec2ndNm" value="Maneuvers"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="2"/>
    <arrayval field="cCustTot" index="2" value="2"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="4" value="2"/>
    <arrayval field="cCustTot" index="5" value="2"/>
    <arrayval field="cCustTot" index="6" value="2"/>
    <arrayval field="cCustTot" index="7" value="3"/>
    <arrayval field="cCustTot" index="8" value="3"/>
    <arrayval field="cCustTot" index="9" value="3"/>
    <arrayval field="cCustTot" index="10" value="3"/>
    <arrayval field="cCustTot" index="11" value="3"/>
    <arrayval field="cCustTot" index="12" value="3"/>
    <arrayval field="cCustTot" index="13" value="4"/>
    <arrayval field="cCustTot" index="14" value="4"/>
    <arrayval field="cCustTot" index="15" value="4"/>
    <arrayval field="cCustTot" index="16" value="4"/>
    <arrayval field="cCustTot" index="17" value="4"/>
    <arrayval field="cCustTot" index="18" value="4"/>
    <arrayval field="cCustTot" index="19" value="4"/>
    <arrayval field="cCustScTot" index="0" value="5"/>
    <arrayval field="cCustScTot" index="1" value="5"/>
    <arrayval field="cCustScTot" index="2" value="6"/>
    <arrayval field="cCustScTot" index="3" value="6"/>
    <arrayval field="cCustScTot" index="4" value="7"/>
    <arrayval field="cCustScTot" index="5" value="7"/>
    <arrayval field="cCustScTot" index="6" value="8"/>
    <arrayval field="cCustScTot" index="7" value="8"/>
    <arrayval field="cCustScTot" index="8" value="9"/>
    <arrayval field="cCustScTot" index="9" value="9"/>
    <arrayval field="cCustScTot" index="10" value="10"/>
    <arrayval field="cCustScTot" index="11" value="10"/>
    <arrayval field="cCustScTot" index="12" value="11"/>
    <arrayval field="cCustScTot" index="13" value="11"/>
    <arrayval field="cCustScTot" index="14" value="12"/>
    <arrayval field="cCustScTot" index="15" value="12"/>
    <arrayval field="cCustScTot" index="16" value="13"/>
    <arrayval field="cCustScTot" index="17" value="13"/>
    <arrayval field="cCustScTot" index="18" value="14"/>
    <arrayval field="cCustScTot" index="19" value="14"/>
    <usesource source="ToB" parent="p35" name="Tome of Battle"/>
    <tag group="ClassSkill" tag="kIntim"/>
    <tag group="ClassSkill" tag="kJump"/>
    <tag group="ClassSkill" tag="kKnowHist"/>
    <tag group="ClassSkill" tag="kKnowRel"/>
    <tag group="ClassSkill" tag="kRide"/>
    <tag group="ClassSkill" tag="kMartLore"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="psiClDisc" tag="None"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="AgeColumn" tag="2"/>
    <tag group="Classes" tag="Crusader" name="Crusader"/>
    <tag group="AlgnForbid" tag="NeutNeut"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="AllowCust" tag="DevSpi" name="Devoted Spirit"/>
    <tag group="AllowCust" tag="StoDra" name="Stone Dragon"/>
    <tag group="AllowCust" tag="WhtRvn" name="White Raven"/>
    <tag group="ClassSkill" tag="kBalance"/>
    <tag group="cFort" tag="Good"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="kConcent"/>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fArmLgShld"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fArmTower"></bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="fBuckProf"></bootstrap>
    <bootstrap thing="cCruFurCou"></bootstrap>
    <bootstrap thing="cCruSteRes"></bootstrap>
    <bootstrap thing="cCruInSoul"></bootstrap>
    <bootstrap thing="cCruZeaSur"></bootstrap>
    <bootstrap thing="cCruSmite"></bootstrap>
    <bootstrap thing="cCruDiehrd"></bootstrap>
    <bootstrap thing="cCruMettle"></bootstrap>
    <eval phase="Render" priority="15000"><![CDATA[foreach pick in hero from Custom where "CustTaken.cHelpCru"
 if (eachpick.field[hIsOn1].value = 0) then
  perform eachpick.delete[Helper.ShowSpec]
 endif
nexteach

foreach pick in hero from Custom where "Helper.Secondary & CustTaken.cHelpCru"
 eachpick.field[hName2].text = "withheld"
nexteach]]></eval>
    <evalrule phase="PostLevel" priority="10002" index="2" message="Too many maneuvers readied!"><![CDATA[var manrdy as number

foreach pick in hero from BaseCustSp where "Helper.Secondary & CustTaken.cHelpCru"
 if (eachpick.field[hIsOn1].value <> 0) then
  manrdy += 1
 endif
nexteach

if (#hasfeat[fExGrntMan] <> 0) then
 manrdy -= 1
endif

if (#levelcount[Crusader] >= 20) then
 validif (manrdy <= 7)
elseif (#levelcount[Crusader] >= 10) then
 validif (manrdy <= 6)
else
 validif (manrdy <= 5)
endif]]></evalrule>
    <evalrule phase="PostLevel" priority="10001" message="Too many active stances!"><![CDATA[validif (hero.tagcount[User.ToBStance] <= 1)]]></evalrule>
    </thing>
  <thing id="cCrusader" name="Crusader" description="{i}&#147;Make your peace with whatever vile deity you worship, monster,\nfor I am the sword of Pelor, and I will not fail in my strike!&#148;{/i}\n                                     &#151;Daresa, crusader of Pelor\n\nDevoted knight, divine agent, instrument of vengeance, peerless fighting machine&#151;the crusader is a warrior dedicated to good, evil, law, chaos, or some other cause. She seeks out and destroys the enemies of her chosen faith. Strengthened by prayer or absolute devotion to a principle, armored by unshakable faith, and driven by her convictions, a good crusader is a mighty weapon against injustice and malice. An evil crusader, on the other hand, is a cruel and fearsome warrior of darkness. \n\nA crusader who embraces a religion or holy faith is similar to a paladin in that she commands a number of holy (or unholy) powers. However, a crusader has no skill with divine spellcasting; she is a martial adept whose maneuvers are unpredictable gifts of divine power. Trusting in the power of her chosen deity, she allows faith and intuition to guide her through battle. Many crusaders receive the call to their cause early in life, but never study formally at a temple or monastery. These warriors are gifted with a natural ability to channel the divine energies of their cause, but in a raw, untamed manner. A crusader has absolute faith in her ability to draw on the source of her power, but she never quite knows how that power will manifest." compset="ClassLevel" maxlimit="20">
    <usesource source="ToB"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpCru"></bootstrap>
    <link linkage="helper" thing="cHelpCru"/>
    </thing>
  <thing id="kMartLore" name="Martial Lore" description="You can use this skill to identify martial maneuvers as soon as they are initiated.\n\n{b}Check{/b}: You can identify maneuvers and disciplines used by a combatant. The DCs for Martial Lore checks relating to various tasks are summarized below.\n\nDC Task\n10 + maneuver level: Identify a maneuver being initiated by someone you can see. No action required. No retry.\n10 + maneuver level: Identify a maneuver recorded on a martial script. One try per day. Requires a full-round action.\n20 + target&#146;s initiator level: Determine all disciplines known by a particular creature by watching it initiate at least one maneuver. No action required. Retry only if the subject initiates another maneuver.\n\n{b}Action{/b}: Varies, as noted above.\n\n{b}Try Again{/b}: See above.\n\n{b}Special{/b}: A swordsage gains a +2 bonus on a Martial Lore check involving a maneuver in a discipline in which he has discipline focus." compset="Skill">
    <usesource source="ToB"/>
    <tag group="Helper" tag="TrainOnly"/>
    <link linkage="skillattr" thing="aINT"/>
    </thing>
  <thing id="cDevSpi011" name="Crusader&apos;s Strike" description="{b}Devoted Spirit 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Divine energy surrounds your weapon as you strike. This power washes over you as your weapon finds its mark, mending your wounds and giving you the strength to fight on.{/i}\n\nAs part of initiating this strike, you must make a successful melee attack against an enemy whose alignment has at least one component different from yours. This foe must pose a threat to you or your allies in some direct, immediate way. If your attack hits, you or an ally within 10 feet of you heals 1d6 points of damage + 1 point per initiator level (maximum +5)." compset="CustomSpec" summary="Strike - Successful attack allows you to heal 1d6 + 1/initiator level." uniqueness="useronce">
    <fieldval field="hName1" value="readied"/>
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="DevSpi" name="Devoted Spirit"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[var bonus as number

bonus = minimum(hero.childfound[xInitiator].field[Value].value, 5)

field[livename].text = field[name].text & " (1d6+" & bonus & ")"]]></eval>
    </thing>
  <thing id="cStoDra011" name="Charging Minotaur" description="{b}Stone Dragon 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You charge at your foe, blasting him with such power that he stumbles back.{/i}\n\nAs you roar across the battlefield, your position yourself to deliver a devastating charge attack. When you slam into an opponent, you crush him with concussive force and send him stumbling backward.\n\nAs part of this maneuver, you make a bull rush attack (PH 154) as part of a charge. Neither the movement nor the bull rush attack provokes attacks of opportunity. Resolve the bull rush attempt normally. If your Strength check exceeds the opponent&#146;s result, you deal bludgeoning damage equal to 2d6 + your Str modifier in addition to pushing the target back as normal. Assuming your Strength check is high enough, you can push your target back more than 5 feet (as normal for a bull rush, but without having to follow)." compset="CustomSpec" summary="Strike - Charging bull rush deals damage, ignores attacks of opportunity." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra" name="Stone Dragon"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="ToBStrike"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cWhtRvn011" name="Bolstering Voice" description="{b}White Raven 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} 60-ft.-radius emanation centered on you\n{b}Duration:{/b} Stance\n\n{i}Your clarion voice strengthens the will of your comrades. So long as you remain on the field of battle, your allies are strengthened against attacks and effects that seek to subvert their willpower.{/i}\n\nThe discipline of the White Raven stresses that an army is effective only when its members are motivated to fight. In the face of a daunting enemy or unexpected hardship, the most skilled warrior is worthless if he lacks strength of will. When you adopt the bolstering voice stance, you shout encouragement to your allies, disparage your foes, and lend much-needed support to raise your allies&apos; spirits. By drawing on the example you set, your allies harden their will to fight and battle on despite your enemies&apos; attempts to turn them aside.\n\nWhile you are in this stance, all allies within range who can hear you gain a +2 morale bonus on Will saves, or a +4 morale bonus on Will saves against fear effects." compset="CustomSpec" summary="Stance - Allies gain +2 bonus on Will saves, +4 against fear." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="WhtRvn" name="White Raven"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cWhtRvn014" name="Leading the Charge" description="{b}White Raven 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} 60-ft.-radius emanation centered on you\n{b}Duration:{/b} Stance\n\n{i}You fire the confidence and martial spirit of your allies, giving them the energy and bravery needed to make a devastating charge against your enemies.{/i}\n\nThe White Raven discipline teaches that tactics, leadership, and planning can overcome an opponent&#146;s superior individual abilities. This stance embodies that teaching, allowing you to spur your allies on to greater feats of martial skill.\n\nWhile you are in this stance, all allies who hear you and make a charge attack in the area gain a bonus on damage rolls equal to your initiator level." compset="CustomSpec" summary="Stance - Allies deal +1 damage/initiator level on charge attacks." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="WhtRvn" name="White Raven"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var bonus as number
bonus = hero.childfound[xInitiator].field[Value].value

field[livename].text = field[name].text & " (+" & bonus & ")"

doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]]]></eval>
    </thing>
  <thing id="xInitiator" name="Initiator Level" description="This special is going to calculate Initiator level for all characters. It is bootstrapped to an adjustment so all characters will have it." compset="Special">
    <tag group="User" tag="ToBStance"/>
    <eval phase="PostLevel" priority="9000">var init as number
var half as number
var total as number

init = #levelcount[Crusader] + #levelcount[Swordsage] + #levelcount[Warblade]

half = herofield[tLevel].value - init
half = half/2
half = round(half,0,-1)

total = init + half
total = maximum(total,1)

field[Value].value = total</eval>
    </thing>
  <thing id="cHelpSwo" name="Swordsage" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Swo"/>
    <fieldval field="cSkills" value="6"/>
    <fieldval field="cSpecSing" value="Stance"/>
    <fieldval field="cSpecName" value="Stances"/>
    <fieldval field="cSpec2ndNm" value="Maneuvers"/>
    <fieldval field="cSpec2ndSi" value="Maneuver"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="2"/>
    <arrayval field="cCustTot" index="2" value="2"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="4" value="3"/>
    <arrayval field="cCustTot" index="5" value="3"/>
    <arrayval field="cCustTot" index="6" value="3"/>
    <arrayval field="cCustTot" index="7" value="3"/>
    <arrayval field="cCustTot" index="8" value="4"/>
    <arrayval field="cCustTot" index="9" value="4"/>
    <arrayval field="cCustTot" index="10" value="4"/>
    <arrayval field="cCustTot" index="11" value="4"/>
    <arrayval field="cCustTot" index="12" value="4"/>
    <arrayval field="cCustTot" index="13" value="5"/>
    <arrayval field="cCustTot" index="14" value="5"/>
    <arrayval field="cCustTot" index="15" value="5"/>
    <arrayval field="cCustTot" index="16" value="5"/>
    <arrayval field="cCustTot" index="17" value="5"/>
    <arrayval field="cCustTot" index="18" value="5"/>
    <arrayval field="cCustTot" index="19" value="6"/>
    <arrayval field="cCustScTot" index="0" value="6"/>
    <arrayval field="cCustScTot" index="1" value="7"/>
    <arrayval field="cCustScTot" index="2" value="8"/>
    <arrayval field="cCustScTot" index="3" value="9"/>
    <arrayval field="cCustScTot" index="4" value="10"/>
    <arrayval field="cCustScTot" index="5" value="11"/>
    <arrayval field="cCustScTot" index="6" value="12"/>
    <arrayval field="cCustScTot" index="7" value="13"/>
    <arrayval field="cCustScTot" index="8" value="14"/>
    <arrayval field="cCustScTot" index="9" value="15"/>
    <arrayval field="cCustScTot" index="10" value="16"/>
    <arrayval field="cCustScTot" index="11" value="17"/>
    <arrayval field="cCustScTot" index="12" value="18"/>
    <arrayval field="cCustScTot" index="13" value="19"/>
    <arrayval field="cCustScTot" index="14" value="20"/>
    <arrayval field="cCustScTot" index="15" value="21"/>
    <arrayval field="cCustScTot" index="16" value="22"/>
    <arrayval field="cCustScTot" index="17" value="23"/>
    <arrayval field="cCustScTot" index="18" value="24"/>
    <arrayval field="cCustScTot" index="19" value="25"/>
    <usesource source="ToB"/>
    <tag group="Classes" tag="Swordsage" name="Swordsage"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="kBalance"/>
    <tag group="ClassSkill" tag="kClimb"/>
    <tag group="ClassSkill" tag="kConcent"/>
    <tag group="ClassSkill" tag="kHeal"/>
    <tag group="ClassSkill" tag="kHide"/>
    <tag group="ClassSkill" tag="kIntim"/>
    <tag group="ClassSkill" tag="kJump"/>
    <tag group="ClassSkill" tag="kKnowHist"/>
    <tag group="ClassSkill" tag="kKnowLocal"/>
    <tag group="ClassSkill" tag="kKnowNat"/>
    <tag group="ClassSkill" tag="kKnowNoble"/>
    <tag group="ClassSkill" tag="kListen"/>
    <tag group="ClassSkill" tag="kMartLore"/>
    <tag group="ClassSkill" tag="kMoveSil"/>
    <tag group="ClassSkill" tag="kRide"/>
    <tag group="ClassSkill" tag="kSenseMot"/>
    <tag group="ClassSkill" tag="kSwim"/>
    <tag group="ClassSkill" tag="kTumble"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="psiClDisc" tag="None"/>
    <tag group="AllowCust" tag="DesWnd" name="Desert Wind"/>
    <tag group="AllowCust" tag="DiaMnd" name="Diamond Mind"/>
    <tag group="AllowCust" tag="SetSun" name="Setting Sun"/>
    <tag group="AllowCust" tag="ShaHnd" name="Shadow Hand"/>
    <tag group="AllowCust" tag="StoDra"/>
    <tag group="AllowCust" tag="TgrClw" name="Tiger Claw"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="AgeColumn" tag="3"/>
    <tag group="cFort" tag="Poor"/>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cSwoQuiAct"></bootstrap>
    <bootstrap thing="cSwoDFWF"></bootstrap>
    <bootstrap thing="cSwoDFIS1"></bootstrap>
    <bootstrap thing="cSwoDfIS2"></bootstrap>
    <bootstrap thing="cSwoDFDS1"></bootstrap>
    <bootstrap thing="cSwoDFDS2"></bootstrap>
    <bootstrap thing="cSwoACBon"></bootstrap>
    <bootstrap thing="cSwoSenMag"></bootstrap>
    <bootstrap thing="cSwoEvasIm"></bootstrap>
    <bootstrap thing="cSwoDuaBoo"></bootstrap>
    <eval phase="Render" priority="15000"><![CDATA[foreach pick in hero from Custom where "CustTaken.cHelpSwo"
 if (eachpick.field[hIsOn1].value = 0) then
  perform eachpick.delete[Helper.ShowSpec]
 endif
nexteach]]></eval>
    <evalrule phase="PostLevel" priority="10002" index="2" message="Too many maneuvers readied!"><![CDATA[var manrdy as number

foreach pick in hero from BaseCustSp where "Helper.Secondary & CustTaken.cHelpSwo"
 if (eachpick.field[hIsOn1].value <> 0) then
  manrdy += 1
 endif
nexteach

if (#hasfeat[fExRdyMan] <> 0) then
 manrdy -= 1
endif

if (#levelcount[Swordsage] >= 20) then
 validif (manrdy <= 12)
elseif (#levelcount[Swordsage] >= 18) then
 validif (manrdy <= 11)
elseif (#levelcount[Swordsage] >= 15) then
 validif (manrdy <= 10)
elseif (#levelcount[Swordsage] >= 13) then
 validif (manrdy <= 9)
elseif (#levelcount[Swordsage] >= 10) then
 validif (manrdy <= 8)
elseif (#levelcount[Swordsage] >= 8) then
 validif (manrdy <= 7)
elseif (#levelcount[Swordsage] >= 5) then
 validif (manrdy <= 6)
elseif (#levelcount[Swordsage] >= 3) then
 validif (manrdy <= 5)
else
 validif (manrdy <= 4)
endif]]></evalrule>
    <evalrule phase="PostLevel" priority="10001" message="Too many active stances!"><![CDATA[validif (hero.tagcount[User.ToBStance] <= 1)]]></evalrule>
    </thing>
  <thing id="cSwordsage" name="Swordsage" description="{i}&#147;Thick armor indicates a lack of skill. If you lack the training to avoid your enemies&#146; blows, perhaps you should leave the fighting to me.&#148;{/i}\n                                                    &#151;Chen, swordsage\n\nA master of martial maneuvers, the swordsage is a physical adept&#151;a blade wizard whose knowledge of the Sublime Way lets him unlock potent abilities, many of which are overtly supernatural or magical in nature. Depending on which disciplines he chooses to study, a swordsage might be capable of walking through walls, leaping dozens of feet into the air, shattering boulders with a single touch, or even mastering the elements of fire or shadow. Whatever his specific training, a swordsage blurs the line between martial prowess and magical skill." compset="ClassLevel" maxlimit="20">
    <usesource source="ToB"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpSwo"></bootstrap>
    <link linkage="helper" thing="cHelpSwo"/>
    </thing>
  <thing id="cHelpWbd" name="Warblade" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="12"/>
    <fieldval field="cAbbr" value="Wbd"/>
    <fieldval field="cSpecSing" value="Stance"/>
    <fieldval field="cSpecName" value="Stances"/>
    <fieldval field="cSpec2ndNm" value="Maneuvers"/>
    <fieldval field="cSpec2ndSi" value="Maneuver"/>
    <fieldval field="cSkills" value="4"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="1" value="1"/>
    <arrayval field="cCustTot" index="2" value="1"/>
    <arrayval field="cCustTot" index="3" value="2"/>
    <arrayval field="cCustTot" index="4" value="2"/>
    <arrayval field="cCustTot" index="5" value="2"/>
    <arrayval field="cCustTot" index="6" value="2"/>
    <arrayval field="cCustTot" index="7" value="2"/>
    <arrayval field="cCustTot" index="8" value="2"/>
    <arrayval field="cCustTot" index="9" value="3"/>
    <arrayval field="cCustTot" index="10" value="3"/>
    <arrayval field="cCustTot" index="11" value="3"/>
    <arrayval field="cCustTot" index="12" value="3"/>
    <arrayval field="cCustTot" index="13" value="3"/>
    <arrayval field="cCustTot" index="14" value="3"/>
    <arrayval field="cCustTot" index="15" value="4"/>
    <arrayval field="cCustTot" index="16" value="4"/>
    <arrayval field="cCustTot" index="17" value="4"/>
    <arrayval field="cCustTot" index="18" value="4"/>
    <arrayval field="cCustTot" index="19" value="4"/>
    <arrayval field="cCustScTot" index="0" value="3"/>
    <arrayval field="cCustScTot" index="1" value="4"/>
    <arrayval field="cCustScTot" index="2" value="5"/>
    <arrayval field="cCustScTot" index="3" value="5"/>
    <arrayval field="cCustScTot" index="4" value="6"/>
    <arrayval field="cCustScTot" index="5" value="6"/>
    <arrayval field="cCustScTot" index="6" value="7"/>
    <arrayval field="cCustScTot" index="7" value="7"/>
    <arrayval field="cCustScTot" index="8" value="8"/>
    <arrayval field="cCustScTot" index="9" value="8"/>
    <arrayval field="cCustScTot" index="10" value="9"/>
    <arrayval field="cCustScTot" index="11" value="9"/>
    <arrayval field="cCustScTot" index="12" value="10"/>
    <arrayval field="cCustScTot" index="13" value="10"/>
    <arrayval field="cCustScTot" index="14" value="11"/>
    <arrayval field="cCustScTot" index="15" value="11"/>
    <arrayval field="cCustScTot" index="16" value="12"/>
    <arrayval field="cCustScTot" index="17" value="12"/>
    <arrayval field="cCustScTot" index="18" value="13"/>
    <arrayval field="cCustScTot" index="19" value="13"/>
    <arrayval field="cBonFtTot" index="4" value="1"/>
    <arrayval field="cBonFtTot" index="8" value="2"/>
    <arrayval field="cBonFtTot" index="12" value="3"/>
    <arrayval field="cBonFtTot" index="16" value="4"/>
    <usesource source="ToB"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="kBalance"/>
    <tag group="ClassSkill" tag="kClimb"/>
    <tag group="ClassSkill" tag="kConcent"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kIntim"/>
    <tag group="ClassSkill" tag="kJump"/>
    <tag group="ClassSkill" tag="kKnowHist"/>
    <tag group="ClassSkill" tag="kKnowLocal"/>
    <tag group="ClassSkill" tag="kMartLore"/>
    <tag group="ClassSkill" tag="kSwim"/>
    <tag group="ClassSkill" tag="kTumble"/>
    <tag group="Classes" tag="Warblade" name="Warblade"/>
    <tag group="cAttack" tag="Good"/>
    <tag group="cFort" tag="Good"/>
    <tag group="AllowCust" tag="StoDra"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="AllowCust" tag="IrnHrt" name="Iron Heart"/>
    <tag group="AllowCust" tag="DiaMnd"/>
    <tag group="psiClDisc" tag="None"/>
    <tag group="AllowCust" tag="TgrClw"/>
    <tag group="AllowCust" tag="WhtRvn"/>
    <tag group="AgeColumn" tag="1"/>
    <tag group="fInclude" tag="fAcrobatic"/>
    <tag group="fInclude" tag="fAgile"/>
    <tag group="fInclude" tag="fAthletic"/>
    <tag group="fInclude" tag="fBlindFgt"/>
    <tag group="fInclude" tag="fComRef"/>
    <tag group="fInclude" tag="fImpInit"/>
    <tag group="fInclude" tag="fIronWill"/>
    <tag group="fInclude" tag="fLightRef"/>
    <tag group="fInclude" tag="fQuickDraw"/>
    <tag group="fInclude" tag="fRun"/>
    <tag group="fInclude" tag="fBladMedi"/>
    <tag group="fInclude" tag="fIrnhrtAur"/>
    <tag group="fInclude" tag="fStonePowe"/>
    <tag group="fInclude" tag="fTgrBlood"/>
    <tag group="fInclude" tag="fUnnrvCalm"/>
    <tag group="fInclude" tag="fWhtRvnDef"/>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="cWarBatCun"></bootstrap>
    <bootstrap thing="cWarBatSki"></bootstrap>
    <bootstrap thing="cWarImpUnc"></bootstrap>
    <bootstrap thing="cWarBatMas"></bootstrap>
    <bootstrap thing="cWarStaMas"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="cWarBatCla"></bootstrap>
    <bootstrap thing="cWarWpnApt"></bootstrap>
    <bootstrap thing="cWarUncann"></bootstrap>
    <bootstrap thing="cWarBatArd"></bootstrap>
    <eval phase="Render" priority="15000"><![CDATA[foreach pick in hero from Custom where "CustTaken.cHelpWbd"
 if (eachpick.field[hIsOn1].value = 0) then
  perform eachpick.delete[Helper.ShowSpec]
 endif
nexteach]]></eval>
    <evalrule phase="PostLevel" priority="10001" message="Too many active stances!"><![CDATA[if (#levelcount[Warblade] = 20) then
 validif (hero.tagcount[User.ToBStance] <= 2)
else
 validif (hero.tagcount[User.ToBStance] <= 1)
endif]]></evalrule>
    </thing>
  <thing id="cWarblade" name="Warblade" description="{i}&#147;I was born for war. I have the heart of a lion, the swiftness of an eagle, and the strength of a dragon! In battle I find purpose, in conflict perfection, and in victory exaltation. The gods themselves envy my hour of glory.&#148;{/i}\n                                               &#151;Arzimon, a warblade\n\nThe warblade was born for conflict. Swift, strong, enduring, and utterly confident in his martial skills, he seeks to test himself against worthy foes. Battle is beautiful to him&#151;a perfect moment in which life hangs suspended on the bright edge of a sword. Sheer combat skill is important to a warblade, so he trains intensely with his chosen weapons. But even more important are his athleticism, endurance, daring, recklessness, and joy in the hour of danger. Warblades, often called sword princes, live for the chance to test themselves in battle&#151;the stronger the foe, the greater the glory once an enemy is defeated." compset="ClassLevel" maxlimit="20">
    <usesource source="ToB"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpWbd"></bootstrap>
    <link linkage="helper" thing="cHelpWbd"/>
    </thing>
  <thing id="sDesWnd011" name="Blistering Flourish" description="{b}Desert Wind 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} 30-ft.-radius burst centered on you\n{b}Duration:{/b} 1 minute\n{b}Saving Throw:{/b} Fortitude negates\n\n{i}Your weapon bursts into flames as you twirl it over your head. With a flourish, you cause the fire to explode with a blinding flash.{/i}\n\nWhen you use this strike, you generate a burst of brilliant light. Any creature other than you caught in this maneuver&#146;s area must make a Fortitude save (DC 11 + your Wis modifier) or be dazzled for 1 minute.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Dazzle creatures around you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="5000" index="2"><![CDATA[var DC as number

DC = 11 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    </thing>
  <thing id="cDesWnd012" name="Burning Blade" description="{b}Desert Wind 1{/b} (Boost) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\n{i}Your blade bursts into flame as it sweeps toward your foe in an elegant arc.{/i}\n\nA subtle yet precise twisting of your blade unlocks the power of flame. When you initiate this maneuver, fire trails from your melee weapon. For the rest of your turn, your melee attacks deal an extra 1d6 points of fire damage + 1 point per initiator level.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Deal 1d6 fire + 1/initiator level." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cDesWnd013" name="Distracting Ember" description="{b}Desert Wind 1{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 30 ft.\n{b}Effect:{/b} One summoned fire elemental\n{b}Duration:{/b} End of turn\n\n{i}A wave of heat sweeps over the area, forms a small dust funnel, and ignites into flame next to your foe.{/i}\n\nThis boost allows you to conjure a Small fire elemental (MM 99) to threaten your enemy, providing you or an ally with the benefit of a flanking position. You can use this ability to place the elemental in any space within range. The elemental remains until the end of your current turn. It threatens all creatures within its reach. It takes no actions or attacks of opportunity during your turn.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Fire elemental appears, flanks enemy." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cDesWnd014" name="Flame&apos;s Blessing" description="{b}Desert Wind 1{/b} (Stance) [Fire]\n\n{b}Initiation Action{/b}: 1 swift action\n{b}Range{/b}: Personal\n{b}Target{/b}: You\n{b}Duration{/b}: Stance\n\n{i}Fire is not your enemy, and it does not harm you.{/i}\n\nYou gain some resistance to fire as long as you remain in this stance. The amount of resistance is determined by your ranks in Tumble. If you have 19 or more ranks in Tumble, you gain immunity to fire while you are in this stance.\n\nThis stance is a supernatural ability.\n\n{b}Tumble Ranks / Fire Resistance{/b}\n4&#150;8 / 5\n9&#150;13 / 10\n14&#150;18 / 20\n19+ / Immunity" compset="CustomSpec" summary="Stance - Gain fire resistance based on Tumble ranks." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <bootstrap thing="xImmFire">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[doneif (field[hIsOn1].value = 0)
 perform hero.assign[User.ToBStance]

 if (hero.child[kTumble].field[kUserRanks].value < 19) then
  perform hero.child[xImmFire].delete[Helper.ShowSpec]
 endif

 if (hero.child[kTumble].field[kUserRanks].value >= 19) then
  elseif (hero.child[kTumble].field[kUserRanks].value >= 14) then
   #applyresist[xDamRsFire,20]
  elseif (hero.child[kTumble].field[kUserRanks].value >= 9) then
   #applyresist[xDamRsFire,10]
  elseif (hero.child[kTumble].field[kUserRanks].value >= 4) then
   #applyresist[xDamRsFire,5]
 endif]]></eval>
    </thing>
  <thing id="cDstWnd015" name="Wind Stride" description="{b}Desert Wind 1{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\nA warm breeze swirls about you as you move speedily away.\n\nThe desert wind envelops you and carries you across the battlefield, giving you a burst of speed to move around and through your enemies. Until the end of your turn, you gain a +10-foot enhancement bonus to your land speed." compset="CustomSpec" summary="Boost - +10-ft. bonus to speed." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDevSpi012" name="Iron Guard&apos;s Glare" description="{b}Devoted Spirit 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}With a quick snarl and a glare that would stop a charging barbarian in his tracks, you spoil an opponent&#146;s attack. Rather than strike his original target, your enemy turns his attention toward you.{/i}\n\nWhile you are in this stance, any opponent that you threaten takes a &#150;4 penalty on attack rolls against your allies. This penalty does not apply to attacks made against you. Enemies you threaten become aware of the consequences of the stance." compset="CustomSpec" summary="Stance - Enemies take &#150;4 penalty on attacks against your allies." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cDevSpi013" name="Martial Spirit" description="{b}Devoted Spirit 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}As you cleave through your foes, each ferocious attack you make lends vigor and strength to you and your allies.{/i}\n\nWhile you are in this stance, you or an ally within 30 feet heals 2 points of damage each time you make a successful melee attack. This healing represents the vigor, drive, and toughness you inspire in others. Your connection to the divine causes such inspiration to have a real, tangible effect on your allies&#146; health.\n\nEach time you hit an opponent in melee, you can choose a different recipient within range to receive this healing." compset="CustomSpec" summary="Stance - Heal 2 hit points with each successful attack." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cDevSpi014" name="Vanguard Strike" description="{b}Devoted Spirit 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You batter aside your foes defenses with a vicious, overwhelming attack, leaving him vulnerable to your allies&#146; blows.{/i}\n\nAs part of this maneuver, you make a melee attack against an opponent you threaten. If this attack hits, all your allies gain a +4 bonus on ranged and melee attacks against that target until the start of your next turn." compset="CustomSpec" summary="Strike - Allies gain +4 bonus on attacks against target." uniqueness="useronce">
    <fieldval field="hName1" value="readied"/>
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="DevSpi" name="Devoted Spirit"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cDiaMnd011" name="Moment of Perfect Mind" description="{b}Diamond Mind 1{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your mental focus and martial study have rendered your will into an unbreakable iron wall. When someone targets you with a spell that seeks to erode your willpower, you steel yourself against the attack.{/i}\n\nBetween your devoted study, iron will, and supreme focus, you have learned to resist attempts to subvert your willpower. When you feel such an effect try to cloud your mind, you can draw on untapped reserves of energy to counter the attempt.\n\nYou can use this maneuver any time you would be required to make a Will save. Make a Concentration check instead of the Will save and use the result of that check to determine the save&#146;s success. You must use this maneuver before you attempt the Will save. A result of a natural 1 on your Concentration check is not an automatic failure." compset="CustomSpec" summary="Counter - Use Concentration check in place of Will save." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd" name="Diamond Mind"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cDiaMnd012" name="Sapphire Nightmare Blade" description="{b}Diamond Mind 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your study your enemy for a brief moment, watching his defensive maneuvers and making a strike timed to take advantage of a lull in his vigilance.{/i}\n\nThe sapphire nightmare blade is one of the most basic, but important, maneuvers that a Diamond Mind adept studies. It illustrates that a keen mind can pierce even the toughest defenses.\n\nYou attempt a Concentration check as part of this maneuver, using the target creature&#146;s AC as the DC of the check. You then make a single melee attack against your target. The attack is also part of this maneuver. If your Concentration check succeeds, the target is flat-footed against your attack, and you deal an extra 1d6 points of damage. If your check fails, your attack is made with a &#150;2 penalty and deals normal damage." compset="CustomSpec" summary="Strike - Opponent flat-footed, +1d6 damage with Concentration check." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd" name="Diamond Mind"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cDiaMnd013" name="Stance of Clarity" description="{b}Diamond Mind 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You focus your efforts on a single opponent, studying his moves and preparing an attack. Your other opponents fade from sight as your mind locks onto your target.{/i}\n\nThis stance allows you to focus on a single opponent to the exclusion of all others. You read your foe&#146;s fighting stance, his favored attacks, and the methods he used to train. By combining these factors into a single analysis of his abilities, you see how to foil his attacks.\n\nWhile you are in this stance, you must choose a single opponent as your target at the start of your turn. You gain a +2 insight bonus to AC against that foe until you change the target of this stance. You take a &#150;2 penalty to AC against all other opponents while using stance of clarity." compset="CustomSpec" summary="Stance - Gain +2 AC against one foe, &#150;2 against all others." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cIrnHrt011" name="Punishing Stance" description="{b}Iron Heart 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You chop down violently with your weapon, lending extra force to your blows. These attacks come at a cost, as your enemies slash at your undefended legs and flanks.{/i}\n\nYou hold your weapon overhead, allowing you to chop down with superior force. However, this fighting stance leaves you vulnerable to an opponent&#146;s attacks. Only an initiate of the Iron Heart tradition can manage the perilous balance between trading attack power for defense. A lesser warrior would leave himself nearly helpless to resist an opponent&#146;s attacks.\n\nWhile you are in this stance, you deal an extra 1d6 points of damage with all melee attacks. You also take a &#150;2 penalty to AC, because this fighting stance emphasizes power over a defensive posture." compset="CustomSpec" summary="Stance - Attacks deal +1d6 damage, but you have &#150;2 to AC." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="IrnHrt" name="Iron Heart"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]

  hero.child[ArmorClass].field[Penalty].value -= 2</eval>
    </thing>
  <thing id="cIrnHrt012" name="Steel Wind" description="{b}Iron Heart 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} Two creatures\n\n{i}You swing your weapon in a broad, deadly arc, striking two foes with a single, mighty blow.{/i}\n\nThrough a combination of sheer power and unmatched talent, you make an attack that injures multiple opponents. As you initiate this strike, you make two melee attacks, each against a different foe that you threaten. Resolve each attack separately." compset="CustomSpec" summary="Strike - Attack two opponents." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cIrnHrt013" name="Steely Strike" description="{b}Iron Heart 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round; see text\n\n{i}You focus yourself for a single, accurate attack, shrugging off your opponent&#146;s blows and ignoring the need for defense as you make your assault.{/i}\n\nThe Iron Heart discipline teaches focus, allowing you to engage and defeat one opponent at a time. Your other enemies mean nothing to you as you press your attack.\n\nYou make a single melee attack as part of this strike. You gain a +4 bonus on the attack roll. All opponents other than the one you attacked gain a +4 bonus on attack rolls against you for 1 round." compset="CustomSpec" summary="Strike - +4 bonus on one attack, enemies gain +4 bonus on attacks against you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cSetSun011" name="Counter Charge" description="{b}Setting Sun 1{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}With a quick sidestep, you send a charging opponent sprawling.{/i}\n\nWith this counter, you can attempt to redirect a creature that intends to make a charge attack against you. Immediately before the creature makes its charge attack, make your choice of an opposed Strength or Dexterity check against it. The target makes its check using the same ability you chose for your check.\n\nIf you are of a larger size category than the attacking creature, you use your superior bulk to redirect your foe and gain a +4 bonus on your Strength check (if you opt for a Strength check). If you are of a smaller size category, you use leverage, misdirection, and trickery to gain a +4 bonus on your Dexterity check (if you use that option).\n\nIf you succeed on the Strength or Dexterity check, the creature does not get to attack you. You can then move it up to 2 squares in a direction of your choice away from you.\n\nIf you fail the Strength or Dexterity check, the creature gains a +2 bonus on its charge attack, in addition to the normal +2 bonus from taking the charge attack action." compset="CustomSpec" summary="Counter - Ruin charge attack, force charging foe to move away from you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun" name="Setting Sun"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cSetSun012" name="Mighty Throw" description="{b}Setting Sun 1{/b} (Strike)\n\n{b}Initiation Action:{/b}  1 standard action\n{b}Range:{/b}  Touch\n{b}Target:{/b}  Creature touched\n\n{i}You use superior leverage and your Setting Sun training to send an opponent tumbling to the ground.{/i}\n\nAs part of this maneuver, you must succeed on a melee touch attack against your foe. Resolve the throw as a trip attempt (PH 158), but you do not provoke attacks of opportunity, and your opponent cannot try to trip you if you lose the opposed check. You can use your Dexterity or Strength modifier, whichever is higher. You gain a +4 bonus on the ability check.\n\nIf you succeed in tripping your foe, you throw it up to 10 feet away from you. The target falls prone in the destination space. You choose where it lands. You must place the target in an empty space. If you lack the distance to throw your target into a clear space, it falls prone in its current space.\n\nAn enemy you throw with this maneuver does not provoke attacks of opportunity for passing through enemies&#146; threatened areas as part of the throw, and you can throw an enemy through occupied squares." compset="CustomSpec" summary="Strike - Grab foe, throw him up to 10 ft." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun" name="Setting Sun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cSetSun013" name="Step of the Wind" description="{b}Setting Sun 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You walk across rubble and other broken terrain with deceptive ease, allowing you to take advantage of your opponents as they struggle to move at full speed.{/i}\n\nYou are so closely attuned to your environment that you easily pick out steady spots in rough terrain. While others struggle to move over broken ground, you slip across it with ease. When you fight on rough ground, you turn the uneven footing into an advantage. By gauging how an opponent distributes his weight, you strike at just the right moment and in the precise spot needed to send him tumbling to the ground.\n\nWhile you are in this stance, you ignore penalties to speed, movement, or skill checks associated with movement (such as Tumble, Jump, and Climb checks) incurred by moving through difficult terrain. If you attack an opponent standing on difficult terrain while you are in this stance, and if that foe takes a movement penalty for moving through difficult terrain, you gain a +2 bonus on attack rolls and a +4 bonus on Strength or Dexterity checks made as part of a bull rush or trip attempt against that enemy. You gain this bonus on checks made to either accomplish or resist a bull rush or trip." compset="CustomSpec" summary="Stance - Ignore difficult terrain, gain bonus against foes in such terrain." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cShaHnd011" name="Child of Shadow" description="{b}Shadow Hand 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}As you move, shadows flutter and swarm around you. Even under the bright desert sun, you are diffi cult to spot as long as you remain in motion.{/i}\n\nAs an initiate of the Shadow Hand school, you learn to channel and control dark, shadowy energies. This energy flows around you like a concealing robe, hiding you from your opponents as they attempt to strike you.\n\nIf you move at least 10 feet during your turn, you gain concealment against all melee and ranged attacks until the start of your next turn. You also gain the standard benefits of concealment, but you cannot use this stance to hide in plain sight; you must still use some other terrain feature that normally allows you to use the Hide skill. The fluttering shadows make it difficult to specifically target you, but your enemies are aware of your position.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Stance - You gain concealment as long as you move." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="ShaHnd" name="Shadow Hand"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cShaHnd013" name="Island of Blades" description="{b}Shadow Hand 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You cloak yourself in a swirling nimbus of shadow energy. These shadows spin and flow around you, preventing any creature near you from being able to anticipate your attacks.{/i}\n\nYour turn your enemies&#146; strengths against them, improving your combat ability as well as that of an ally. When you and a comrade move to attack an opponent, you time your attacks and position yourself to frustrate your opponent&#146;s defenses.\n\nIf both you and an ally are adjacent to the same creature, the two of you gain the benefit for flanking that opponent. You can gain this benefi t against multiple opponents at the same time, as can your allies. If both you and an ally are adjacent to the same two creatures, the two of you gain the benefit of flanking against both creatures." compset="CustomSpec" summary="Stance - You and allies flank all adjacent foes." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="ShaHnd" name="Shadow Hand"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cShaHnd012" name="Clinging Shadow Strike" description="{b}Shadow Hand 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}Your weapon transforms into solid darkness. When it strikes home, it discharges in a swirling orb of shadow that engulfs your foe&#146;s eyes.{/i}\n\nAs part of this maneuver, you make a single melee attack. If it hits, you deal an extra 1d6 points of damage, and your opponent must make a successful Fortitude save (DC 11 + your Wis modifier) or suffer a 20% miss chance on all melee and ranged attacks for 1 round. A successful save negates the miss chance, but not the extra damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Foe suffers 20% miss chance on attacks." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 11 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    </thing>
  <thing id="cShaHnd014" name="Shadow Blade Technique" description="{b}Shadow Hand 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You weave your weapon in an elaborate pattern, creating an illusory double that glows with white energy. As you make your attack, both your true weapon and the illusion slash at your foe.{/i}\n\nThis maneuver allows you to create a mystical double of your weapon. As you attack, your foe must decide which weapon to defend against. In most cases, the illusory weapon distracts your foe and allows your true attack to hit. In some cases, both attacks strike home. In this case, the shadow blade discharges its magic and imbues your attack with cold energy.\n\nAs part of this maneuver, you make a single melee attack against an opponent. Unlike on a normal attack, you roll 2d20 and select which of the two die results to use. If you use the higher die result, resolve your attack as normal. (Your mystic double misses, but your true attack might hit.) If you use the lower die result, or if both die results are the same, your attack deals an extra 1d6 points of cold damage as both the mystic double&#146;s attack and your true weapon strike home.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Roll two attacks, use lower result to deal bonus cold damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cStoDra012" name="Stone Bones" description="{b}Stone Dragon 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} 1 round\n\n{i}You focus your energy to enhance your defenses, drawing on the power of your weapon&#146;s impact with a foe to toughen yourself against a counterattack.{/i}\n\nThe Stone Dragon tradition teaches its disciples to shrug off attacks through a combination of mental focus, pure toughness, and resilience. When you make a successful melee attack, you attune your mind and body to such an incredible extent that only the sharpest weapons can injure you. Lesser armaments cause mere bruises and minor cuts.\n\nWhen you use this maneuver, you make a single melee attack. If this attack hits, you gain damage reduction 5/adamantine for 1 round." compset="CustomSpec" summary="Strike - Gain DR 5/adamantine." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra" name="Stone Dragon"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cStoDra013" name="Stonefoot Stance" description="{b}Stone Dragon 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You \n{b}Duration:{/b} Stance \n\n{i}You crouch and set your feet flat on the ground, drawing the resilience of the earth into your body.{/i}\n\nThe students of the Stone Dragon discipline model their defenses after the earth itself. The wind might batter the mountain, the river might cut through the plains, but in the end the stone and rock shrug off such assaults.\n\nWhile you are in this stance, you gain a +2 bonus on Strength checks and a +2 bonus to AC against creatures of a size category larger than yours.\n\nThis stance immediately ends if you move more than 5 feet for any reason, such as from a bull rush attack, a {i}telekinesis{/i} spell, and so forth." compset="CustomSpec" summary="Stance - +2 bonus on Strength checks, +2 bonus to AC against larger foes." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    </thing>
  <thing id="cTgrClw011" name="Blood in the Water" description="{b}Tiger Claw 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: Stance\n\n{i}The smell of blood drives you into a fury. As you slash into your foe, each fresh wound you inflict spurs you onward.{/i}\n\nWhile you are in this stance, you whip yourself into a terrible rage. When you score a critical hit against an opponent, you enter a near frenzied state from the sight and smell of blood. You gain a +1 bonus on attack rolls and damage rolls. Because this is an untyped bonus, it stacks with each successful critical hit you score.\n\nIf you go more than 1 minute without achieving a critical hit, you no longer gain the benefit of the stance." compset="CustomSpec" summary="Stance - Gain +1 bonus on attacks and damage for each critical hit." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="TgrClw" name="Tiger Claw"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw012" name="Hunter&apos;s Sense" description="{b}Tiger Claw 1{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: Stance\n\n{i}You sniff at the air like a hunting animal. After you focus your mind, an array of scents that normally eludes your awareness become clear to you.{/i}\n\nYour mastery of the Tiger Claw discipline allows you to become attuned to the feral side of your personality. On a fundamental level, you begin to think more like a wild beast and less like a civilized creature. Your enemies are prey to be hunted down and slain. Your allies are packmates. This shift in view spreads to your physical senses.\n\nAs long as you are in this stance, you gain the scent special ability (MM 314)." compset="CustomSpec" summary="Stance - Gain scent." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="TgrClw" name="Tiger Claw"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xScent2">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw013" name="Sudden Leap" description="{b}Tiger Claw 1{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}You leap to a new position in the blink of an eye, leaving your opponents baffled.{/i}\n\nYou can make a Jump check as a swift action and move the distance determined by your check result. You provoke attacks of opportunity with this movement, and you must move in a straight line. As with any movement, you can attempt a Tumble check to avoid any attacks you provoke with this sudden leap. You can&#146;t move through enemies, unless you succeed on the appropriate Tumble check." compset="CustomSpec" summary="Boost - Jump as a swift action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw014" name="Wolf Fang Strike" description="{b}Tiger Claw 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You lash out in a blur of movement with two weapons, hacking into your foe with a combination of feral strength and speed.{/i}\n\nYou tap into the speed and strength embodied within your feral spirit. You must fight with two weapons to use this maneuver. If you carry only one weapon, you can choose to make an unarmed strike with your off hand (as an unarmed attack) if you so wish. As part of this maneuver, you make an attack with both weapons you wield against one opponent. Both attacks must target the same creature, and you take a &#150;2 penalty on each attack roll. If your first attack drops your foe to &#150;1 hit points or fewer, you cannot make a second attack." compset="CustomSpec" summary="Strike - Attack with two weapons." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cWhtRvn012" name="Douse the Flames" description="{b}White Raven 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}You strike your enemy with a resounding blow, capturing his attention. As he turns to look, you let loose with a string of oaths, challenges, and taunts that force him to focus his attention on you.{/i}\n\nAs a White Raven adept, you are as much a tactician as you are a war leader. You learn to create openings for your allies to maximize the teamwork and esprit de corps that you foster. You know that for a group to succeed, it must work together, and that individual glory must be set aside so that the group can achieve victory.\n\nAs part of this maneuver, you make a melee attack against a single target you threaten. If your attack hits, you deal normal melee damage, and the target creature can&#146;t make attacks of opportunity for 1 round. The opponent still threatens its normal area; it simply cannot make attacks of opportunity." compset="CustomSpec" summary="Strike - Target cannot make attacks of opportunity for 1 round." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cWhtRvn013" name="Leading the Attack" description="{b}White Raven 1{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}You boldly strike at your enemy. As you attack, you shout a war cry to demonstrate that victory is at hand. This attack inspires nearby allies to join the fray with renewed vigor.{/i}\n\nWhen you make an attack, your allies take heart in your example and fight with renewed purpose. By stoking the fire of battle in your allies&#146; hearts, you inspire them to greater heroics.\n\nAs part of this maneuver, you make a single melee attack. If your attack is successful, your allies gain a +4 morale bonus on attack rolls for 1 round against the creature you hit." compset="CustomSpec" summary="Strike - Allies gain +4 bonus on attacks against foe you strike." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    </thing>
  <thing id="cDesWnd021" name="Burning Brand" description="{b}Desert Wind 2{/b} (Boost) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b}You\n{b}Duration:{/b} End of turn\n\n{i}Your weapon transforms into a roaring gout of flame. As you swing your burning blade, it stretches out beyond your normal reach to scorch your foes.{/i}\n\nWhen you initiate this maneuver, your weapon turns into a burning brand for the rest of your turn. The brand increases your reach by 5 feet, and your melee attacks made with the brand deal fire damage equal to your normal melee damage. You still gain all the normal benefits from a high Strength score, feats, and other effects that increase your melee damage. For example, an attack with a longsword that normally deals 1d8+4 points of slashing damage would instead deal 1d8+4 points of fire damage. You otherwise attack with your weapon as normal.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Gain +5-ft. reach, deal fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cDesWnd022" name="Fire Riposte" description="{b}Desert Wind 2{/b} (Counter) [Fire]\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}You focus the pain from a wound you have just suffered into a fiery manifestation of revenge.{/i}\n\nWhen a creature successfully strikes you with a melee or natural weapon, you can use this maneuver to give yourself the ability to make an immediate melee touch attack. If your attack hits, your target takes 4d6 points of fire damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Counter - Counter foe&#146;s attack with fiery touch that deals 4d6 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd023" name="Flashing Sun" description="{b}Desert Wind 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Almost a blur of acceleration, your shining blade flashes as you attack with impossible speed.{/i}\n\nFlashing sun allows you to make an additional melee attack during this round. As part of this maneuver, you take a full attack action and make your normal melee attacks. However, you can make one additional attack this round at your highest attack bonus. All the attacks you make this round, including the extra attack granted by this maneuver, are made with a &#150;2 penalty." compset="CustomSpec" summary="Strike - Gain extra attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd024" name="Hatchling&apos;s Flame" description="{b}Desert Wind 2{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} Cone\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}You focus a burning aura of energy at the end of your blade. It forms a seething sphere that, after a moment, bursts into a torrent of energy.{/i}\n\nThe Desert Wind discipline teaches its students how to unleash their ki as burning energy. This maneuver allows you to create a wave of fi re that sweeps over your enemies. When you initiate this maneuver, you blast forth a cone of flame that deals 2d6 points of fire damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Cone deals 2d6 fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi021" name="Foehammer" description="{b}Devoted Spirit 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your throw yourself behind your attack, lending your blow such great weight and force that you leave injuries that even magical defenses cannot mend.{/i}\n\nYour devotion to your cause gives you boundless energy that allows you to smash through supernatural defenses. When you land an attack, you hit with such force that damage reduction offers little resistance against you.\n\nWhen you use this maneuver, you make a melee attack against a single foe. This attack automatically overcomes the opponent&#146;s damage reduction and deals an extra 2d6 points of damage." compset="CustomSpec" summary="Strike - Overcome foe&#146;s DR, deal +2d6 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cDevSpi022" name="Shield Block" description="{b}Devoted Spirit 2{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}With a heroic burst of effort, you thrust your shield between your defenseless ally and your enemy.{/i}\n\nAs an immediate action, you can grant an AC bonus to an adjacent ally equal to your shield&#146;s AC bonus + 4. You apply this bonus in response to a single melee or ranged attack that targets your ally. You can initiate this maneuver after an opponent makes his attack roll, but you must do so before you know whether the attack was a success or a failure." compset="CustomSpec" summary="Counter - Grant shield bonus + 4 as AC bonus to ally." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="11000" index="2"><![CDATA[var bonus as number

bonus = 4 + hero.child[ArmorClass].field[tACShield].value

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cDiaMnd021" name="Action Before Thought" description="{b}Diamond Mind 2{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your supreme sense of the battlefield, unmatched martial training, and simple, intuitive sense of danger allow you to act faster than the speed of thought. When a spell or other attack strikes you, you move a split second before you are even aware of the threat.{/i}\n\nYour mind is a keenly honed weapon. Other warriors rely on their physical talents. You know that a mix of mental acuity and martial training, along with a strong sword arm, is an unbeatable combination. This maneuver epitomizes your approach. Your mind, rather than your raw reflexes, dictates your defenses.\n\nYou can use this maneuver any time you would be required to make a Reflex save. Roll a Concentration check instead of the Reflex save and use the result of that check to determine the save&#146;s success. You must use this maneuver before you roll the Refl ex save. A result of a natural 1 on your Concentration check is not an automatic failure." compset="CustomSpec" summary="Counter - Use Concentration check in place of Reflex save." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cDiaMnd022" name="Emerald Razor" description="{b}Diamond Mind 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You stare at your enemy, studying his every move. You mentally probe his defenses in search of a weakness. A lesser warrior could spent long minutes pondering this problem, but you see an opening and seize upon it in an instant.{/i}\n\nYour understanding of combat, your keenly honed mind, and your capability to read your opponents make you a deadly combatant. When you focus your mind, even the most elusive opponent becomes an easy target. \n\nAs part of this maneuver, make a single melee attack against an opponent. This is a touch attack rather than a standard melee attack. If you hit, you deal normal melee damage." compset="CustomSpec" summary="Strike - Turn melee strike into touch attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Diamond Mind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt021" name="Disarming Strike" description="{b}Iron Heart 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You chop at your foe&#146;s hand, causing a grievous injury and forcing him to drop his weapon.{/i}\n\nThis maneuver allows you to combine a disarm attempt with a normal attack. You make a single melee attack as part of this strike. If this attack hits and deals damage, you can also attempt to disarm your opponent (PH 155). This disarm attempt does not provoke attacks of opportunity, nor is there any risk that your foe can disarm you." compset="CustomSpec" summary="Strike - With successful attack, attempt to disarm foe." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cIrnHrt022" name="Wall of Blades" description="{b}Iron Heart 2{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your weapon sways back and forth in your hand, ready to block incoming blows. With the speed of a thunderbolt, you clash your weapon against your foe&#146;s blade as he attempts to attack.{/i}\n\nYour weapon mastery transforms your blade into an extension of your arm, allowing you to wield it with the speed and timing needed to make a precise block.\n\nWhen an enemy makes a melee or ranged attack against you, you can initiate this counter to oppose that attack by making an attack roll with any melee weapon you are holding. Use the higher of your AC or your attack roll as your effective AC against the incoming attack. You can&#146;t use this maneuver if you are denied your Dexterity bonus to AC against your attacker. You can decide to use this ability after you learn the result of your opponent&#146;s attack." compset="CustomSpec" summary="Counter - Replace AC with attack roll result." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cSetSun021" name="Baffling Defense" description="{b}Setting Sun 2{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You crouch balanced on one foot, hands held high over your head. Your foe hesitates, unsure of how to attack you in this unlikely stance.{/i}\n\nIf your opponent strikes you on his turn, you can replace your AC with the result of a Sense Motive check as an immediate action. You must decide whether to initiate this maneuver before you know the result of your opponent&#146;s attack (but after the attack is declared). Your Sense Motive check applies to only one attack. You must be aware of the attack to which you will apply the effect of this maneuver. If you are flat-footed against the incoming attack, you cannot use this maneuver." compset="CustomSpec" summary="Counter - Use Sense Motive check to dodge attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Setting Sun maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun022" name="Clever Positioning" description="{b}Setting Sun 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Reflex partial\n\n{i}With a swift flurry of motion, you knock you foe off balance, slip into his space, and force him into the spot you just occupied.{/i}\n\nYou make a melee attack, and while your opponent is slightly off balance from your blow, you find the leverage needed to pull him into your space while moving into his space.\n\nAs part of this maneuver, you make a single melee attack against a target. If your attack hits, the target takes damage normally and must make a Reflex save (DC 12 + your Dex modifier). If this save fails, you swap positions with the target. If the target is Large or larger, you can occupy any of the squares that make up its space. The target must in turn occupy the square, or one of the squares, you previously occupied. You cannot use this maneuver if you or the target would end up sharing the same space as another creature or an impassable terrain feature, such as a wall. If your target occupies a larger space than you do, he chooses his final position according to the guidelines given above." compset="CustomSpec" summary="Strike - Swap positions with target of attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 12 + hero.child[aDEX].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xSetSunFt] <> 0) then
  DC += 1
 endif
endif

if (#hasfeat[fFalSunAtt] <> 0) then
 DC += 1
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cShaHnd021" name="Cloak of Deception" description="{b}Shadow Hand 2{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\n{i}The shadows around you seem to surge forward and engulf you. For a brief moment, they render you invisible.{/i}\n\nWhen you initiate this maneuver, you turn invisible, as the {i}greater invisibility spell{/i} (PH 245). You remain invisible until the end of your current turn.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Turn invisible until the end of your turn." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cShaHnd022" name="Drain Vitality" description="{b}Shadow Hand 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude negates\n\n{i}A faint nimbus of sickly gray shadow surrounds your weapon. When you attack, this shadowy aura flows into the wound you inflict, sapping your opponent&#146;s strength, vitality, and energy.{/i}\n\nAs part of this maneuver, make a single melee attack. If this attack hits, you deal normal melee damage and the target must make a successful Fortitude save (DC 12 + your Wis modifier) or take 2 points of Constitution damage. A successful save negates the Constitution damage but not the normal melee damage." compset="CustomSpec" summary="Strike - Attack deals 2 points of Constitution damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 12 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One Shadow Hand maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd023" name="Shadow Jaunt" description="{b}Shadow Hand 2{/b} [Teleportation]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 50 ft.\n{b}Target:{/b} You\n\n{i}A cloud of shadow energy engulfs you, spins into a tiny mote, and disappears. A moment later, this shadowy cloud appears across the battlefield and expels you from it.{/i}\n\nAs part of this maneuver, you disappear in a cloud of darkness and teleport up to 50 feet away. You must have line of sight and line of effect to your destination. If you attempt to use this maneuver to move into an occupied space, you do not move, and the maneuver is expended but has no effect." compset="CustomSpec" summary="Teleport 50 ft. through shadows as standard action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cStoDra021" name="Mountain Hammer" description="{b}Stone Dragon 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature or unattended object\n\n{i}Like a falling avalanche, you strike with the weight and fury of the mountain.{/i}\n\nAs part of this maneuver, you make a single melee attack. This attack deals an extra 2d6 points of damage and automatically overcomes damage reduction and hardness." compset="CustomSpec" summary="Strike - Deal +2d6 damage, overcome DR and hardness." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cStoDra022" name="Stone Vise" description="{b}Stone Dragon 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} Creature struck\n{b}Duration:{/b} 1 round\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}You make a crushing blow that staggers your opponent, leaving it unable to move.{/i}\n\nBy making a powerful, focused blow, you leave your opponent unable to move. The crushing weight of your blow forces it to waste a precious moment regaining its footing.\n\nAs part of this maneuver, you make a single melee attack. This attack deals an extra 1d6 points of damage. If the creature hit is standing on the ground, your attack also drops the target&#146;s speed to 0 feet (for all movement capabilities) for 1 round. It can otherwise act normally. A successful Fortitude save (DC 12 + your Str modifier) by the creature struck negates the immobilization, but not the extra damage.\n\nThis maneuver functions only against opponents standing on the ground. A flying creature or a levitating target need not save against the speed reduction effect, but still takes the extra damage." compset="CustomSpec" summary="Strike - Deal +1d6 damage, attack immobilizes creature." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 12 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cTgrClw021" name="Claw at the Moon" description="{b}Tiger Claw 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature \n\n{i}You leap into the air, catching your foe off guard as you slice down into him.{/i}\n\nYou learn to leap into the air and slice at a foe&#146;s vulnerable points. Like a great cat, you spring into the air and attack your foe from an unexpected direction.\n\nAs part of this maneuver, you attempt a Jump check to leap into the air and make a melee attack that targets your foe&#146;s upper body, face, and neck. The Jump check&#146;s DC is equal to your target&#146;s AC. If this check succeeds, your attack deals an extra 2d6 points of damage. If this attack threatens a critical hit, you gain a +4 bonus on your roll to confirm the critical hit. \n\nIf your check fails, you can still attack, but you do not deal extra damage or gain a bonus on a roll to confi rm a critical hit. The maneuver is still considered expended." compset="CustomSpec" summary="Strike - Make Jump check, deal +2d6 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cTgrClw022" name="Rabid Wolf Strike" description="{b}Tiger Claw 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You foam at the mouth and scream in rage as you make a powerful attack against your enemy. You set aside all thoughts of defense as you lunge forward.{/i}\n\nFor a split-second, you unleash the barely controlled, primal rage that surges within you. As part of this maneuver, you make a single melee attack. You gain a +4 bonus on this attack roll and deal an extra 2d6 points of damage. You take a &#150;4 penalty to AC until the start of your next turn, as this wild strike sends you off balance and hinders your defenses." compset="CustomSpec" summary="Strike - +4 bonus on attack, deal +2d6 damage, &#150;4 AC for 1 round." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    </thing>
  <thing id="cWhtRvn021" name="Battle Leader&apos;s Charge" description="{b}White Raven 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You lead from the front, charging your enemies so that your allies can follow in your wake.{/i}\n\nThe White Raven discipline teaches that he who seizes the initiative also seizes victory. You have learned to lead an attack with a mighty charge, the better to disrupt the enemy and inspire your allies in battle.\n\nAs part of this maneuver, you charge an opponent. You do not provoke attacks of opportunity for moving as part of this charge. If your charge attack hits, it deals an extra 10 points of damage." compset="CustomSpec" summary="Strike - No attacks of opportunity while charging, deal +10 damage." uniqueness="useronce">
    <fieldval field="hName1" value="readied"/>
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn022" name="Tactical Strike" description="{b}White Raven 2{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your skill at arms and overwhelming power force your opponent to falter at a fatal moment. As the foe attempts to recover from your devastating strike, your allies rush in to finish what you have started.{/i}\n\nYou make a mighty attack that knocks your opponent into a defenseless position, granting your allies a moment to move into a better position. If your attack lands true, it leaves your enemy momentarily shaken by its tremendous impact.\n\nAs part of this maneuver, you make a single melee attack. If your attack hits, you deal an extra 2d6 points of damage. In addition, each ally adjacent to the target can take an immediate 5-foot step that does not provoke attacks of opportunity." compset="CustomSpec" summary="Strike - Deal +2d6 damage, adjacent allies move 5 feet." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="3rd level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 3]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd031" name="Death Mark" description="{b}Desert Wind 3{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Area:{/b} Variable spread; see text\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half; see text\n\n{i}As your weapon strikes your foe, his body convulses as waves of flame run down your blade into his body. The fire causes him to briefly glow with a brilliant internal fire before the flames erupt from his body in a terrible explosion.{/i}\n\nWhen you use the strike, you channel overwhelming fiery energy into the body of your foe. In addition to dealing normal melee damage with your attack, you cause fire to erupt from your enemy&#146;s body in a spread. The radius of the spread is determined by the size of the target creature, as indicated on the table below. All creatures in the area, including your enemy, take 6d6 points of fire damage, with a Reflex save (DC 13 + your Wis modifier) for half. This radius is centered on the creature&#146;s position.\n\nYou have immunity to the fire damage from your own death mark.\n\nThis maneuver is a supernatural ability.\n\n{b}Size{/b} / {b}Spread Radius{/b}\nSmall or smaller / 5 feet\nMedium / 10 feet\nLarge / 20 feet\nHuge / 30 feet\nGargantuan / 40 feet\nColossal / 50 feet" compset="CustomSpec" summary="Strike - Enemy takes extra fire damage and explodes in a fiery spread." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000" index="2"><![CDATA[var DC as number

DC = 13 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cDesWnd032" name="Fan the Flames" description="{b}Desert Wind 3{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Target:{/b} One creature\n\n{i}Flickering flame dances across your blade, then springs toward your target as you sweep your sword through the air.{/i}\n\nA skilled Desert Wind adept can gather flame within his weapon and hurl it through the air. When you initiate this maneuver, you launch a fist-sized ball of white-hot fire at a single opponent. If you make a successful ranged touch attack, your target takes 6d6 points of fire damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Ranged touch attack deals 6d6 fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd034" name="Zephyr Dance" description="{b}Desert Wind 3{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous; see text\n\n{i}You spin gracefully away from a foe&#146;s attack, whirling like the desert zephyr racing across the sands. Your enemy&#146;s blade barely touches your cloak as you nimbly dodge aside.{/i}\n\nYou gain a +4 dodge bonus to AC against a single attack. You can choose to use this maneuver after an opponent resolves his attack but before he determines damage." compset="CustomSpec" summary="Counter - +4 AC against single attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd033" name="Holocaust Cloak" description="{b}Desert Wind 3{/b} (Stance) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Fire trails from your blade as you spin it about, cloaking you in flames that leap out to burn those who attack you.{/i}\n\nThe flame from your weapon hangs in midair, providing you with a fiery defense against your attackers. An adjacent opponent that hits you with a melee attack while you are in this stance takes 5 points of fi redamage. Your holocaust cloak does not harm a creature using a reach weapon to attack you.\n\nThis stance is a supernatural ability." compset="CustomSpec" summary="Stance - Attackers take 5 fire damage." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi031" name="Defensive Rebuke" description="{b}Devoted Spirit 3{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} 1 round\n\n{i}You sweep your weapon in a wide, deadly arc. When your blows strike home, you send your foe tumbling back on the defensive. He must deal with you first, or leave himself open to your deadly counter.{/i}\n\nDefensive rebuke allows you to excel at controlling the battlefield around you. Your enemies must pay heed to the threat you pose. If they ignore you in favor of attacking other targets, you take advantage of their lapses with a punishing counterattack.\n\nEach enemy you strike after you initiate this maneuver becomes vulnerable to your further attacks. If such an opponent attacks anyone other than you in melee for the duration of the maneuver, that attack provokes an attack of opportunity from you (each separate attack a target makes provokes an attack of opportunity, making this boost especially lethal if you have Combat Reflexes). Enemies you strike become aware of the consequences of the maneuver." compset="CustomSpec" summary="Boost - Foes you strike must attack you or provoke attack of opportunity." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi032" name="Revitalizing Strike" description="{b}Devoted Spirit 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}As you rear back to strike your foe, an aura of divine energy surrounds you. As your attack slams home, this aura dissipates in a flash, knitting your wounds as it discharges.{/i}\n\nAs part of initiating this strike, you must make a successful melee attack against an enemy creature whose alignment has at least one component different from yours. This foe must pose a threat to you or your allies in some direct, immediate way. If your attack hits, you or an ally within 10 feet of you heals 3d6 points of damage + 1 point per initiator level (maximum +10)." compset="CustomSpec" summary="Strike - Successful attack allows you to heal 3d6 + 1/initiator level." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[var bonus as number

bonus = minimum(hero.childfound[xInitiator].field[Value].value, 15)

field[livename].text = field[name].text & " (3d6+" & bonus & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi033" name="Thicket of Blades" description="{b}Devoted Spirit 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You maintain a careful guard as you search for any gaps in your opponent&#146;s awareness. Even the slightest move provokes a stinging counter from you.{/i}\n\nWhile you are in this stance, any opponent you threaten that takes any sort of movement, including a 5-foot step, provokes an attack of opportunity from you. Your foes provoke this attack before leaving the area you threaten. Your opponents also cannot use the withdraw action (PH 143) to treat the square they start in as no longer threatened by you." compset="CustomSpec" summary="Stance - 5-ft. steps provoke attacks from you." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd031" name="Insightful Strike" description="{b}Diamond Mind 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You study your opponent and spot a weak point in her armor. With a quick, decisive strike, you take advantage of this weakness with a devastating attack.{/i}\n\nYour mind rather than your physical power allows you to deal grievous injuries to your foes. When you attack, your training and mental focus allow you to score a telling blow.\n\nAs part of this maneuver, make a melee attack. If this attack hits, you do not deal normal damage. Instead, you make a Concentration check and deal damage equal to the check result. Your Strength modifier, your weapon&#146;s magical properties (if any), and any other extra damage you normally deal do not modify this check (including extra damage from class abilities, feats, or spells)." compset="CustomSpec" summary="Strike - Use Concentration check to determine damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cDiaMnd032" name="Mind Over Body" description="{b}Diamond Mind 3{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your training and mental toughness allow you to use your focus to overcome physical threats. By focusing your mind, you ignore the effect of a deadly poison or debilitating sickness.{/i}\n\nYour diligent training and intense mental focus combine to allow you to overcome physical threats with the raw power of your mind.\n\nYou can use this maneuver any time you would be required to make a Fortitude save. Make a Concentration check instead of the Fortitude save and use the result of that check to determine the save&#146;s success. You must use this maneuver before you attempt the Fortitude save. A result of a natural 1 on your Concentration check is not an automatic failure." compset="CustomSpec" summary="Counter - Use Concentration check in place of Fortitude save." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cDiaMnd033" name="Pearl of Black Doubt" description="{b}Diamond Mind 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}With every miss, your opponents become more uncertain, their doubt growing like an irritating pearl in the mouth of a helpless oyster.{/i}\n\nYou prey on your opponents&#146; fear and lack of confidence. Each failed attack against you reminds them that their skill cannot hope to match yours.\n\nWhen you enter this stance, you become more difficult to hit with each successive attack that misses you. Each time an opponent misses you with a melee attack, you gain a +2 dodge bonus to AC. This bonus lasts until the start of your next turn and is cumulative for the round. The bonus applies to any attacks made by all opponents until the beginning of your next turn." compset="CustomSpec" summary="Stance - Gain +2 AC each time foe misses you." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Diamond Mind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt031" name="Absolute Steel Stance" description="{b}Iron Heart 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You shift your weight to the back of your feet and hold your blade carefully forward at the ready. Your muscles twitch slightly as you prepare to dodge the next attack you face.{/i}\n\nThe absolute steel stance allows you to enhance your mobility and speed. You move quickly, keep a sharp eye on your enemies, and are ready to instantly sidestep any incoming attacks.\n\nWhile you are in this stance, you gain a +10-foot enhancement bonus to your speed. If you move at least 10 feet during your turn, you gain a +2 dodge bonus to AC until the beginning of your next turn." compset="CustomSpec" summary="Stance - +10-ft. bonus to speed, +2 AC with movement." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <fieldval field="hName2" value="move 10&apos;"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]

  hero.child[Speed].field[Bonus].value += 10

  if (field[hIsOn2].value <> 0) then
   hero.child[ArmorClass].field[tACDodge].value += 2
  endif]]></eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Iron Heart maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt032" name="Exorcism of Steel" description="{b}Iron Heart 3{/b} (Strike)\n\n{b}Initiation Action:{/b} Standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 minute\n{b}Saving Throw:{/b} Will half\n\n{i}You attack, striking not your foe, but his weapon, sending a shockwave up his arm that leaves him unable to strike with full force.{/i}\n\nYour mastery of the Iron Heart style has taught you much about the power within a blade, and you can use this knowledge to not only enhance your own ability but also to deprive others of that power.\n\nWhen you initiate this maneuver, you attack your opponent&#146;s weapon (PH 158). This attack does not provoke attacks of opportunity. If you succeed, your foe takes a &#150;4 penalty on melee damage rolls for 1 minute. The wielder of the weapon can attempt a Will save (DC 13 + your Str modifier) to halve this penalty.\n\nYou can use this maneuver only against manufactured weapons. You cannot use it against natural weapons." compset="CustomSpec" summary="Strike - Strike opponent&#146;s weapon, it deals -4 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 13 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xIrnHrtFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Iron Heart maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt033" name="Iron Heart Surge" description="{b}Iron Heart 3{/b}\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} See text\n\n{i}By drawing on your mental strength and physical fortitude, you break free of a debilitating state that might otherwise defeat you.{/i}\n\nYour fighting spirit, dedication, and training allow you to overcome almost anything to defeat your enemies. When you use this maneuver, select one spell, effect, or other condition currently affecting you and with a duration of 1 or more rounds. That effect ends immediately. You also surge with confidence and vengeance against your enemies, gaining a +2 morale bonus on attack rolls until the end of your next turn." compset="CustomSpec" summary="Remove effect, gain +2 morale bonus on attacks." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <fieldval field="hName2" value="surging"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[  if (field[hIsOn2].value <> 0) then
   hero.child[Attack].field[BonMorale].value += 2
  endif]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Iron Heart maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun031" name="Devastating Throw" description="{b}Setting Sun 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Touch\n{b}Target:{/b} Creature touched\n\n{i}Seizing your foe by the arm, you spin in a quick half-circle and hurl him headlong away from you.{/i}\n\nThis maneuver functions like mighty throw (page 73), except as noted here.\n\nTo set up a devastating throw, you must move at least 15 feet.\n\nAs part of this maneuver, you must succeed on a melee touch attack against your foe. You can then make a trip attempt against your enemy. You gain a +4 bonus on the ability check.\n\nIf you succeed in tripping your foe, you throw him up to 10 feet away from you. The target falls prone in the destination space and takes 2d6 points of damage. You choose where he lands. For every 5 points by which you win the opposed check, you gain an additional 5 feet of throw distance. For example, if you win by 10, you can place your foe in any space within 20 feet of you. You must place the target in an empty space. If you lack the distance to throw your target into a clear space, he falls prone in his current space." compset="CustomSpec" summary="Strike - Grab foe, throw him using leverage, strength." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Setting Sun maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun032" name="Feigned Opening" description="{b}Setting Sun 3{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You show your opponent a seemingly fatal mistake in your defenses, but easily avoid the ensuing attack and simultaneously draw your foe into overextending. As she fights to regain her balance, you make a swift counterattack.{/i}\n\nYou can use this maneuver when an opponent attempts an attack of opportunity against you. As you provoke the attack of opportunity, you position yourself in such a way as to force your opponent to throw herself off balance to strike you. Even if she succeeds in striking you, your foe might regret her attack as your allies leap in to finish her.\n\nWhen your enemy makes an attack of opportunity against you, but before you know the result of the attack, you can initiate this maneuver. If her attack misses, she provokes an attack of opportunity from you. If her attack of opportunity hits you, she provokes an attack of opportunity from any of your allies who threaten her." compset="CustomSpec" summary="Counter - As an immediate action, provoke an attack, then counter." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Setting Sun maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun033" name="Giant Killing Style" description="{b}Setting Sun 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You dart between a giant&#146;s legs, lashing at his inner ankles and other vulnerable areas while staying inside his reach where he cannot hope to parry your attacks.{/i}\n\nThe Setting Sun school teaches a fighting style that emphasizes using an opponent&#146;s strength and momentum against him. The giant killing strike epitomizes this approach. By sizing up a larger opponent and studying his fighting stance and tendencies, you aim your strikes at vulnerable points on his lower body that he cannot defend effectively. You slice at tendons on your foe&#146;s feet, smash his knees, and cut into his hamstrings.\n\nWhen you are in this stance, you gain a +2 bonus on attack rolls and a +4 bonus on damage rolls against opponents of a larger size category than yours. This bonus applies to all attacks you make for the rest of your turn." compset="CustomSpec" summary="Stance - +2 bonus on attacks and +4 bonus on damage against larger foes." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <fieldval field="hName2" value="larger opponent"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]

 if (field[hIsOn2].value <> 0) then
  foreach pick in hero from BaseWep
   eachpick.field[wAttBonus].value += 2
   eachpick.field[wDamBonus].value += 4
  nexteach
 endif]]></eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Setting Sun maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd031" name="Asassin&apos;s Stance" description="{b}Shadow Hand 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}As your foe struggles to regain his defensive posture, you line up an exacting strike that hits with superior accuracy and deadly force. {/i}\n\nA shadow cast by a gap between two armored plates or a crease in a creature&#146;s thick hide calls to your weapon, allowing you to strike with deadly accuracy against an unprepared opponent.\n\nWhile you are in this stance, you gain the sneak attack ability, if you do not already have it, which deals an extra 2d6 points of damage. If you already have the sneak attack class feature, your existing sneak attack ability deals an extra 2d6 points of damage. See the rogue class feature (PH 50) for a complete description of sneak attack." compset="CustomSpec" summary="Stance - Gain sneak attack +2d6." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xSneakAtt">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]

  hero.childfound[xSneakAtt].field[Value].value += 2</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Shadow Hand maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd032" name="Dance of the Spider" description="{b}Shadow Hand 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Black, shadowy energy covers your hands and feet, allowing you to scuttle across the walls and ceiling like a lurking spider.{/i}\n\nWhile you are in this stance, you gain a benefit similar to the spider climb spell (PH 283). You gain a climb speed of 20 feet. You do not need to make a Climb check to traverse a vertical or horizontal surface, even if you attempt to move across a ceiling. You retain your Dexterity bonus to AC while climbing, and you must have at least one hand free to support yourself while you climb. You do not take any penalties, nor do your opponents gain any bonus when attacking you, while you climb.  You cannot take a run action while climbing in this manner." compset="CustomSpec" summary="Stance - You climb walls like a spider." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xClimb">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      <assignval field="Value" value="20"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cShaHnd033" name="Shadow Garrote" description="{b}Shadow Hand 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 60 ft.\n{b}Target:{/b} One living creature\n{b}Duration:{/b} See text\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}With a subtle gesture, you carve a slice of shadow from the air around you and cast it toward your foe. It wraps around the creature&#146;s neck and squeezes the life from it.{/i}\n\nAs part of this maneuver, you create a strand of shadow that you hurl at an opponent. The strand wraps around the target&#146;s throat and chokes it. As part of this maneuver, you make a ranged touch attack against a creature within range. If your attack is successful, your opponent takes 5d6 points of damage. In addition, it must make a successful Fortitude save (DC 13 + your Wis modifier) or become flat-footed until the start of its next turn. This strike has no effect against nonliving creatures, such as constructs and undead.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Ranged touch attack deals 5d6 points of damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 13 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cShaHnd034" name="Strength Draining Strike" description="{b}Shadow Hand 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude half\n\n{i}Liquid, black energy covers your weapon. As you strike your opponent, this material flows into the wound, spreads along his veins, and leaves him weakened.{/i}\n\nAs part of this maneuver, you make a single melee attack against an opponent. In addition to dealing normal melee damage with the attack, you deal 4 points of Strength damage. A successful Fortitude save (DC 13 + your Wis modifier) halves this Strength damage, but has no effect on the normal melee damage you deal with the strike.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Your attack deals 4 points of Strength damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Shadow Hand maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra031" name="Bonecrusher" description="{b}Stone Dragon 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} See text\n{b}Save:{/b} Fortitude partial; see text\n\n{i}You deliver your attack, and your enemy&#146;s eyes jerk wide open in panic as his skeleton begins to fracture in hundreds of places.{/i}\n\nAs part of this maneuver, you make a melee attack. If your attack hits, it deals an extra 4d6 points of damage. The creature struck must succeed on a Fortitude save (DC 13 + your Str modifier) or its skeletal structure becomes massively weakened, and all rolls made to confirm a critical hit against the target gain a +10 bonus. A successful save does not negate the extra damage.\n\nThis effect lasts until the target&#146;s hit points are restored to their full normal total, whether by magical or normal healing.\n\nCreatures without a discernible anatomy or that are immune to critical hits are immune to this maneuver&#146;s special effect. The extra damage still applies against such targets." compset="CustomSpec" summary="Strike - Deal +4d6 damage, +10 bonus on attacks to confirm critical hits." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 13 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cStoDra034" name="Stone Dragon&apos;s Fury" description="{b}Stone Dragon 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} Creature or object struck\n\n{i}With a mighty war cry, you slam your weapon into a slight crack or other fault in an object. The object shudders for a moment before it collapses into broken shards.{/i}\n\nYour attunement to Stone Dragon&#146;s earth nature allows you to spot flaws in objects with uncanny precision. You use this knowledge to your advantage, allowing you to make devastating attacks against objects and constructs.\n\nAs part of this maneuver, you make a single melee attack. If your attack hits a construct or an object, you deal an extra 4d6 points of damage. You can use this strike in conjunction with the sunder special attack (PH 158) and attempt to damage held or carried objects. Against other targets, you gain no special benefit from this maneuver." compset="CustomSpec" summary="Strike - Deal +4d6 damage against objects, constructs." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Stone Dragon maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra032" name="Crushing Weight of the Mountain" description="{b}Stone Dragon 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You crush your opponent beneath you, squeezing the life out of him as you pin him to the ground.{/i}\n\nEngaging in close combat against you is, at best, a foolish prospect. Drawing on your understanding of the Stone Dragon discipline, you squeeze a foe within your grasp and force the life from him. \n\nWhile you are in this stance, you gain the ability to constrict for 2d6 points of damage + 1-1/2 times your Str bonus (if any). You can constrict an opponent that you grapple by making a successful grapple check." compset="CustomSpec" summary="Stance - Constrict for 2d6+1-1/2 times Str when grappling." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xConstrict">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <eval phase="PostAttr" priority="10000" index="3"><![CDATA[doneif (field[hIsOn1].value = 0)

  var bonus as number
  bonus = hero.child[aSTR].field[aModBonus].value * 1.5
  bonus = round(bonus, 0, -1)

  hero.child[xConstrict].field[livename].text = hero.child[xConstrict].field[name].text & " (2d6+" & bonus & ")"]]></eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Stone Dragon maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra033" name="Roots of the Mountain" description="{b}Stone Dragon 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You crouch and set your feet flat on the ground, rooting yourself to the spot you stand. Nothing can move you from this place.{/i}\n\nLike a living mountain, you choose your position on the battlefield and sink your roots into the earth. With your spot chosen on the field, you cannot be shifted from your position.\n\nWhile you are in this stance, you gain a +10 bonus on checks to resist bull rush, overrun, and trip attacks, as well as on grapple checks made to resist an opponent&#146;s grapple attempt. Any creature that attempts to move through your threatened area or the space you occupy takes a &#150;10 penalty on any Tumble checks it makes. This stance also grants you damage reduction 2/&#151;.\n\nThis stance immediately ends if you move more than 5 feet for any reason, such as from a bull rush attack, a {i}telekinesis{/i} spell, and so forth." compset="CustomSpec" summary="Stance - +10 bonus on checks against bull rush, trip, and others, and gain DR 2/&#150;." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xDamRd">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      <assignval field="Value" value="2"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    </thing>
  <thing id="cTgrClw031" name="Flesh Ripper" description="{b}Tiger Claw 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round or more; see text\n{b}Saving Throw:{/b} Fortitude negates\n\n{i}With a mixture of careful precision and animal savagery, you tear into a foe to produce jagged wounds that overwhelm him with pain.{/i}\n\nAs part of this maneuver, you make a melee attack against a single opponent. If this attack hits, the target must make a successful Fortitude save (DC 13 + your Str modifier) or take a &#150;4 penalty on attacks and to AC for 1 round. If your attack is a critical hit, these penalties last for a number of rounds equal to your weapon&#146;s critical multiplier. Your target takes normal damage from your attack regardless of the result of the save.\n\nThis maneuver functions only against creatures that are vulnerable to critical hits." compset="CustomSpec" summary="Strike - Foe&#146;s attacks and AC have -4 penalty." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 13 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw033" name="Soaring Raptor Strike" description="{b}Tiger Claw 3{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You leap into the air, catching a larger opponent by surprise as you jump over its defenses to plunge your weapon into the crown of its head.{/i}\n\nWith a carefully timed leap, you jump over the target&#146;s defenses and attack it from an unexpected angle. You can use this maneuver only against a foe of a larger size category than yours. As part of this maneuver, you make a Jump check with a DC equal to your foe&#146;s AC. If this check succeeds, you also make a melee attack as part of this maneuver. If the check fails, you cannot make this attack and the maneuver is still considered expended. You gain a +4 bonus on the attack roll and deal an extra 6d6 points of damage if your attack hits." compset="CustomSpec" summary="Strike - Attack larger foe from above with +4 bonus, deal +6d6 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw032" name="Leaping Dragon Stance" description="{b}Tiger Claw 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Even when you are trapped in tight quarters and seemingly unable to move, a leap can send you flying gracefully through the air.{/i}\n\nThe Tiger Claw discipline teaches you to assume a stance that allows you to sail through the air when jumping. You spring from the ground with an unmatched burst of speed and strength.\n\nWhile you are in this stance, you gain a +10-foot enhancement bonus on Jump checks. In addition, any jumps you make while in this stance are considered running jumps." compset="CustomSpec" summary="Stance - +10 on Jump checks, always considered running for jumps." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw034" name="Wolverine Stance" description="{b}Tiger Claw 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Like a cornered wolverine, you fi ght with unmatched ferocity and rage when your opponents force you into close quarters.{/i}\n\nWhen an opponent has you in his grasp, you transform into a snarling, frothing, raging beast. You hack with your weapon at your foe&#146;s arms or tentacles, your wild frenzy allowing you to fight even with a large, awkward weapon. When you are in the grasp of a larger foe, your frenzy ignites into an inferno as you desperately attempt to break free.\n\nWhile you are in this stance, you can attack a foe grappling you with any onehanded weapon. You do not take the &#150;4 penalty for fighting while grappled. If your foe is of a larger size category than yours, your feral rage ignites and grants you a +4 bonus on damage rolls against that creature while it continues to grapple you." compset="CustomSpec" summary="Stance - Use any weapons while grappled." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn032" name="Tactics of the Wolf" description="{b}White Raven 3{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You shout orders that help coordinate your allies&#146; efforts. They harass their enemies, shield each other from attacks, and otherwise maximize the support they lend to each other.{/i}\n\nThis stance allows you and your allies to gain additional benefits against a flanked opponent. Under your direction, your allies coordinate their actions to a much greater degree than normal. Your advice and shouted orders make them an unstoppable team. Like a wolf pack, your allies fight together to devastating effect.\n\nWhen you flank a foe, you and allies who flank the enemy with you gain a bonus on damage rolls against that opponent equal to 1/2 your initiator level." compset="CustomSpec" summary="Stance - You and allies deal +1 damage/2 initiator levels against fl anked target." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var bonus as number
bonus = hero.childfound[xInitiator].field[Value].value/2
bonus = round(bonus,0,-1)

field[livename].text = field[name].text & " (+" & bonus & ")"

doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]]]></eval>
    <exprreq message="5th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn031" name="Lion&apos;s Roar" description="{b}White Raven 3{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 60 ft.\n{b}Targets:{/b} You and allied creatures within 60 ft.\n{b}Duration:{/b} 1 round\n\n{i}You unleash a sudden battle roar as your mighty blow fells your enemy. Inspired by your example, your allies fight with renewed energy and determination.{/i}\n\nWhen you defeat an enemy, you call out to your allies to press the attack. They respond by putting tremendous pressure on the enemy as their attacks strike with greater force.\n\nAs a swift action, you initiate this boost after you have reduced an opponent to fewer than 0 hit points. You and allies within range gain a +5 morale bonus on damage rolls for 1 round." compset="CustomSpec" summary="Boost - Defeat enemy, allies deal +5 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn033" name="White Raven Tactics" description="{b}White Raven 3{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 10 ft.\n{b}Target:{/b} One ally\n\n{i}You can inspire your allies to astounding feats of martial prowess. With a few short orders, you cajole them into seizing the initiative and driving back the enemy.{/i}\n\nYour knowledge of tactics can aid your allies&#146; attacks, and it also allows you to spot, predict, and counter your enemies&#146; actions. In the chaos of battle, you impose the order needed for tight, effective group tactics.\n\nWhen you use this maneuver, select an ally within range. Her initiative count immediately equals your initiative count &#150;1. She then acts on her new initiative count as normal. If she has already acted in the current round, she can act again. If this maneuver would not change your ally&#146;s initiative count, it has no effect. If she has not yet acted during this round, her initiative count changes, and she acts on that count as normal. She does not act again on her original initiative count." compset="CustomSpec" summary="Boost - Ally&#146;s initiative changes, he can act again." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="5th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 5]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd041" name="Firesnake" description="{b}Desert Wind 4{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} Special\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}You drive your weapon into the ground, causing a gout of fire to jet into the air. The fire flows back to the ground and creeps ahead like a serpent, sweeping over your enemies and roasting them where they stand.{/i}\n\nWhen you initiate this maneuver, you cause a line of fire to twist across an area to burn your enemies. This line is 60 feet long. Unlike a standard line, a firesnake can bend and twist to hit your foes. A firesnake starts in an adjacent square. It can move up to 60 feet each round. It can move out of your line of sight or line of effect, but you gain no special knowledge of the areas it moves into.\n\nIf a firesnake moves into a creature&#146;s space, that creature takes 6d6 points of fire damage, with a Refl ex save (DC 14 + your Wis modifier) for half damage. A creature can only take damage from the firesnake once in a single round. It makes the saving throw and takes damage the first time that the firesnake touches it. After that, a firesnake has no effect on that creature.\n\nA firesnake must move along the ground. It cannot fly, and it pays the standard movement penalties for difficult terrain and other effects.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Stream of fire twists around corners." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000" index="2"><![CDATA[var DC as number

DC = 14 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd042" name="Searing Blade" description="{b}Desert Wind 4{/b} (Boost) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\n{i}Your weapon transforms into a raging torrent of flame, causing those around you to recoil slightly from the tremendous heat.{/i}\n\nYou convert your ki into fiery energy, allowing it to fl ow down your arms and across your weapon. Until the end of your turn, your melee attacks deal an extra 2d6 points of fire damage + 1 point per initiator level.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Attacks deal +2d6 fire damage + 1/initiator level" uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[var bonus as number

bonus = hero.childfound[xInitiator].field[Value].value

field[livename].text = field[name].text & " (+2d6+" & bonus & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd043" name="Searing Charge" description="{b}Desert Wind 4{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 full round\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}You rush through the air toward your foe, fire streaming in your wake.{/i}\n\nAs part of this maneuver, you must charge an opponent. You gain the ability to fly at your base land speed with perfect maneuverability while charging. Resolve your charge attack normally. On a successful hit, you deal an extra 5d6 points of fire damage to the target of your charge.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Fly while charging, deal +5d6 fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi041" name="Divine Surge" description="{b}Devoted Spirit 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your body shakes and spasms as unfettered divine energy courses through it. This power sparks off your weapon and courses into your foe, devastating your enemy but leaving you drained.{/i}\n\nAs part of this maneuver, you make a single melee attack that deals an extra 8d8 points of damage." compset="CustomSpec" summary="Strike - Deal +8d8 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi042" name="Entangling Blade" description="{b}Devoted Spirit 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} See text\n\n{i}You hack into your foe&#146;s legs, forcing his movement to slow and his resolution to falter.{/i}\n\nAs part of this maneuver, you make a melee attack against an opponent. Your attack deals an extra 2d6 points of damage. In addition, if your attack hits, your target&#146;s speed is reduced by 20 feet until the end of its next turn, which might prevent it from moving entirely. This penalty applies to all movement modes. A flying creature with a fly speed of 0 feet falls to the ground (and takes falling damage appropriately) if it is subject to this effect while in the air." compset="CustomSpec" summary="Strike - Deal +2d6 damage, target has -20-ft. penalty to speed." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd041" name="Bounding Assault" description="{b}Diamond Mind 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You spring across the battlefield, using your focus and ability to act quickly to make an attack while moving.{/i}\n\nYou combine speed and power into a deadly combination. With this maneuver, you move across the battlefield in a blur, pausing only to deliver a ferocious attack.\n\nAs part of this maneuver, make a double move. After you move, you can also make a melee attack. You gain a +2 bonus on this attack. This maneuver is considered a charge attack when determining if feats and other abilities apply to your attack." compset="CustomSpec" summary="Strike - Double move and attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd042" name="Mind Strike" description="{b}Diamond Mind 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Will negates\n\n{i}You strike your opponent&#146;s head, rattling his senses and causing him to lose focus.{/i}\n\nAs a warrior who fights with your mind as well as your brawn, you know that attacking a foe&#146;s senses is just as valuable as sapping his strength. With this attack, you leave an opponent befuddled and vulnerable.\n\nAs part of this maneuver, make a melee attack. If this attack hits, your target must make a Will save (DC 14 + your Str modifier) or take 1d4 points of Wisdom damage. The target ignores the Wisdom damage on a successful save but still takes weapon damage normally." compset="CustomSpec" summary="Strike - Attack deals 1d4 Wisdom damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDiaMndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd043" name="Ruby Nightmare Strike" description="{b}Diamond Mind 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}With a moment&#146;s thought, you instantly perceive the deadliest place to strike your enemy as you study her defenses, note gaps in her armor, and read subtle but important clues in how she carries herself or maintains her fighting stance.{/i}\n\nThe ruby nightmare blade is a favored finishing move of warriors who study the Diamond Mind discipline. By intently analyzing your foe&#146;s stance and moves, you fi nd the precise spot that you must strike to end the fi ght with a decisive blow.\n\nYou attempt a Concentration check as part of this maneuver, using the target creature&#146;s AC as the DC of the check. You then make a single melee attack against your target. This attack is also made as part of this maneuver. If your Concentration check succeeds, this melee attack deals double normal melee damage. If your check fails, your attack is made with a &#150;2 penalty and deals only normal melee damage.\n\nIf your strike is a critical hit, you stack the multipliers as normal (PH 304)." compset="CustomSpec" summary="Strike - Attack deals double damage with successful Concentration check." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt041" name="Lightning Recovery" description="{b}Iron Heart 4{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your foe twists out of the way of your initial attack, but your weapon becomes a blur as you reverse direction and strike at him again with lightning speed. In the blink of an eye, you complete your attack and resume your defensive posture.{/i}\n\nThis maneuver embodies the ethos of speed and energy that the Iron Heart tradition teaches. If one of your melee attacks misses, you can initiate this maneuver to reroll that attack roll with a +2 bonus." compset="CustomSpec" summary="Counter - Reroll an attack that misses with +2 bonus." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt042" name="Mithral Tornado" description="{b}Iron Heart 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} All adjacent opponents\n\n{i}Your weapon becomes a blur of motion as you swing it in a tight arc over your head. Once you build up enough speed, you explode into a sweeping attack that chops into the enemies around you.{/i}\n\nWhen you initiate this strike, you make a melee attack against every opponent adjacent to you. Resolve each attack separately. You gain a +2 bonus on each of these attacks, which are otherwise made at your highest attack bonus." compset="CustomSpec" summary="Strike - Make attacks against adjacent foe, +2 on each attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun041" name="Comet Throw" description="{b}Setting Sun 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Touch\n{b}Target:{/b} Creature touched; see text\n{b}Saving Throw:{/b} Reflex partial; see text\n\n{i}You use your foe&#146;s momentum against him, throwing him through the air to crash into a second enemy.{/i}\n\nThis maneuver functions like mighty throw (page 73), except as noted here.\n\nAs part of this maneuver, you must succeed on a melee touch attack against your foe. You can then make a trip attempt against your enemy. You gain a +4 bonus on the ability check.\n\nIf you succeed in tripping your foe, you throw him up to 10 feet away from you in a direction of your choice. You select your enemy&#146;s destination square. The target falls prone in that space and takes 4d6 points of damage. For every 5 points by which you win the opposed check, you gain an additional 5 feet of throw range. For example, if you win by 10, you can place your foe in any space within 20 feet of you. You can throw your opponent into a space occupied by a second foe. In this case, the opponent in the target square also takes 4d6 points of damage and is knocked prone. A Reflex save (DC 14 + your Str modifier) halves this damage and allows the second target to remain standing. The thrown creature then falls prone in a clear space of your choice adjacent to the second target." compset="CustomSpec" summary="Strike - Grab foe, throw him using leverage, strength." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xSetSunFt] <> 0) then
  DC += 1
 endif
endif

if (#hasfeat[fFalSunAtt] <> 0) then
 DC += 1
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One Setting Sun maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun042" name="Strike of the Broken Shield" description="{b}Setting Sun 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Reflex partial\n\n{i}You study your opponent and deliver an attack precisely aimed to ruin his defenses and force him to scramble for his balance. While he struggles to ready himself, he becomes more vulnerable to your attacks.{/i}\n\nAs part of this maneuver, make a single melee attack. This attack deals an extra 4d6 points of damage. In addition, the target must make a Reflex save (DC 14 + your Str modifier) or become flat-footed until the start of his next turn. The target takes damage (normal melee damage plus the extra damage) even if his save succeeds. If the target cannot be caught flat-footed (he has uncanny dodge, for example), he still takes the extra damage from the strike but otherwise suffers no ill effect." compset="CustomSpec" summary="Strike - Attack deals +4d6 damage, makes target flat-footed." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number


if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xSetSunFt] <> 0) then
  DC += 1
 endif
endif
DC = 14 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fFalSunAtt] <> 0) then
 DC += 1
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd041" name="Hand of Death" description="{b}Shadow Hand 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Touch\n{b}Target:{/b} Creature touched\n{b}Duration:{/b} 1d3 rounds\n{b}Saving Throw:{/b} Fortitude negates\n\n{i}You reach out and tap your foe with a single finger. Her look of puzzlement turns to fear as black energy spreads across her body, rendering her helpless.{/i}\n\nYou draw upon the power of shadow to render a single foe helpless. By touching a specific nerve center and channeling your ki, you leave your enemy&#146;s muscles cold, locked, and useless.\n\nThis maneuver functions only against flat-footed opponents. As part of this maneuver, you make a melee touch attack against your opponent. If this attack hits, your opponent must make a successful Fortitude save (DC 14 + your Wis modifier) or be paralyzed for 1d3 rounds." compset="CustomSpec" summary="Strike - Touch renders foe paralyzed for 1d3 rounds." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    </thing>
  <thing id="cShaHnd042" name="Obscuring Shadow Veil" description="{b}Shadow Hand 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}As you strike your opponent, you summon the fell energies of the Shadow Hand school to rob your foe of her sight. Inky, black energy burrows into her eyes, rendering her blind for a few critical moments.{/i}\n\nAs a standard action, you can make a single melee attack. If it hits, your opponent takes normal melee damage plus an extra 5d6 points of damage. She must also make a successful Fortitude save (DC 14 + your Wis modifier) or suffer a 50% miss chance on all melee and ranged attacks for 1 round. A successful save negates the miss chance, but not the extra damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Deal +5d6 damage and foe has 50% miss chance on attacks for 1 round." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="Helper" tag="CustCharge"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra041" name="Bonesplitting Strike" description="{b}Stone Dragon 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your attack slams home with a ferocious crack of shattered bones and pulped flesh. Your target reels backward, still alive but severely crippled.{/i}\n\nA Stone Dragon adept is an implacable foe. Your attacks smash through armor and turn bone into dust. By focusing your strength into a single, devastating attack, you smash an opponent to the core. His very health and endurance are left wrecked by your attack.\n\nAs part of this maneuver, you make a single melee attack. If your attack hits, the target takes normal damage as well as 2 points of Constitution damage." compset="CustomSpec" summary="Strike - Attack deals 2 Constitution damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra042" name="Boulder Roll" description="{b}Stone Dragon 4{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}Like a boulder tumbling down a mountainside, you slam through your enemies.{/i}\n\nYou are an implacable foe once you gain enough momentum. As you move across the battlefield, your foes must stand aside or be crushed beneath your feet. \n\nIf you make an overrun attack (PH 157), you can initiate this boost. You gain a +4 bonus on your Strength check made to overrun, and if you fail your check, your target can&#146;t knock you prone. You simply stop moving in the last legal space you occupied. You do not provoke attacks of opportunity for the movement or the overrun attempts." compset="CustomSpec" summary="Boost - Gain +4 bonus on overrun attempts." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    </thing>
  <thing id="cStoDra043" name="Overwhelming Mountain Strike" description="{b}Stone Dragon 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\nSaving Throw: Fortitude partial\n\n{i}Your mighty strike temporarily disorients your opponent, costing him precious seconds as he shakes off the attack.{/i}\n\nYou slam your foe with a mighty strike, almost knocking him from his feet and forcing him to find his footing and steady himself before he can react.\n\nAs part of this maneuver, you make a melee attack. This attack deals an extra 2d6 points of damage. If the creature you hit is standing on the ground, your attack also causes the target to lose its ability to take a move action for 1 round. It can otherwise act normally. A successful Fortitude save (DC 14 + your Str modifier) by the creature struck negates the loss of its move action, but not the extra damage.\n\nThis maneuver functions only against opponents standing on the ground. A fl ying creature or a levitating target need not save against the action loss effect, but still takes the extra damage." compset="CustomSpec" summary="Strike - Deal +2d6 damage, target loses move action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    </thing>
  <thing id="cTgrClw041" name="Death From Above" description="{b}Tiger Claw 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}With a war cry, you leap into the air and lift your weapon high overhead. As you arc downward, your weight and momentum lend bonecrushing force to your attack.{/i}\n\nLike a thunderbolt, you slam into your foe from above. You leap upon your enemy and drive him into the ground. The impact of your attack gives you extra force, allowing you to score a deadly hit.\n\nTo use this maneuver, you must be adjacent to a foe. As part of this maneuver, you attempt a DC 20 Jump check. If this check succeeds, you can make a single melee attack against an opponent that you were adjacent to when you began this maneuver. This attack occurs in the air as you soar over your opponent, also as part of the maneuver. Your attack deals an extra 4d6 points of damage, and your opponent is considered flat-footed against this attack. You then land in any square adjacent to the target of this attack, though no more than 20 feet away from your starting position.\n\nIf your Jump check fails, you remain in the last square you occupied before the Jump check and can make a single attack normally. The maneuver is still considered expended." compset="CustomSpec" summary="Strike - Leap into the air, attack foe from above, deal +4d6 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw042" name="Fountain of Blood" description="{b}Tiger Claw 4{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} 30-ft.-radius burst centered on you\n{b}Duration:{/b} 1 minute\n{b}Saving Throw:{/b} Will partial; see text\n\n{i}As your foe dies on your blade, you twist and turn your weapon to send blood spraying across the battlefield. Your enemies shriek in fear at their ally&#146;s grisly demise.{/i}\n\nIf you reduce a living opponent to &#150;1 or fewer hit points during your turn, you can initiate this maneuver. Your weapon rips into your foe as she drops, dealing an extra 1d6 points of damage and forcing all your enemies within a 30-foot radius to make successful Will saves (DC 14 + your Str modifier) or be shaken for 1 minute. The foe you drop must be within your threatened area when you initiate this maneuver. For each foe you drop during your turn prior to initiating this maneuver, the save DC increases by 1." compset="CustomSpec" summary="Boost - Defeat foe, cause fear in enemies." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 14 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn041" name="Covering Strike" description="{b}White Raven 4{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} 3 rounds\n\n{i}You make a ferocious series of attacks at your enemies, forcing them on the defensive and buying your allies critical seconds needed to slip past them unharmed.{/i}\n\nBy drawing on your combat experience and knowledge of how a warrior must carry herself in battle, you make an attack that disrupts your opponents and keeps them from taking advantage of your allies&#146; lapses.\n\nAfter you initiate this boost, you can make your attacks as normal. In addition to taking normal melee damage from your blows, a foe you strike after initiating this maneuver cannot make attacks of opportunity for 3 rounds. The target still threatens its normal area; it simply cannot make attacks of opportunity.\n\nA creature can be affected by only one covering strike per encounter." compset="CustomSpec" summary="Boost - Every opponent you strike cannot make attacks of opportunity for 3 rounds." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn042" name="White Raven Strike" description="{b}White Raven 4{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your eye for tactics allows you to notice an enemy&#146;s weak points and attack them with a mighty blow.{/i}\n\nThe White Raven discipline focuses on tactics, teamwork, and the ability to make an attack that improves your allies&#146; abilities. This strike ruins a foe&#146;s defenses.\n\nAs part of this maneuver, you make a single melee attack. If it hits, you deal an extra 4d6 points of damage, and the target is considered flat-footed until the start of his next turn." compset="CustomSpec" summary="Strike - Deal +4d6 damage, target becomes flat-footed." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="7th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 7]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd051" name="Dragon&apos;s Flame" description="{b}Desert Wind 5{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} Cone\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}With a defiant roar, you summon your ki and unleash it, igniting it with a combination of your meditative focus and seething fury.{/i}\n\nAs a master of the Desert Wind advances in his studies, he learns to stoke raging fires with his ki. This maneuver allows you to generate a gout of fire similar to a dragon&#146;s burning breath. With this maneuver, you blast forth a cone of fire that deals 6d6 points of fire damage to everything in the area. Creatures in the area can attempt Reflex saves (DC 15 + your Wis modifier) for half damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Cone deals 6d6 fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000" index="2"><![CDATA[var DC as number

DC = 15 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 3, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd052" name="Leaping Flame" description="{b}Desert Wind 5{/b} (Counter) [Teleport]\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}As your foe attacks you, you disappear in a burst of flame and smoke, only to reappear as if out of thin air next to him.{/i}\n\nYou instantly appear in a square adjacent to a creature that attacks you with a melee or ranged attack, after resolving the enemy&#146;s attack. You cannot move into a space that is occupied by a creature or object. You can move up to 100 feet in this manner. If you cannot move adjacent to the target, this maneuver fails to function but is still considered used.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Counter - Teleport adjacent to foe who attacks you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd053" name="Lingering Inferno" description="{b}Desert Wind 5{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 3 rounds; see text\n\n{i}A blue, dancing flame appears on your weapon. As you strike your foe, this flame slides off your weapon and covers your enemy in raging fire.{/i}\n\nYou make a single melee attack that deals an extra 2d6 points of fire damage. In addition, if your strike hits, the flames upon your weapon bind to the target, which takes an extra 2d6 points of fire damage each round at the start of its turn for 3 rounds.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Deal +2d6 fire damage, and target takes 2d6 fire damage per round for 3 rounds." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd" name="Desert Wind"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi051" name="Daunting Strike" description="{b}Devoted Spirit 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Will negates\n{b}Duration:{/b} 1 minute\n\n{i}You attack your foe with an overwhelming strike, hammering through his shield and armor to cleave into his fl esh. This display of raw power causes him to stumble backward, fear in his eyes.{/i}\n\nAs part of this maneuver, you make a melee attack against an opponent you threaten. If this attack hits, your foe must make a Will save with a DC equal to the damage you deal or become shaken for 1 minute." compset="CustomSpec" summary="Strike - Target of attack becomes shaken." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi052" name="Doom Charge" description="{b}Devoted Spirit 5{/b} (Strike) [Evil]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}You cloak yourself in a black, terrible aura of contempt and spite.{/i}\n\nYou must make a charge attack as part of this maneuver. If your target is goodaligned, your attack deals an extra 6d6 points of damage. In addition, if your charge attack hits and the target is good-aligned, you become wreathed in unholy energy. You gain damage reduction 10/&#151; until the beginning of your next turn." compset="CustomSpec" summary="Strike - Charge attack deals extra damage against good, you gain DR 10/&#151;." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="Evil alignment required."><![CDATA[hero.tagis[Alignment.Evil] <> 0]]></exprreq>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 2, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi053" name="Law Bearer" description="{b}Devoted Spirit 5{/b} (Strike) [Law]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}The air around you hums with cosmic energy as the power of pure law surges through you. For a moment, you take on the aspect of a perfect being as you charge forward to smite your foes.{/i}\n\nYou must make a charge attack as part of this maneuver. If the target is chaotic- aligned, you gain a +8 bonus on your attack (in addition to the charge bonus) and your attack deals an extra 4d6 points of damage. In addition, if your charge attack hits and the target is chaotic-aligned, you become wreathed in axiomatic energy. You gain a +5 bonus on saves and to AC until the beginning of your next turn." compset="CustomSpec" summary="Strike - Deal +4d6 damage, +8 attack against chaotic enemy, gain +5 on saves and AC." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="Lawful alignment required."><![CDATA[hero.tagis[Alignment.Lawful] <> 0]]></exprreq>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi054" name="Radiant Charge" description="{b}Devoted Spirit 5{/b} (Strike) (Good)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}You gather the power of your faith and discipline, surrounding yourself in an aura of blinding glory.{/i}\n\nYou must make a charge attack as part of this maneuver. If the target is evil-aligned, your attack deals an extra 6d6 points of damage. In addition, if your charge attack hits and the target is evil-aligned, you become wreathed in holy energy. You gain damage reduction 10/&#151; until the beginning of your next turn." compset="CustomSpec" summary="Strike - Deal +6d6 damage against evil foes, gain DR 10/&#151;." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi055" name="Tide of Chaos" description="{b}Devoted Spirit 5{/b} (Strike) [Chaos]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}The power of chaos swirls around you, lending strength to your attacks as you cast your fate to the whims of luck. {/i}\n\nYou must make a charge attack as part of this maneuver. If the target is lawful-aligned, you gain a +8 bonus on your attack (in addition to the charge bonus) and your attack deals an extra 4d6 points of damage. In addition, if your charge attack hits and the target is lawful-aligned, you become wreathed in anarchic energy. You gain total concealment against all attacks that target you until the beginning of your next turn." compset="CustomSpec" summary="Strike - Charge attack deals extra damage against law, grants you concealment." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="Chaotic alignment required."><![CDATA[hero.tagis[Alignment.Chaotic] <> 0]]></exprreq>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd051" name="Disrupting Blow" description="{b}Diamond Mind 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Will negates\n{b}Duration:{/b} 1 round\n\n{i}With a combination of brute force, keen timing, and exacting aim, you force your opponent into an awkward position that ruins his next action.{/i}\n\nAs part of this maneuver, you make a melee attack. If this attack hits, your target takes normal melee damage and must make a Will save (DC 15 + your Str modifier) or be unable to take any actions for 1 round. The target does not suffer any other drawbacks or penalties. He can still make attacks of opportunity but is unable to take immediate actions until his next turn." compset="CustomSpec" summary="Strike - Successful attack causes foe to be unable to act for 1 round." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 15 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDiaMndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 3, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd053" name="Rapid Counter" description="{b}Diamond Mind 5{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You lash out, your weapon a blur, hammering at the slightest gap that appears in your foe&#146;s defenses.{/i}\n\nThis maneuver allows you to make a free attack against a reckless enemy. When a foe provokes an attack of opportunity from you, you can initiate this maneuver. As part of this maneuver, you make an immediate melee attack against the foe that provoked the attack of opportunity. This attack does not replace the normal attack of opportunity you receive. You can also use this maneuver before making your normal attack of opportunity when an opponent provokes (or vice versa).\n\nThe attack granted by the maneuver is not an extra attack of opportunity. You can initiate this maneuver before, after, in addition to, or instead of making an attack of opportunity against an opponent (thus possibly saving your attack of opportunity to use against another enemy later in the round)." compset="CustomSpec" summary="Counter - Strike opponent who provokes attack from you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    </thing>
  <thing id="cIrnHrt052" name="Dazing Strike" description="{b}Iron Heart 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\nSaving Throw: Fortitude partial\n\n{i}Through focus, raw power, and expert aim, you make a mighty attack against your foe, leaving him temporarily knocked senseless by your attack.{/i}\n\nThe proper application of force to just the right part of a foe&#146;s anatomy allows you to disrupt his actions. While he stumbles back, senseless, you press the advantage.\n\nYou make a single melee attack as part of this strike. If this attack hits, the target takes melee damage normally and must make a Fortitude save (DC 15 + your Str modifier) or be dazed for 1 round." compset="CustomSpec" summary="Strike - Melee attack dazes opponent." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 15 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xIrnHrtFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt053" name="Iron Heart Focus" description="{b}Iron Heart 5{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}With a last-second burst of speed, you summon reserves of mental and physical will and throw off the effects of your enemy&#146;s attack.{/i}\n\nYour training in the Iron Heart discipline grants you excellent reflexes, mental toughness, and stamina. You can draw upon your training and focus to overcome a variety of deadly effects.\n\nAs an immediate action, you can reroll a saving throw you have just made. You must accept the result of this second roll, even if the new result is lower than your initial roll." compset="CustomSpec" summary="Counter - Reroll save." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun051" name="Mirrored Pursuit" description="{b}Setting Sun 5{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}Your movements perfectly match your foe&#146;s, allowing you to move as she does. Try as she might to escape, you remain at her side.{/i}\n\nYour ability to study a foe and match her motions allows you to remain within arm&#146;s reach at all times. Your opponent cannot hope to escape you.\n\nWhen an opponent adjacent to you moves, you can initiate this maneuver to immediately move to any square adjacent to her as soon as she stops moving, as long as the distance you cover is less than or equal to your speed. This movement does not provoke attacks of opportunity." compset="CustomSpec" summary="Counter - You match opponent&#146;s movement." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun053" name="Soaring Throw" description="{b}Setting Sun 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Touch\n{b}Target:{/b} Creature touched\n\n{i}With a great shout, you send your opponent soaring through the air in a high arc. He slams back to the ground with a bonecrushing thud.{/i}\n\nAs part of this maneuver, you must succeed on a melee touch attack against your foe. Resolve the throw as a trip attempt (PH 158), but you do not provoke attacks of opportunity, and your opponent cannot try to trip you if you lose the opposed check. You can use your Dexterity or Strength modifier, whichever is better. You gain a +4 bonus on the ability check.\n\nIf you succeed in tripping your foe, you throw him up to 20 feet away from you. The target falls prone in the destination space and takes 8d6 points of damage. You choose where he lands. For every 5 points by which you win the opposed check, you gain an additional 5 feet of throw distance. For example, if you win by 10, you can place your foe in any space within 30 feet of you. You must place the target in an empty space. If you lack the distance to throw your target into a clear space, he falls prone in his current space.\n\nAn enemy you throw with this maneuver does not provoke attacks of opportunity for passing through enemies&#146; threatened areas as part of the throw, and you can throw an enemy through occupied squares." compset="CustomSpec" summary="Strike - Grab foe, throw him using leverage, strength." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun054" name="Stalking Shadow" description="{b}Setting Sun 5{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}When the creature you are battling tries to back away, you step next to it in the blink of an eye, forcing it to stand and fight or suffer the consequences of withdrawal.{/i}\n\nUsing your watchful eye and your ability to judge an opponent&#146;s actions, you move at precisely the same time your enemy begins to move.\n\nIf an opponent in a square adjacent to you moves, you can initiate this maneuver to make a 5-foot step into the space (or one of the squares) it occupied. This movement does not provoke attacks of opportunity." compset="CustomSpec" summary="Counter - Move into foe&#146;s space as he tries to move away from you." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd051" name="Bloodletting Strike" description="{b}Shadow Hand 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}Spinning your blade in a butterflylike pattern, you administer a dozen precise cuts in an eyeblink. Blood flows from your foe&#146;s opened veins.{/i}\n\nAs part of this maneuver, you make a single melee attack. If this attack hits, your opponent takes 4 points of Constitution damage in addition to your attack&#146;s normal damage. A successful Fortitude save (DC 15 + your Wis modifier) reduces this Constitution damage to 2 points, although the foe still takes full normal melee damage." compset="CustomSpec" summary="Boost - Strike deals 4 Constitution damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 15 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd052" name="Shadow Stride" description="{b}Shadow Hand 5{/b} [Teleportation]\n\n{b}Initiation Action:{/b} 1 move action\n{b}Range:{/b} 50 ft.\n{b}Target:{/b} You\n\n{i}You dissipate into a puff of black shadow. A moment later, the shadow coalesces, and you appear fifty feet away.{/i}\n\nThis maneuver functions as the shadow jaunt maneuver, except that it can be initiated as a move action." compset="CustomSpec" summary="Teleport 50 ft. through shadows as move action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    </thing>
  <thing id="cStoDra051" name="Elder Mountain Hammer" description="{b}Stone Dragon 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature or unattended object\n\n{i}You draw strength from the earth beneath your feet and transfer it into ruinous power. Your next attack drops like an avalanche upon your foe, hammering him into submission.{/i}\n\nThe students of the Stone Dragon discipline learn to tap into the power of the earth, channel its endless strength, and use it to grant their attacks tremendous force. A strike delivered by a Stone Dragon adept can shatter a warrior&#146;s shield, turn a wooden door into splinters, or slay an ogre with a single blow.\n\nWhen you use this maneuver, you make a single melee attack. That attack deals an extra 6d6 points of damage and automatically overcomes damage reduction and hardness." compset="CustomSpec" summary="Strike - Deal +6d6 damage, overcome DR and hardness." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra053" name="Mountain Avalanche" description="{b}Stone Dragon 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Saving Throw:{/b} Reflex half; see text \n\n{i}You wade through your enemies like a stone giant rampaging through a mob of orcs. You crush them underfoot and drive them before you, leaving a trail of the dead in your wake.{/i}\n\nAs part of this maneuver, you can move up to double your speed and trample your opponents. You can enter the space of any creature of your size category or smaller. If you enter and occupy all of the space occupied by such a creature, it takes damage equal to 2d6 + 1-1/2 times your Str bonus (if any). \n\nYou can deal trampling damage to a creature only once per round, no matter how many times you move into or through its space. You must move into every square a creature occupies to trample it. If you move over only part of the space a creature occupies (for example, you are a Large creature moving over half the space of a Large opponent), it can either attempt an attack of opportunity against you or it can attempt a Reflex save (DC 15 + your Str modifier) to avoid half of your trampling damage." compset="CustomSpec" summary="Strike - Gain ability to trample foes." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number
var bonus as number

DC = 15 + hero.child[aSTR].field[aModBonus].value
bonus = hero.child[aSTR].field[aModBonus].value*1.5
bonus = round(bonus,0,-1)

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (2d6+" & bonus & ") (DC" & DC & ")"]]></eval>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw051" name="Dancing Mongoose" description="{b}Tiger Claw 5{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: End of turn\n\n{i}You swing your weapons about you in a blur of speed, making a series of devastating attacks in the space of a single breath.{/i}\n\nYou make a flurry of deadly attacks. After initiating this boost, you can make one additional attack with each weapon you wield (to a maximum of two extra attacks if you wield two or more weapons). These extra attacks are made at your highest attack bonus for each of your respective weapons. All of these attacks must be directed against the same opponent." compset="CustomSpec" summary="Boost - Make one extra attack with each weapon (max of two extra attacks)." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw052" name="Pouncing Charge" description="{b}Tiger Claw 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}With the roar of a wild beast, you throw yourself into the fray. Your weapons are little more than a blur as you hack at your foe with feral speed.{/i}\n\nWith a ferocious howl, you throw yourself into combat. You move with such speed and ferocity that when you reach your enemy, you unleash a blistering flurry of slashes, cuts, and hacks. \n\nAs part of initiating this maneuver, you make a charge attack. Instead of making a single attack at the end of your charge, you can make a full attack. The bonus on your attack roll for making a charge attack applies to all your attack rolls." compset="CustomSpec" summary="Strike - When you charge, make multiple attacks." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn051" name="Flanking Maneuver" description="{b}White Raven 5{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your keen leadership grants you and your allies a sudden advantage in combat. When you flank an opponent, you attack in such a way as to maximize your allies&#146; openings. By the same token, your friends&#146; ferocious, accurate attacks give you multiple opportunities to pierce your foe&#146;s defenses.{/i}\n\nWhen you flank an enemy with an ally who can see and hear your directions, the two of you form a potent combination. Your attacks complement each other, leaving the flanked opponent in a tenuous position.\n\nYou can use this strike when you and any number of allies flank an opponent you designate. As part of this maneuver, you make a melee attack against the flanked opponent. If your attack hits, any ally flanking your foe can immediately make a melee attack against that creature. These extra attacks are not attacks of opportunity.\n\nYour allies must be able to see you to gain this benefit. The coordination needed between you and your companions demands that you watch each other&#146;s attacks, though you do not need to hear each other." compset="CustomSpec" summary="Strike - Hit flanked target, allies gain free attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="9th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn052" name="Press the Advantage" description="{b}White Raven 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You shift across the battlefield, timing your movements precisely to avoid any attacks from your foes.{/i}\n\nYour sense of the battlefield and intuitive understanding of the ebb and flow of combat allow you to move without dropping your defenses. While others must slowly work through a melee, you seize gaps in a foe&#146;s defenses and move with great speed and confidence.\n\nWhile you are in this stance, you can take a second 5-foot step immediately after you take one for the round. This second movement does not provoke attacks of opportunity. You can make a single 5-foot step into difficult terrain, but if you do, you cannot make the second 5-foot step." compset="CustomSpec" summary="Stance - Move +5 feet with 5-ft. step, move into difficult terrain." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra052" name="Giant&apos;s Stance" description="{b}Stone Dragon 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You swing your weapon in a wide, deadly arc that slams into your foe with incredible force. Only your mastery of the Stone Dragon techniques allows you to make such reckless blows without losing your footing.{/i}\n\nTapping into the power of the Stone Dragon, you strike with resolute, irresistible force. You learn to set the full weight of your body into each of your attacks. A warrior with less skill would lose his balance and fall to the ground when using this fighting style.\n\nWhile you are in this stance, you deal damage as if you were one size larger than normal, to a maximum of Large. This benefit improves your weapon and unarmed strike damage. It does not confer any of the other benefits or drawbacks of a change in size, such as a modifier to ability scores or AC, or an improved reach.\n\nThis stance immediately ends if you move more than 5 feet for any reason, such as from a bull rush attack, a telekinesis spell, and so forth." compset="CustomSpec" summary="Stance - Deal damage as if you are one size category larger." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <eval phase="First" priority="18000" index="2"><![CDATA[doneif (field[hIsOn1].value = 0)

  if (hero.child[Totals].field[tSize].value < 1) then
   foreach pick in hero from BaseWep
      perform eachpick.assign[Helper.DamageUp]
   nexteach
  endif]]></eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd053" name="Step of the Dancing Moth" description="{b}Shadow Hand 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You focus your inner reserve of ki energy to generate flowing shadows that lift you off the ground. You walk across the roughest ground, even water, with ease.{/i}\n\nWhile you are in this stance, you can walk up to 5 feet above the ground. Your speed becomes 20 feet while you are in this stance, and you cannot run. You ignore any terrain feature that fails to project more than 5 feet above the ground, such as difficult terrain, burning lava, water, and so forth. In addition, you ignore the standard penalties on Hide and Move Silently checks for moving quickly." compset="CustomSpec" summary="Stance - Ignore terrain, walk over liquid." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun052" name="Shifting Defense" description="{b}Setting Sun 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You duck and move as you dodge your opponent&#146;s attacks. Slowly but surely, each attack gives you the opportunity to moveacross the battlefield.{/i}\n\nYour ability to read your opponents&#146; moves and use their strength against them allows you to shift your position during a battle. Each failed attack gives you the split-second you need to move without drawing attacks.\n\nWhile you are in this stance, you can make an immediate 5-foot step each time an opponent attacks you. Moving in this manner consumes one of your attacks of opportunity in the currrent round. You cannot move in this manner if you have no attacks of opportunity remaining. This movement does not provoke attacks of opportunity." compset="CustomSpec" summary="Stance - 5-ft. step with each missed attack against you." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt051" name="Dancing Blade Form" description="{b}Iron Heart 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance \n\n{i}You strike forward like a slithering snake, extending yourself almost beyond your ability to maintain your balance. Your foe stumbles backward, surprised that you could reach him from such a great distance. {/i}\n\nBy carefully distributing your weight and establishing a steady, rugged posture, you can reach out and strike opponents with your melee attacks at a greater than normal distance. A warrior with less training and expertise would fall flat on his face attempting this maneuver. You, on the other hand, have the grace, focus, and skill needed to complete this complex move. \n\nWhile you are in this stance, you gain a bonus to your reach during your turn. When you make a melee attack, your reach increases by 5 feet. Your reach is not improved when it is not your turn, such as when you make an attack of opportunity. You cannot improve your reach by more than 5 feet by using this ability in conjunction with other maneuvers." compset="CustomSpec" summary="Stance - +5-ft. reach during your turn." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd052" name="Hearing the Air" description="{b}Diamond Mind 5{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Your perception becomes so fine that you can hear the tiniest flutter of air moving past you. Invisible foes and other hidden threats become as plain as day in the area of your heightened senses.{/i}\n\nDrawing on your combat training, sharpened senses, and capability to predict your enemy&#146;s moves, you become a faultless sentinel on the battlefield. Even the smallest detail or stealthiest enemy cannot hope to evade your notice.\n\nWhile you are in this stance, you gain blindsense out to 30 feet and a +5 insight bonus on Listen checks." compset="CustomSpec" summary="Stance - Gain blindsense 30 ft., +5 bonus on Listen checks." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="rBlindsen">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      <assignval field="Value" value="30"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]

  #applybonus[BonInsight, hero.child[kListen], 5]</eval>
    <exprreq message="9th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 9]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd061" name="Desert Tempest" description="{b}Desert Wind 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You move in a blur, leaving scorch marks in your wake as you twirl around the battlefield, slicing into your foes as you move.{/i}\n\nAs part of this maneuver, you move up to your speed. Each time you exit a square adjacent to an enemy, you can fi rst make a single melee attack against that foe. You cannot attack a single enemy more than once with this maneuver. Your movement provokes attacks of opportunity, as normal." compset="CustomSpec" summary="Strike - Attack foes as you move by them." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd063" name="Ring of Fire" description="{b}Desert Wind 6{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Special; see text\n{b}Area:{/b} Special; see text\n{b}Saving Throw:{/b} Reflex half\n\n{i}You move in a blur, your feet wreathed in flaming energy. As you run, you leave a trail of fire behind you. You encircle a foe, and the ring of fire you leave behind bursts into an inferno that engulfs your enemy and everything else in the area.{/i}\n\nAs part of this maneuver, you can move up to two times your speed along the ground. All of your movement must be along continuous, solid ground. You leave a trail of flames in your wake. These flames have no effect unless they form a closed area. In this case, a raging inferno erupts within that area. All creatures within the area take 12d6 points of fire damage, with a Reflex save (DC 16 + your Wis modifier) for half damage.\n\nThe inferno erupts the first time you form a closed area. You cannot create multiple areas in one move.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Surround foes with burning flame." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi065" name="Rallying Strike" description="{b}Devoted Spirit 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your weapon blazes with divine energy as you smite your enemy. The energy discharges in a great pulse, sweeping over your allies and mending their wounds.{/i}\n\nAs part of initiating this strike, you must make a successful melee attack against an enemy whose alignment has at least one component different from yours. This foe must pose a threat to you or your allies in some direct, immediate way. If your attack hits, you and all allies within 30 feet of you heal 3d6 points of damage + 1 point per initiator level (maximum +15)." compset="CustomSpec" summary="Strike - Successful attack allows you to heal 3d6 + 1/initiator level in 30-ft. burst." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[var bonus as number

bonus = minimum(hero.childfound[xInitiator].field[Value].value, 15)

field[livename].text = field[name].text & " (3d6+" & bonus & ")"]]></eval>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd061" name="Greater Insightful Strike" description="{b}Diamond Mind 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your keen eye picks out the slightest imperfection in your opponent&#146;s defenses. Your weapon becomes a tool of your mind.{/i}\n\nThis maneuver functions like insightful strike, except that you deal damage equal to 2 &#215; your Concentration check result." compset="CustomSpec" summary="Strike - Use double Concentration check to determine damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd062" name="Moment of Alacrity" description="{b}Diamond Mind 6{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Instantaneous\n\n{i}You step into a space between heartbeats and act again while your enemies are still reacting to your last strike.{/i}\n\nYou can improve your initiative count for the next round and all subsequent rounds of the current encounter. When you initiate this maneuver, your initiative count improves by 20, and your place in the initiative order changes accordingly. This modifier applies at the end of the round. Your place in the initiative order changes to refl ect moment of alacrity&#146;s effect starting with the next round." compset="CustomSpec" summary="Boost - Gain +20 bonus on initiative during battle." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt061" name="Iron Heart Endurance" description="{b}Iron Heart 6{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You push aside the pain of your injuries to fight on past mortal limits.{/i}\n\nIf you have half or fewer of your full normal hit points remaining, you can initiate this maneuver to heal hit points equal to 2 &#215; your level." compset="CustomSpec" summary="Boost - Heal hit points equal to two times your level." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt062" name="Manticore Parry" description="{b}Iron Heart 6{/b} (Counter)\n\n{b}Initiation Action:{/b] 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You block an enemy&#146;s attack with a lightning-quick parry, then deflect it toward a different target. Your foe can barely control its momentum as its attack now slams into an ally.{/i}\n\nWhen you initiate this maneuver, you can attempt to block an enemy&#146;s melee attack that targets you and redirect it to another target adjacent to you. Make a melee attack roll. If your result is greater than your foe&#146;s attack roll, you bat aside the strike and direct it against a target of your choice that stands adjacent to you. You must decide whether to initiate this maneuver after the enemy attacks, but before you know whether or not the attack you are attempting to deflect actually hits. If the attack misses, you can still attempt to deflect it.\n\nIf you succeed in deflecting the attack, use the result of your opponent&#146;s attack roll to determine if it strikes the new target.\n\nThis maneuver functions only against armed melee attacks. You cannot use it against unarmed attacks, natural weapons, or touch spells." compset="CustomSpec" summary="Counter - Deflect attack and redirect it against opponent." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun061" name="Ballista Throw" description="{b}Setting Sun 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Touch and 60 ft.; see text\n{b}Target:{/b} Creature touched\n{b}Area:{/b} 60-ft. line\n\n{i}You grab your opponent and spin like a top, swinging him around before throwing him at your opponents like a bolt from a ballista.{/i}\n\nThis maneuver functions like mighty throw (page 73), except as noted here.\n\nAs part of this maneuver, you must succeed on a melee touch attack against your foe. You can then make a trip attempt against your enemy. You gain a +4 bonus on the ability check.\n\nIf you succeed in tripping your foe, you throw him in a 60-foot line. The target and all creatures in this area take 6d6 points of damage. The thrown creature lands prone at the end of this line. You must place the target in an empty space. If the space at the end of the line is occupied, your opponent falls prone in the open space closest to the line&#146;s endpoint." compset="CustomSpec" summary="Strike - Throw foe in 60-ft. line, deal 6d6 damage to all in area." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun062" name="Scorpion Parry" description="{b}Setting Sun 6{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You knock your opponent&#146;s attack aside, guiding his weapon into one of his allies.{/i}\n\nYour keen eye and ability to discern a foe&#146;s motives and intentions allow you to deflect an incoming attack into a different target.\n\nIf an opponent attacks you, you can initiate this maneuver to make an opposed attack roll as an immediate action. If your foe&#146;s result is higher, he attacks you as normal. If your result is higher, you can choose a creature adjacent to you and within your opponent&#146;s threatened area. The chosen creature is the new target of your foe&#146;s attack. Use your enemy&#146;s original attack roll result to determine if he strikes the new target." compset="CustomSpec" summary="Counter - Parry attack into second opponent." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd061" name="Ghost Blade" description="{b}Shadow Hand 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}A smile brightens your foe&#146;s eyes; he has dodged your blow. But that was merely the ghost blade. The real blade is cutting swiftly from underneath, and yet he still smiles. . . .{/i}\n\nAs part of this maneuver, you make a melee attack. As you strike at your opponent, you create an illusory double of your weapon. This double slashes at your opponent, tricking him into mistaking it for your attack. In truth, the illusion cloaks your real attack. Your opponent is caught flat-footed against this strike, as the hidden attack from a new direction ruins his defenses.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Target becomes flat-footed." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd062" name="Shadow Noose" description="{b}Shadow Hand 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 60 ft.\n{b}Target:{/b} One flat-footed living creature\n{b}Duration:{/b} 1 round\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}As you foe struggles to ready his defenses, you make a subtle gesture in the air. A noose formed of shadow drops from above him, wraps around his throat, and hoists him aloft. His limbs flail as he struggles to free himself from the strangling noose.{/i}\n\nAs part of this maneuver, you form a noose of shadow that wraps around your target and strangles him. This maneuver works only against a flatfooted target. As part of this maneuver, you make a ranged touch attack against a flat-footed creature within range. If it hits, your opponent takes 8d6 points of damage. In addition, he must make a successful Fortitude save (DC 16 + your Wis modifier) or be stunned for 1 round. A successful save negates the stun, but not the extra damage. This strike has no effect against nonliving creatures, such as constructs and undead.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Ranged touch attack deals 8d6 damage and might stun flat-footed target." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 16 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    </thing>
  <thing id="cShaHnd063" name="Stalker in the Night" description="{b}Shadow Hand 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You slide through the dark like a bird of prey, emerging only to strike down your foe before sliding back into shadow&#146;s welcoming embrace.{/i}\n\nAs part of this maneuver, you move up to your speed and make a single melee attack at any point during your movement. If you were hidden before initiating this maneuver, you can keep the results of your previous Hide and Move Silently checks even though you move and attack. As long as you end your turn in a spot that allows you to hide, your foes must make Spot and Listen checks as normal to discern your presence. Your movement and this maneuver&#146;s attack have no effect on your Hide and Move Silently results." compset="CustomSpec" summary="Strike - Move and attack while remaining hidden." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    </thing>
  <thing id="cStoDra061" name="Crushing Vice" description="{b}Stone Dragon 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}The overwhelming power behind your attack leaves your opponent unable to move. The punishing strike forces it to waste a few moments shrugging off the effects of your attack.{/i}\n\nBy making a powerful, focused blow, you leave your opponent unable to move. The crushing weight of your attack forces it to waste a precious moment regaining its footing.\n\nAs part of this maneuver, you make a melee attack. This attack deals an extra 4d6 points of damage. If the creature you hit is standing on the ground, your attack also drops the target&#146;s speed to 0 feet (for all movement types) for 1 round. It can act normally in all other ways.\n\nThis maneuver functions only against opponents standing on the ground. A flying creature or a levitating target is immune to the speed reducing effect, but not to the extra damage." compset="CustomSpec" summary="Strike - Deal +4d6 damage, attack immobilizes creature." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    </thing>
  <thing id="cStoDra062" name="Iron Bones" description="{b}Stone Dragon 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: 1 round\n\n{i}As you make a successful attack, you enter a meditative state that leaves you almost invulnerable to harm. For a few brief moments, arrows bounce off your skin, and sword blows barely draw any blood.{/i}\n\nThis maneuver is an evolution of the techniques and abilities covered by the stone bones maneuver. Your meditative focus, ki, and training allow your mind to overcome matter. Weapons bounce from you skin and barely injure you.\n\nWhen you use this maneuver, you make a single melee attack. If this attack hits, you gain damage reduction 10/adamantine for 1 round." compset="CustomSpec" summary="Strike - Gain DR 10/adamantine." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra063" name="Irresstible Mountain Strike" description="{b}Stone Dragon 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}You slam your weapon into your foe with irresistible force. He can barely move as he struggles to marshal his defenses against you.{/i}\n\nYour mighty attack causes your opponent to stagger aimlessly for a few key moments, leaving him unable to act fully on his next turn.\n\nAs part of this maneuver, you make a single melee attack. This attack deals an extra 4d6 points of damage. A creature hit by this strike must also make a successful Fortitude save (DC 16 + your Str modifier) or be unable to take a standard action for 1 round. It can otherwise act as normal. A creature that successfully saves still takes the extra damage.\n\nThis maneuver functions only against opponents standing on the ground. A flying creature or a levitating target need not save against the action loss effect, but still takes the extra damage." compset="CustomSpec" summary="Strike - Deal +4d6 damage, target loses standard action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 16 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    </thing>
  <thing id="cTgrClw061" name="Rabid Bear Strike" description="{b}Tiger Claw 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}With a ferocious roar, you leap upon your enemy like a wild beast, slamming your weapon into her with a madman&#146;s fury.{/i}\n\nYou focus your primal fury into a single attack, laying an opponent low with a mighty blow that splinters bones and shatters steel. As part of this maneuver, you make a single melee attack. You gain a +4 bonus on this attack roll and deal an extra 10d6 points of damage. After completing this maneuver, you take a &#150;4 penalty to AC until the start of your next turn." compset="CustomSpec" summary="Strike - Gain +4 on attack, deal +10d6 damage, &#150;4 AC with attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw062" name="Wolf Climbs the Mountain" description="{b}Tiger Claw 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You slip between a larger foe&#146;s legs and strike its exposed side. You then find cover in the shadow of your enemy&#146;s bulk.{/i}\n\nYou can use this maneuver only against an opponent of a size category larger than yours. As part of this maneuver, you enter your target&#146;s square without provoking an attack of opportunity. You can then attack your target as part of this maneuver. Your attack deals an extra 5d6 points of damage. You remain within your opponent&#146;s space after you complete this maneuver. You gain cover against all attacks as long as you remain in his space, including those made by the target. If the target moves, it leaves you behind but provokes an attack of opportunity from you for leaving your space." compset="CustomSpec" summary="Strike - Enter larger foe&#146;s space, deal +5d6 damage, gain cover from foe." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn061" name="Order Forged from Chaos" description="{b}White Raven 6{/b}\n\n{b}Initiation Action:{/b} 1 move action\n{b}Range:{/b} Personal\n{b}Targets:{/b} Allied creatures within 30 ft.\n\n{i}You bark a series of stern orders, directing your comrades to shift formation. The power of your presence is such that they obey without consciously thinking about it.{/i}\n\nYou excel at using your commanding presence to direct your allies on the battlefield. After a few short, barked orders from you, your allies switch positions and assume a tactically advantageous position.\n\nWhen you initiate this maneuver, all allies within 30 feet of you can immediately take a single move action to move up to their speed. This movement provokes attacks of opportunity, and it does not count toward fulfilling the minimum movement requirements of any special abilities or feats, such as a scout&#146;s skirmish ability." compset="CustomSpec" summary="Allies move up to their speed during your turn." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn062" name="War Leader&apos;s Charge" description="{b}White Raven 6{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You summon a great fury within your lungs, releasing it with a titanic shout as you charge forward. Your reckless move startles your foes and puts greater force behind your attack.{/i}\n\nAs a student of the White Raven, you learn to focus the energy within you into an overwhelming charge. In battle, you must lead from the front. \n\nAs part of this maneuver, you charge an opponent. You do not provoke attacks of opportunity for moving as part of this charge. If your charge attack hits, it deals an extra 35 points of damage." compset="CustomSpec" summary="Strike - No attacks of opportunity while charging, deal +35 damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="11th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd062" name="Fiery Assault" description="{b}Desert Wind 6{/b} (Stance) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Fire dances along your arms and across your weapon, lending burning energy to every attack you make.{/i}\n\nWhile you are in this stance, every melee attack you make deals an extra 1d6 points of fire damage.\n\nThis stance is a supernatural ability." compset="CustomSpec" summary="Stance - Melee attacks deal +1d6 fire damage." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="11th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi061" name="Aura of Chaos" description="{b}Devoted Spirit 6{/b} (Stance) [Chaos]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}A coruscating aura of purple energy surrounds you as chaos runs rampant in the area immediately around you.{/i}\n\nWhile you are in this stance, your attacks have the potential to be utterly devastating. When rolling damage for a melee attack, you gain a special benefit from any damage die that rolls its maximum amount (such as a result of 6 on a d6). When one or more of your damage dice show a maximum possible result, reroll each such die and add its result to the original damage total. You can continue to reroll as long as a die shows its maximum possible result, adding each new number to the damage total until each die has shown less than a maximum result." compset="CustomSpec" summary="Stance - Reroll and add maximum damage dice." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="11th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi062" name="Aura of Perfect Order" description="{b}Devoted Spirit 6{/b} (Stance) [Law]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}A perfect, hazy square of golden energy surrounds you as you enter this stance. Order reigns supreme, driving away the whims of chaos.{/i}\n\nThis stance allows you to treat a potential d20 result as an 11. You must decide to use this ability immediately before rolling the d20. You can use this ability once per round. Using this ability does not take an action. You simply decide to invoke it before rolling a d20 for any reason, such as for an attack, save, or check." compset="CustomSpec" summary="Stance - Treat d20 result as 11." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="11th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi063" name="Aura of Triumph" description="{b}Devoted Spirit 6{/b} (Stance) [Good]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You and one ally within 10 ft.\n{b}Duration:{/b} Stance\n\n{i}You channel the power of good through your body and soul, infusing the area around you with a soft, golden radiance. With each blow you strike against evil, you feel invigorated and driven onward.{/i}\n\nWhile you are in this stance, you and any ally within 10 feet of you both heal 4 points of damage with each successful melee attack either of you makes against an evil target." compset="CustomSpec" summary="Stance - You and allies heal 4 points with each attack against evil." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="11th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi064" name="Aura of Tyranny" description="{b}Devoted Spirit 6{/b} (Stance) [Evil]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}A sickly gray radiance surrounds you, sapping the strength of your allies and funneling it to you.{/i}\n\nWhile you are in this stance, you drain hit points from your allies. At the end of your turn, you can choose to deal 2 points of damage to each willing ally within 10 feet. For each ally who takes this damage, you heal 1 point of damage." compset="CustomSpec" summary="Stance - Drain hit points from allies." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="11th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 11]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw072" name="Prey on the Weak" description="{b}Tiger Claw 7{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: Stance \n\n{i}You scythe through weaker foes like a mighty predator turned loose among a herd of prey.{/i}\n\nWith each foe you strike, your bloodlust and battle fury rises ever higher. After a brief moment of explosive rage, the foes around you are left bloodied, torn, and moaning.\n\nWhenever an opponent within 10 feet of you drops to &#150;1 or fewer hit points, whether from your attack, an ally&#146;s strike, or some other cause, you can immediately make an attack of opportunity against any opponent within your threatened area." compset="CustomSpec" summary="Stance - Attack of opportunity with each foe that drops." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="13th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd081" name="Rising Phoenix" description="{b}Desert Wind 8{/b} (Stance) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Hot wind swirls about your feet, lifting you skyward as flames begin to flicker below.{/i}\n\nA column of superheated air lifts you into the air. While you are in this stance, you can hover up to 10 feet above any solid or liquid surface. You gain a fly speed equal to your land speed, with perfect maneuverability, but you must remain within 10 feet of the ground when you fly.\n\nIf you hover in place and make a full attack, the column of air becomes superheated, dealing 3d6 points of fire damage to creatures adjacent to or within the column, including creatures adjacent to your square. You are not harmed by this effect.\n\nYou can move across shallow pits or other such variations in terrain without losing altitude, so long as your movement wouldn&#146;t take you more than 10 feet above a solid or liquid surface. If you are ever more than 10 feet above the ground (such as if the floor drops out from under you or you move over the edge of a tall cliff), the rising phoenix stance immediately ends and you fall to the ground.\n\nThis stance is a supernatural ability." compset="CustomSpec" summary="Stance - Hover on column of super-heated air." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi082" name="Immortal Fortitude" description="{b}Devoted Spirit 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Despite the horrific wounds you suffer, the flash of searing spells, and the crash of a foe&#146;s mighty attacks, you stand resolute on the field. So long as the potential for victory exists, you fight on.{/i}\n\nDeath has little meaning to you in light of the cause you fight for. So long as the mission stands before you uncompleted, or a battle remains in doubt, you fight on. Stories abound of crusaders who, while in the grips of this stance, fought for days on end to hold a mountain pass against orcs, trolls, and other fiends.\n\nSo long as you remain in this stance, you cannot be killed or incapacitated by effects or attacks that reduce you to 0 or fewer hit points. If you take such damage, you can make a Fortitude save with a DC equal to your negative hit point total. If you fail this save, you die or fall unconscious (as appropriate). If this save is successful, you are still alive and conscious, with 1 hit point remaining.\n\nThis stance provides no protection against effects that slay you without dealing hit point damage, or other effects that petrify, paralyze, and so forth. You can still be slain by a coup de grace if a spell or effect renders you helpless.\n\nAfter you attempt three saving throws to avoid death or unconsciousness, this stance automatically ends. You can activate it again on your turn as normal. Even the toughest crusader can endure only so much punishment." compset="CustomSpec" summary="Stance - You cannot die due to hit point damage." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd083" name="Stance of Alacrity" description="{b}Diamond Mind 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}Your mind and body meld, granting you an edge in combat. You move slightly faster than normal due to a combination of confi dence, training, and clarity of mind. This slight edge adds up with each action.{/i}\n\nYour mental swiftness translates to physical action on the battlefield. You are constantly on edge, allowing you to react to multiple attacks and threats. Most warriors can only manage a single counter move each round.\n\nWhile you are in this stance, you can use one counter per round without taking an immediate action. You cannot use the same maneuver two times in a round. In essence, one counter you use during the round does not require an immediate action. If you have already taken an immediate action within the past round, such as casting a feather fall spell, you can still use this stance to initiate a counter." compset="CustomSpec" summary="Stance - Gain extra counter each round." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt083" name="Supreme Blade Parry" description="{b}Iron Heart 8{/b}\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You drop into a relaxed pose, allowing your defenses to flow naturally and easily. Your blade lashes out to absorb or deflect each attack you face, blunting the force of your enemies&#146; blows.{/i}\n\nAs a student of the Iron Heart discipline, you learn that a simple flick of the wrist or turn of the blade can transform a deadly strike into a wild miss. In battle, you enter a steady rhythm that makes you frustratingly difficult to fight. You disrupt each attack with a perfectly timed counter, leaving your foes&#146; strikes weak and ineffectual.\n\nWhile you are in this stance, you gain damage reduction 5/&#151; against any opponent that does not catch you flat-footed. To gain this benefit, you must be proficient with the weapon you carry. You gain this benefit while unarmed only if you have the Improved Unarmed Strike feat." compset="CustomSpec" summary="Stance - Gain DR 5/&#151;." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xDamRd">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:hIsOn1 <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]
 
  foreach pick in hero from BaseWep where "!IsWeapon.Unarmed"
   if (eachpick.field[gIsEquip].value + eachpick.field[wIs2nd].value + #hasfeat[fImpUnarm] <> 0) then
     #applydr[xDamRd,5]
   endif
  nexteach]]></eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 4, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun082" name="Ghostly Defense" description="{b}Setting Sun 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}You lurk within concealing mist, luring your opponent into attacking you, only to dodge out of the way and direct your enemy&#146;s blow at an unwitting ally.{/i}\n\nYou are a ghost in the mist, capable of turning a foe against her allies. By gauging your opponent&#146;s fi ghting stance, timing your dodge correctly, and placing yourself in the right position, you can lead her into attacking one of her allies rather than you. When your foe strikes, you duck out of the way. As she follows through with her attack, she inadvertently attacks an ally.\n\nYou gain this stance&#146;s benefit when an opponent&#146;s attack against you has a miss chance, such as from concealment. Whenever an opponent&#146;s melee or ranged attack misses you because of this miss chance, you can choose to change the target of the attack from you to another eligible target (other than your attacker). For a melee attack, the new target must be within your opponent&#146;s reach and adjacent to you. For a ranged attack, the new target must be adjacent to you, and your opponent must have line of effect to him. Use the result of the original attack to determine if it hits the new target. Your foe does not check again for a miss chance, as you guide the attack directly to the new target. This ability applies only once per attack. If you use ghostly defense to redirect an attack against a foe using this stance, he does not have the option to redirect the attack again.\n\nYou must be aware of an opponent&#146;s attack to gain the benefit of this stance. You cannot use it against attacks that catch you flat-footed." compset="CustomSpec" summary="Stance - Enemies hit target of your choice while you have concealment." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd081" name="Balance on the Sky" description="{b}Shadow Hand 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} Stance\n\n{i}With arms spread wide, you step onto the air.{/i}\n\nYou gain the ability to use {i}air walk{/i} (PH 196) on yourself only. You must keep at least one hand empty while using this stance. Moving upward requires you to spend 10 feet of movement for each 5 feet of elevation you gain. \n\nYou gain the benefit of {i}air walk{/i} only while you maintain this stance. If for some reason your stance ends while you are in midair, you fall to the ground.\n\nThis stance is a supernatural ability." compset="CustomSpec" summary="Stance - Walk on air." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000" index="2">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra083" name="Strength of Stone" description="{b}Stone Dragon 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: Stance\n\n{i}You enter an impenetrable defensive stance, making it almost impossible for an attack to strike you in a vulnerable area.{/i}\n\nWhile you are in this stance, you focus your efforts on preventing any devastating attacks from penetrating your defenses. You are immune to critical hits while you are in this stance.\n\nThis stance immediately ends if you move more than 5 feet for any reason, such as from a bull rush attack, a {i}telekinesis spell{/i}, and so forth." compset="CustomSpec" summary="Stance - Gain immunity to critical hits." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw083" name="Wolf Pack Tactics" description="{b}Tiger Claw 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\nDuration: Stance\n\n{i}With each stinging attack that connects against a foe, you slip around him, using the distraction provided by your attacks to prevent him from hindering your movement.{/i}\n\nYou prowl the battlefield like a mighty hunter. You pick your spots to attack, striking foes when they are most vulnerable before moving on to attack elsewhere. Each attack allows you to move forward and press your advantage.\n\nWhile you are in this stance, each successful strike allows you to slowly work your way around an opponent. Each time you make a successful melee attack, you can move 5 feet. This movement does not provoke attacks of opportunity from the creature you struck. You cannot use this stance to move more than your current speed in a single round." compset="CustomSpec" summary="Stance - Free 5-ft. step with each successful attack." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn081" name="Swarm Tactics" description="{b}White Raven 8{/b} (Stance)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} 60-ft.-radius emanation centered on you\n{b}Duration:{/b} Stance\n\n{i}Your quick directions enable close teamwork between yourself and an ally. At your urging, your allies seize the initiative and work in close coordination with you to defeat an enemy.{/i}\n\nWhile you are in this stance, you use your tactical knowledge and mastery to improve your allies&#146; teamwork. If you are adjacent to one or more opponents, your allies gain a +5 bonus on attack rolls made against any of those opponents." compset="CustomSpec" summary="Stance - Allies gain +5 on attacks against enemy adjacent to you." uniqueness="useronce">
    <fieldval field="hName1" value="active"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000">doneif (field[hIsOn1].value = 0)
  perform hero.assign[User.ToBStance]</eval>
    <exprreq message="15th level Initiator required."><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn071" name="Clarion Call" description="{b}White Raven 7{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} 60-ft.-radius burst centered on you\n\n{i}As you defeat an opponent, you shout a battle cry that inspires one of your allies to renew his efforts.{/i}\n\nYou are an inspiring figure on the battlefield. Your personal victories are shared by your allies, allowing them to draw courage and vigor from your actions.\n\nIf during your turn a melee attack you make reduces an opponent to fewer than 0 hit points, you can initiate this maneuver. Once it is initiated, all allies within range can immediately either make one melee attack at their highest attack bonus or take a single move action. These allies must be able to see and hear you. These extra attacks are not attacks of opportunity." compset="CustomSpec" summary="Boost - If you drop a foe, allies within 60 ft. can make free attack or take move action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn072" name="Swarming Assault" description="{b}White Raven 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You attack an opponent with brutal force, ruining his defenses. As you strike, you call out sharp commands to your allies, spurring them to action and allowing them to take advantage of the opening.{/i}\n\nYou inspire your allies with a rousing speech, a war cry, a challenge to the enemy, or some other defiant gesture. Combining this shout with a canny attack, you strip away a foe&#146;s defenses, allowing your allies to make potentially devastating attacks.\n\nAs part of this maneuver, you make a single melee attack against an opponent. If this attack hits, you deal normal melee damage, and any ally who threatens your target can immediately make an attack against him. You choose the order in which your allies&#146; attacks resolve." compset="CustomSpec" summary="Strike - Allies make free attacks against a foe you strike." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw071" name="Hamstring Attack" description="{b}Tiger Claw 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude half\n{b}Duration:{/b} 1 minute \n\n{i}You slice into your opponent&#146;s legs, leaving him hobbled and stumbling about.{/i}\n\nAs part of this maneuver, you make a single melee attack. If this attack hits, it deals damage as normal. In addition, the target takes 1d8 points of Dexterity damage and a &#150;10-foot penalty to speed for 1 minute. A successful Fortitude save (DC 17 + your Str modifier) halves both the Dexterity damage and the speed penalty." compset="CustomSpec" summary="Strike - Attack deals 1d8 Dexterity damage, foe&#146;s speed has &#150;10 penalty." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 17 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw073" name="Swooping Dragon Strike" description="{b}Tiger Claw 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}Like a dragon, you swoop down upon your foe and let loose with a devastating attack. You leap over her and, as you soar through the air, unleash a devastating volley of attacks.{/i}\n\nYou leap over an opponent and chop down at her, ruining her defenses and striking with a critical blow.\n\nAs part of this maneuver, you attempt a Jump check to leap over your target. The result of this Jump check must be sufficient to allow you to move through an opponent&#146;s space and over her. If you fail the Jump check needed to jump over your foe, you provoke attacks of opportunity for the distance you jump, if applicable. If your jump was too short to clear your opponent but far enough that you would land in a space she occupies, you land adjacent to your opponent in the square closest to your starting square.\n\nIf your check is insufficient to jump over your target, you can also make a single attack against your foe with no special benefits or penalties, as long as your target is within reach.\n\nIf the check succeeds, you do not provoke attacks of opportunity for leaving threatened squares during your jump. Your foe loses her Dexterity bonus to AC against your melee attack. This attack deals an extra 10d6 points of damage, and the target must succeed on a Fortitude save (DC equal to your Jump check result) or be stunned for 1 round." compset="CustomSpec" summary="Strike - Jump over foe, deal +10d6 damage, stun." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra071" name="Ancient Mountain Hammer" description="{b}Stone Dragon 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature or unattended object\n\n{i}You put the weight of a great mountain behind your attack, pounding through armor and bone.{/i}\n\nAs part of this maneuver, you make a single melee attack. This attack deals an extra 12d6 points of damage and automatically overcomes damage reduction and hardness." compset="CustomSpec" summary="Strike - Deal +12d6 damage, overcome DR and hardness." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra072" name="Colossus Strike" description="{b}Stone Dragon 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}Focusing your strength with a deep, rumbling shout, you execute an attack that sends your opponent flying through the air.{/i}\n\nAs part of this maneuver, you make a melee attack against your foe. This attack deals an extra 6d6 points of damage, and the creature struck must succeed on a Fortitude save (DC 17 + your Str modifier) or be hurled 1d4 squares away from you, falling prone in that square. A creature of a smaller size category than yours gets a &#150;2 penalty on this save; a creature of a larger size category than yours gets a +2 bonus on the save. The enemy&#146;s movement doesn&#146;t provoke attacks of opportunity. If an obstacle blocks the creature&#146;s movement, it instead stops in the fi rst unoccupied square." compset="CustomSpec" summary="Strike - Strike deals +6d6 damage, knocks opponent backward." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 17 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd071" name="Death in the Dark" description="{b}Shadow Hand 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}You catch your foe unaware, allowing you to deal a single, deadly strike that slays her instantly.{/i}\n\nThis maneuver functions only against a flat-footed opponent. As part of this maneuver, make a single melee attack. If this attack hits, you deal normal damage and the target must make a Fortitude save (DC 17 + your Wis modifier). If the target fails this save, she takes an extra 15d6 points of damage. If her save succeeds, she takes an extra 5d6 points of damage. This maneuver functions only against opponents who are vulnerable to critical hits." compset="CustomSpec" summary="Strike - Deal +15d6 damage to surprised target." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var DC as number

DC = 17 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    </thing>
  <thing id="cShaHnd072" name="Shadow Blink" description="{b}Shadow Hand 7{/b} [Teleportation]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} 50 ft.\n{b}Target:{/b} You\n\n{i}In the blink of an eye, you disappear and emerge from a mote of shadow energy across the battlefield.{/i}\n\nThis maneuver functions as the shadow jaunt maneuver, except that it can be initiated as a swift action." compset="CustomSpec" summary="Teleport 50 ft. through shadows as swift action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    </thing>
  <thing id="cSetSun071" name="Hydra Slaying Strike" description="{b}Setting Sun 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You take stock of an opponent&#146;s fi ghting style and make a single, carefully aimed attack that leaves the creature unable to make all of its attacks.{/i}\n\nYou take careful aim at an enemy creature, striking it with the precise amount of force needed to push it off guard and leave it unable to bring all of its attacks to bear. Your opponent must spend critical seconds adjusting its guard and reevaluating its surroundings.\n\nAs part of this maneuver, make a single melee attack. If this attack hits, your target takes normal damage and cannot make a full attack on its next turn. Otherwise, it can act normally." compset="CustomSpec" summary="Strike - Foe is unable to use full attack action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt071" name="Finishing Move" description="{b}Iron Heart 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You deliver a devastating strike against a wounded foe, aiming to finish him off once and for all.{/i}\n\nIron Heart teaches that it is best to finish off a foe with as little effort as possible, the better to save your strength for your remaining enemies. When you use this maneuver, you throw yourself on the offensive with little thought to your defenses. If this attack strikes home, it might end a fight several crucial seconds early.\n\nAs part of this maneuver, you make a melee attack against a creature. This attack deals an extra 4d6 points of damage. If the target&#146;s current hit points are less than its full normal hit points, the attack instead deals an extra 6d6 points of damage. If its hit points are equal to or less than one-half its full normal hit points, the attack instead deals an extra 14d6 points of damage." compset="CustomSpec" summary="Strike - Gain extra damage against weakened foe." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 4, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt072" name="Scything Blade" description="{b}Iron Heart 7{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You strike at one foe with a long, high backhand cut, then make a quick turn to continue the stroke against another nearby enemy.{/i}\n\nYou swing your weapon in a wide, deadly arc. With your supreme skill and martial training, you aim your attack so that as you strike one opponent, you set yourself up perfectly to make a second attack against a different foe. As your weapon strikes one opponent, it cuts into him, then ricochets to your second target.\n\nIf the first melee attack you make during your turn hits, you can immediately make a free attack at your highest attack bonus against a different enemy that you threaten. You can only gain one free attack each time you initiate this maneuver, regardless of how many successful attacks you make in this round." compset="CustomSpec" summary="Boost - Strike one foe, free attack against another one." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd071" name="Avalanche of Blades" description="{b}Diamond Mind 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}In a flashing blur of steel, you unleash a devastating volley of deadly attacks against your enemy, striking it again and again.{/i}\n\nYou lash at an opponent. If your attack hits, you repeat the same attack again and again at nearly superhuman speed, allowing you to score multiple hits in a blur of activity. Unfortunately, as soon as an attack misses, your tempo breaks, and this delicate maneuver crumbles into a flurry of wasted motion.\n\nAs part of this maneuver, you make a single melee attack against an opponent. If that attack hits, resolve your damage as normal. You can then make another attack against that foe with a &#150;4 penalty on your attack roll. If that attack hits, you can make another attack against that opponent with a &#150;8 penalty. You continue to make additional attacks, each one with an additional &#150;4 penalty, until you miss or your opponent is reduced to &#150;1 hit points or fewer. You must direct all these attacks at a single foe." compset="CustomSpec" summary="Strike - With each attack that hits, make another attack with increasing penalty." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd072" name="Quicksilver Motion" description="{b}Diamond Mind 7{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}In the blink of an eye, you make your move. Your speed, reflexes, and boundless confidence combine to allow you to make a fast, bold move that catches your foes off guard.{/i}\n\nWith a burst of energy, you move forward to press an attack, draw an item from your backpack, or take some other move action. Your training, mental acuity, and drive allow you to move with greater speed and confidence than other warriors.\n\nThis maneuver requires a swift action to initiate. You can take a free move action after you initiate this maneuver. You can use any of the options available for a move action. You can then use the rest of your actions as normal. For example, you could use this maneuver to move next to a foe, then take a full attack action. You could move, then make a charge attack, and so forth. The move action you gain from this maneuver provokes attacks of opportunity as normal." compset="CustomSpec" summary="Boost - Use swift action to complete move action." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi071" name="Castigating Strike" description="{b}Devoted Spirit 7{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Area:{/b} 30-ft.-radius burst; see text\n{b}Duration:{/b} 1 minute\n{b}Saving Throw:{/b} Fortitude partial; see text\n\n{i}With a howling battle cry, your weapon crackles with energy. As you strike your foe, that energy detonates in a burst that scythes through those who stand against your cause.{/i}\n\nWhen you use this strike, make a single melee attack. If you hit your opponent and his alignment has at least one component different from yours, a blast of divine energy originates from your attack&#146;s point of impact. The target of this strike takes an extra 8d6 points of damage and must succeed on a Fortitude save (DC 17 + your Cha modifi er) or take a &#150;2 penalty on attack rolls for 1 minute.\n\nAll of your opponents within a 30- foot-radius burst of the target creature must also succeed on a Fortitude save. Those who fail take 5d6 points of damage and take a &#150;2 penalty on attack rolls for 1 minute. A successful save results in half damage and negates the attack penalty." compset="CustomSpec" summary="Strike - Deal +8d6 damage and trigger area blast." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000" index="2"><![CDATA[var DC as number

DC = 17 + hero.child[aCHA].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDevSpiFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi072" name="Shield Counter" description="{b}Devoted Spirit 7{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}As your opponent prepares to make his attack, you bash him with your shield and disrupt his attempt.{/i}\n\nAs an immediate action, you can attempt a shield bash against an opponent you threaten. This attack is made with a &#150;2 penalty. If your shield attack hits, your target&#146;s next attack automatically misses.\n\nYou can use this maneuver immediately after an opponent declares an attack, but you must do so before the attack&#146;s result has been determined." compset="CustomSpec" summary="Counter - Shield bash cancels foe&#146;s attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd071" name="Inferno Blade" description="{b}Desert Wind 7{/b} (Boost) [Fire]\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\n{i}A blinding light flashes from your weapon, and for a split second, it transforms into burning magma.{/i}\n\nYou convert your ki into fiery energy, allowing it to flow down your arms and across your weapon. Until the end of your turn, your melee attacks deal an extra 3d6 points of fire damage + 1 point per initiator level.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Boost - Melee attacks deal +3d6 fire damage + 1/initiator level." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="10000" index="2"><![CDATA[var bonus as number

bonus = hero.childfound[xInitiator].field[Value].value

field[livename].text = field[name].text & " (+3d6+" & bonus & ")"]]></eval>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    </thing>
  <thing id="cDesWnd072" name="Salamander Charge" description="{b}Desert Wind 7{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Special\n{b}Area:{/b} One 5-ft square per 5 ft. of movement\n{b}Duration:{/b} Instantaneous; 5 rounds; see text (D)\n\n{i}You spin and tumble about the battlefield, a wall of raging flame marking your steps.{/i}\n\nYou initiate this maneuver as part of a charge attack. As with a charge, you can move up to double your speed and make a single attack, gaining a +2 bonus on the attack roll and a &#150;2 penalty to your Armor Class while you move and until your next turn. Unlike a normal charge, however, your salamander charge does not need to be in a straight line and is not impeded by diffi cult terrain, or even other creatures. You can change direction as much as you want during your movement, and you can also use your Tumble skill to avoid attacks of opportunity or to move through opponents&#146; squares during the charge.\n\nWhen you initiate a salamander charge, a wall of shimmering, spectral fire appears in each of the squares along the path you take. A creature standing in the wall takes 6d6 points of fire damage at the beginning of that creature&#146;s turn. A creature occupying a square adjacent to the wall takes 3d6 points of fire damage at the start of its turn. Creatures that move into or through the wall also take 6d6 points of fire damage. The wall lasts up to 5 rounds. You can automatically dispel the wall with a wave of your hand (a swift action), and the wall is automatically dispelled if you initiate another salamander charge. The wall does not block line of sight or line of effect.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Charge and create trail of fire." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="13th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 13]]></exprreq>
    <prereq message="Three Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd082" name="Wyrm&apos;s Flame" description="{b}Desert Wind 8{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} Cone\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}You spin your blade in a whirling arc. With each revolution, seething flames build upon its length. With a flourish, you bring your blade to a halt, point it at your foe, and unleash a roaring wall of flame.{/i}\n\nMasters of the Desert Wind can twirl and spin their blades with such power that they can evoke a great burst of fire. When you execute this maneuver, you blast forth a cone of fire that deals 10d6 points of fire damage to all in its area. Creatures in the area can attempt a Reflex save (DC 18 + your Wis modifier) for half damage.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Cone of fire deals 10d6 fire damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="5000" index="2"><![CDATA[var DC as number

DC = 18 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Desert Wind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi081" name="Divine Surge, Greater" description="{b}Devoted Spirit 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round; see text\n\n{i}A torrent of divine energy courses through you. With supreme force of will, you channel the energy into a devastating attack even as it saps your mortal form.{/i}\n\nAs part of this maneuver, you make a single melee attack that deals an extra 6d8 points of damage. In addition, before making this melee attack, you can also decide to take a number of points of Constitution damage equal to your initiator level or lower. For each point of Constitution damage you take, you gain a +1 bonus on your attack roll and deal an extra 2d8 points of damage. After using this maneuver, you are considered flat-footed until the beginning of your next turn." compset="CustomSpec" summary="Strike - Deal +6d8 damage, also gain +1 on attacks and deal +2d8 damage per point of Con damage you voluntarily take." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 3, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd081" name="Diamond Defense" description="{b}Diamond Mind 8{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}You steel yourself against an opponent&#146;s spell, drawing on your focus and training to overcome its effect.{/i}\n\nYou can initiate this maneuver any time you would be required to make a saving throw. You gain a bonus on that save equal to your initiator level. You must use this maneuver before you roll the saving throw." compset="CustomSpec" summary="Counter - Gain save bonus equal to level." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var bonus as number

bonus = hero.childfound[xInitiator].field[Value].value

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    </thing>
  <thing id="cDiaMnd082" name="Diamond Nightmare Blade" description="{b}Diamond Mind 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You spot a single fatal flaw in your opponent&#146;s defenses. With a single attack, you put all the force of your supreme focus into a single, crippling blow.{/i}\n\nYou must make a Concentration check as part of this maneuver. The DC of this check is the target creature&#146;s AC. You then make a single melee attack against your target, also as part of the maneuver. If your Concentration check succeeds, this attack deals four times your normal melee damage. If your check fails, your attack is made with a &#150;2 penalty and doesn&#146;t deal any additional damage.\n\nIf your strike is a critical hit, you stack the multipliers as normal (PH 304)." compset="CustomSpec" summary="Strike - Attack deals quadruple damage with successful Concentration check." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 4, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt081" name="Adamantine Hurricane" description="{b}Iron Heart 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Targets:{/b} One or more adjacent creatures you threaten\n\n{i}In a blur of motion, you make a short, twisting leap in the air. As you turn, your weapon flashes through the enemies around you like a blazing comet. As you drop back to the ground in your fighting stance, your enemies crumple to the ground around you.{/i}\n\nYou sweep your weapon in a circle around you, striking out at nearby enemies. You strike with the speed and ferocity of a lightning bolt, forcing your enemies to rely on their reflexes for protection rather than their armor and shields.\n\nYou make two melee attacks against each adjacent opponent you threaten when you initiate this maneuver. You receive a +4 bonus on each of these attacks, which are otherwise made with your highest attack bonus." compset="CustomSpec" summary="Strike - Two attacks against each adjacent foe, +4 bonus on each attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt082" name="Lightning Throw" description="{b}Iron Heart 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 30 ft.\n{b}Area:{/b} 30-ft. line\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}You throw your weapon through the air, sending it flying end over end to strike with uncanny accuracy and terrible force. It leaves in its wake a trail of battered enemies.{/i}\n\nThe Iron Heart tradition&#146;s more esoteric teachings allow a student to transform any melee weapon into a thrown projectile. By focusing your concentration and attuning your senses to your weapon&#146;s balance, you can throw almost anything.\n\nWhen you use this strike, you make a single melee attack (even though you are throwing your weapon). You deal damage to each creature in the maneuver&#146;s area equal to your normal melee damage (including damage from your Strength modifier, feats, magical abilities on your weapon, and so forth), plus an extra 12d6 points of damage. Each creature in the attack&#146;s area can make a Reflex save with a DC equal to the result of your attack roll. A successful save halves the damage dealt.\n\nYour weapon automatically returns to your hand at the end of the round." compset="CustomSpec" summary="Strike - Use melee attack as a line attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun081" name="Fool&apos;s Strike" description="{b}Setting Sun 8{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}A creature strikes, but you turn the blow straight back at it.{/i}\n\nWhen an enemy attacks you on its turn, you can attempt to block the blow and send it back at that creature. You step into the attack and redirect it. This maneuver pits your skill against that of your foe.\n\nIf an opponent attacks you, you can initiate this maneuver to make an opposed attack roll as an immediate action. If your foe&#146;s result is higher, he attacks you as normal. If your result is higher, your foe rolls damage as normal for the attack and takes that much damage." compset="CustomSpec" summary="Counter - Reflect foe&#146;s attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd083" name="One With Shadow" description="{b}Shadow Hand 8{/b} (Counter)\n\n{b}Initiation Action:{/b} 1 immediate action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} See text\n\n{i}You fade into the raw essence of shadow, turning transparent, then insubstantial.{/i}\n\nAs an immediate action, you become incorporeal. You gain all the benefits of the incorporeal subtype, along with the drawbacks, as outlined in the Incorporeal Subtype sidebar. All of your gear becomes incorporeal, although you cannot grant this state to a living creature that you touch or carry. You remain incorporeal until the beginning of your next turn." compset="CustomSpec" summary="Counter - Become incorporeal for 1 round." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <fieldval field="hName2" value="incorporeal"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <bootstrap thing="stypIncorp">
      <containerreq phase="First" priority="4000"><![CDATA[fieldval:hIsOn2 <> 0]]></containerreq>
      </bootstrap>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cShaHnd082" name="Enervating Shadow Strike" description="{b}Shadow Hand 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude negates\n\n{i}Your weapon becomes cloaked in an inky, black nimbus. As you strike your opponent, that energy flows into the wound and leaves him pale, weak, and shaking.{/i}\n\nAs part of this maneuver, you make a single melee attack. If this attack hits, the target must make a successful Fortitude save (DC 18 + your Wis modifier) or gain 1d4 negative levels. You gain 5 temporary hit points for each negative level your enemy gains. Temporary hit points gained in this manner last until the end of the encounter. The effects of any negative levels bestowed by this strike disappear in 24 hours.\n\nIf the target has at least as many negative levels as Hit Dice, it dies. Each negative level gives a creature a &#150;1 penalty on attack rolls, saving throws, skill checks, ability checks, and effective level (for determining the power, duration, DC, and other details of spells or special abilities). Additionally, a spellcaster loses one spell or spell slot from her highest available level. Negative levels stack.\n\nIn addition to the negative levels, your attack deals normal damage, even if the target succeeds on the saving throw.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Target of strike gains 1d4 negative levels." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 18 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
    ~ if we're picked we need to check for 4, since this counts as 1
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra081" name="Adamantine Bones" description="{b}Stone Dragon 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} 1 round\n\n{i}You are an impenetrable tower of defiance on the battlefield. Attacking you is as fruitless as striking a mountain with a walking stick.{/i}\n\nThe supreme focus, mental toughness, and physical durability taught by the Stone Dragon discipline culminate in this powerful combat maneuver. When you make a successful attack, your mind focuses your body into the equivalent of a living shard of rock. Even the most ferocious attacks bounce off you without harm.\n\nAs part of this maneuver, you make a single melee attack. If this attack hits, you gain damage reduction 20/adamantine for 1 round." compset="CustomSpec" summary="Strike - Gain DR 20/adamantine." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <prereq message="15th level Initiator required">
      <validate><![CDATA[validif (hero.childfound[xInitiator].field[Value].value >= 15)

~if (linkage[table].field[cTotalLev].value <> 0) then
~ validif (hero.childfound[xInitCrusa].field[Value].value >= 15)
~endif]]></validate>
      </prereq>
    <prereq message="Three Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra082" name="Earthstrike Quake" description="{b}Stone Dragon 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} 20 ft.\n{b}Area:{/b} 20-ft.-radius burst, centered on you\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex negates\n\n{i}You swing your weapon in a wild arc, slamming it into the ground at your feet. Energy surges out from you, causing the ground to shudder with a sharp tremor.{/i}\n\nYou channel ki into the earth with your mighty strike, causing the ground to rumble and shake briefly. Anyone standing on the ground in this maneuver&#146;s area must make a successful Reflex save (DC 18 + your Str modifi er) or be knocked prone. Any creature standing on the ground in this area that is currently casting a spell must succeed on a Concentration check (DC 20 + spell level) or lose the spell.\n\nYou are immune to the effect of the earthstrike quake maneuver. Your allies must still save as normal against its effect.\n\nWalls and similar barriers don&#146;t block the line of effect of an earthstrike quake." compset="CustomSpec" summary="Strike - Local quake knocks enemies prone." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 18 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw081" name="Girallon Windmill Flesh Rip" description="{b}Tiger Claw 8{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One or more creatures\n{b}Duration:{/b} End of turn\n\n{i}Windmilling your arms in a furious blur, you strike your perplexed enemy from two directions at once, rending his flesh with each strike.{/i}\n\nEach of your attacks is precisely timed to maximize the carnage it inflicts. You must be wielding two or more weapons to initiate this maneuver. As you hack into your opponent, you use your weapons together to murderous effect. With a cruel twist of your blade, you widen the wounds you cause with each successive strike.\n\nYou must initiate this maneuver before making any attacks in the current round. If you strike an opponent multiple times during your turn, you also deal rend damage. This damage is based on the number of times you strike your opponent during your turn (see the table below). Determine the rend damage dealt immediately after you make your last attack for your turn.\n\nIf you attack multiple opponents during your turn, you gain this extra damage against each of them. A creature takes rend damage based on the number of attacks that hit it, not the number of successful attacks you make. For example, if you hit a fire giant three times and an evil cleric twice during your turn, the fire giant takes rend damage for three attacks and the cleric takes rend damage for two attacks.\n\n{b}Successful Attacks / Rend Damage{/b}\n2 / 8d6\n3 / 10d6\n4 / 12d6\n5 / 14d6\n6 / 16d6\n7 / 18d6\n8+ / 20d6" compset="CustomSpec" summary="Boost - Gain ability to rend with successful attacks." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw082" name="Raging Mongoose" description="{b}Tiger Claw 8{/b} (Boost)\n\n{b}Initiation Action:{/b} 1 swift action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n{b}Duration:{/b} End of turn\n\n{i}You unleash a ferocious volley of attacks, setting aside all thoughts of caution and self-control.{/i}\n\nYou make a flurry of deadly attacks. After initiating this boost, you can make two additional attacks with each weapon you wield (to a maximum of four extra attacks if you wield two or more weapons). These extra attacks are made at your highest attack bonus for each of your respective weapons. You can spread these attacks out among as many foes as you wish." compset="CustomSpec" summary="Boost - Make two extra attacks with each weapon carried (max four extra attacks)." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn082" name="White Raven Hammer" description="{b}White Raven 8{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 round\n\n{i}You slam your opponent with a mighty attack to disrupt his senses and leave him unable to defend himself while your allies close to finish him off.{/i}\n\nAs part of this maneuver, you make a single, devastating strike against an opponent. The raw force of this blow knocks him senseless. Your attack deals an extra 6d6 points of damage and stuns your opponent for 1 round." compset="CustomSpec" summary="Strike - Deal +6d6 damage, stun opponent." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="15th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 15]]></exprreq>
    <prereq message="Three White Raven maneuvers">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cWhtRvn091" name="War Master&apos;s Charge" description="{b}White Raven 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack; see text\n{b}Target:{/b} One creature; see text\n\n{i}With a great battle cry, you lead your allies in a devastating charge. Fired by your commanding presence and deftly led by your supreme grasp of tactics, you and your allies form an unstoppable wedge.{/i}\n\nYou are an inspiring figure on the battlefield, allowing you to lead others on attacks that would strike fear and doubt into even the stoutest warrior&#146;s heart. Under your leadership, the group becomes much more than the sum of its parts. \n\nAs part of this maneuver, you charge an opponent. In addition, all allies within 30 feet of you at the beginning of your turn can also charge this target as an immediate action. You and allied creatures do not block each other when determining if you can charge. Your charge attack deals an extra 50 points of damage, and those of your allies each deal an extra 25 points of damage. For each ally who charges, counting yourself, your charge attack and those of your allies are made with a cumulative +2 bonus (in addition to the normal bonus provided by charging). An opponent struck by you and at least one other ally is stunned for 1 round.\n\nYou and your allies do not provoke attacks of opportunity for moving as part of this charge." compset="CustomSpec" summary="Strike - You and allies charge, no attacks of opportunity, deal extra damage, stun." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="WhtRvn"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Four White Raven maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cTgrClw091" name="Feral Death Blow" description="{b}Tiger Claw 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Saving Throw:{/b} Fortitude partial\n\n{i}With a primal howl, you leap into the air and land on your opponent, hacking and clawing at his neck.{/i}\n\nYou leap upon your opponent, rending and tearing with your weapons in an attempt to kill him with a brutally overwhelming assault. You grab onto your foe as you slash and hack at his neck, face, and other vulnerable areas.\n\nTo use this maneuver, you must be adjacent to your intended target. As part of this maneuver, make a Jump check with a DC equal to your opponent&#146;s AC. If the check succeeds, you can then make a single melee attack against your foe, also as part of this maneuver. The target is considered flat-footed against this attack. If your attack deals damage, your target must attempt a Fortitude save (DC 19 + your Str modifier). If this save fails, your target is instantly slain (his hit points drop to &#150;10). If the save is successful, you deal an extra 20d6 points of damage to the target in addition to your normal weapon damage. Creatures immune to critical hits are immune to the death effect of this strike. \n\nIf your Jump check fails, you can make a single attack normally. The maneuver is still considered expended." compset="CustomSpec" summary="Strike - Leap upon foe, slay him with a single strike." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="TgrClw"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 19 + hero.child[aSTR].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Four Tiger Claw maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cStoDra091" name="Mountain Tombstone Strike" description="{b}Stone Dragon 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}You slam into your foe, turning bones into dust and muscle into bloody pulp. Your foe&#146;s body is left a crippled, twisted mockery.{/i}\n\nYour attack causes damage to the structure of your foe&#146;s body. As part of this maneuver, you make a single melee attack. If this attack hits, you deal 2d6 points of Constitution damage in addition to your normal damage." compset="CustomSpec" summary="Strike - Attack deals 2d6 Constitution damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="StoDra"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    </thing>
  <thing id="cShaHnd091" name="Five-Shadow Creeping Ice Enervation Strike" description="{b}Shadow Hand 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n{b}Duration:{/b} 1 minute\n{b}Saving Throw:{/b} Fortitude partial; see text\n\n{i}With a single lunge, you pierce your enemy to the core. A shadow of ultimate cold falls over his heart and begins to worm through his veins to the five points of his body.{/i}\n\nAs part of this maneuver, you make a single melee attack. If you hit, you deal normal melee damage plus an extra 15d6 points of damage, and a shadow spreads out from your enemy&#146;s heart, freezing the blood in his veins. Roll a d20 and refer to the information below to determine toward which point of his body the freezing shadow spreads. This effect functions even if your opponent is not humanoid; once you have struck your foe&#146;s heart, the shadow produces the same effects even in a creature with a different anatomy.\n\n{b}Result of 1&#150;7:{/b} Spreads out to legs. Ability damage: 2d6 Dex. Special effect: Speed is reduced to 0 feet.\n\n{b}Result of 8&#150;14:{/b} Spreads out to arms. Ability damage: 2d6 Str. Special effect: &#150;6 penalty on attack rolls and Concentration checks.\n\n{b}Result of 15&#150;20:{/b} Struck in the heart. Ability damage: 2d6 Dex, 2d6 Str. Special effect: 2d6 points of Constitution damage.\n\nA foe struck by this attack must make a successful Fortitude save (DC 19 + your Wis modifier) to resist its effects. On a successful save, the target ignores any special effect from the attack and takes half the indicated ability damage (but still takes normal melee damage as well as the extra 15d6 points of damage). Each of the special effects lasts for 1d6 rounds.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Channel shadow into target, causing hp damage, ability damage, other effects." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="ShaHnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var DC as number

DC = 19 + hero.child[aWIS].field[aModBonus].value

if (#hasfeat[fBladMedi] <> 0) then
 if (hero.childfound[fBladMedi].field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
  DC += 1
 endif
endif

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Five Shadow Hand maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="cSetSun091" name="Tornado Throw" description="{b}Setting Sun 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One or more creatures \n\n{i}Like a whirlwind, you twist and spinacross the battlefield, tossing foes away left and right.{/i}\n\nAs part of initiating this maneuver, you move up to your opponent, throw her aside, and move again. You must move at least 10 feet before making your throw. This movement and your movement after your throw provoke attacks of opportunity as normal. You can move up to double your speed as part of this maneuver. If you fail in your throw attempt, you can still move afterward. After every 10 feet you move, you can attempt another throw against the same opponent or a different foe.\n\nTo make your throw attempt, you must succeed on a melee touch attack. Resolve the throw as a trip attempt (PH 158), but you do not provoke attacks of opportunity, and your opponent cannot try to trip you if you lose the opposed check. You can use your Dexterity or Strength modifier on this check, whichever is better. You gain a +2 bonus on this check for every 5 feet that you have moved during your turn.\n\nIf you succeed in tripping your foe, you throw him up to 10 feet away from you. The target falls prone in the destination space and takes 2d6 points of damage. You choose where he lands. For every 5 points by which you win the opposed check, you gain an additional 5 feet of throw distance and the target takes an additional 1d6 points of damage. For example, if you win by 10, you can place your foe in any space within 20 feet of you, and he takes a total of 4d6 points of damage. You must place the target in an empty space. If you lack the distance to throw your target into a clear space, he falls prone in his current space.\n\nAn enemy you throw with this maneuver does not provoke attacks of opportunity for passing through enemies&#146; threatened areas as part of the throw, and you can throw an enemy through occupied squares." compset="CustomSpec" summary="Strike - Move and throw foes repeatedly." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="SetSun"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Five Setting Sun maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="cIrnHrt091" name="Strike of Perfect Clarity" description="{b}Iron Heart 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}Your supreme focus and perfect fighting form allow you to make a single, devastating attack. You execute a flawless strike to drop your foe with a single attack.{/i}\n\nThe ultimate Iron Heart maneuver teaches the precise, perfect cut necessary to slay almost any creature. Only the mightiest foes can withstand this attack. Adepts of the Iron Heart tradition seek to use this attack to end fights as quickly as possible. You might open a fight with a quick flurry of attacks, but once a foe is injured, you seek to end the battle with this decisive strike.\n\nYou make a single melee attack as part of this strike. If your attack hits, it deals an extra 100 points of damage (in addition to your normal melee damage)." compset="CustomSpec" summary="Strike - Deal +100 damage on single attack." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="IrnHrt"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Four Iron Heart maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cDiaMnd091" name="Time Stands Still" description="{b}Diamond Mind 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} Personal\n{b}Target:{/b} You\n\n{i}The raindrops themselves stand still as you act at the speed of thought. You move like a blur, catching your enemies by surprise with a complex action carried out in a tiny fraction of the time normally needed to complete it.{/i}\n\nIn an unmatched burst of speed, agility, and decisive action, you move more quickly than the eye can follow. You can lash out with your blade, striking your opponent so rapidly that observers can&#146;t keep track of your moves.\n\nAs part of this maneuver, you can use a full attack action two times in succession. Take your first full attack as normal. Once you have resolved those attacks, you can then take another full attack action. You must resolve these actions separately. You cannot combine the attacks provided by both actions as you wish. Instead, you must take them separately and in order as normal for a full attack." compset="CustomSpec" summary="Strike - Take full attack action two times." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DiaMnd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Four Diamond Mind maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cDevSpi091" name="Strike of Righteous Vitality" description="{b}Devoted Spirit 9{/b} (Strike)\n\n{b}Initiation Action:{/b} 1 standard action\n{b}Range:{/b} Melee attack\n{b}Target:{/b} One creature\n\n{i}As your enemy reels from your mighty blow, an ally nearby is simultaneously healed and cleansed of its wounds by the power of your faith.{/i}\n\nWhen you make this strike, you or one ally within 10 feet of you gains the benefit of a heal spell cast as a cleric of your character level. To gain the benefit of this maneuver, you must strike an enemy creature whose alignment has at least one component different from yours. This foe must pose a threat to you or your allies in some direct, immediate way." compset="CustomSpec" summary="Strike - Successful attack grants heal spell." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DevSpi"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Three Devoted Spirit maneuvers required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="cDesWnd091" name="Inferno Blast" description="{b}Desert Wind 9{/b} (Strike) [Fire]\n\n{b}Initiation Action:{/b} 1 full-round action\n{b}Range:{/b} 60 ft.\n{b}Area:{/b} 60-ft.-radius burst centered on you\n{b}Duration:{/b} Instantaneous\n{b}Saving Throw:{/b} Reflex half\n\n{i}Hot winds swirl about you, and a faint aroma of brimstone sweeps over the area. A flickering yellow aura surrounds you and grows in intensity, shedding tremendous heat and light. Creatures around you stumble back from the heat. With a howling roar, you unleash a hellish blast of fire that melts steel and warps stone.{/i}\n\nOnly true masters of the Desert Wind school are capable of unleashing an inferno blast. You focus your internal ki into a blinding hot burst of fire that deals 100 points of fire damage to all creatures in the area. You are not harmed by your own inferno blast.\n\nThis maneuver is a supernatural ability." compset="CustomSpec" summary="Strike - Burst of fire deals 100 points of damage." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="readied"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="SpecSource" tag="DesWnd"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="User" tag="ToBStrike"/>
    <exprreq message="17th level Initiator required"><![CDATA[hero.childfound[xInitiator].field[Value].value >= 17]]></exprreq>
    <prereq message="Five Desert Wind maneuvers required">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for

      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      if (@ispick <> 0) then
          check -= 1
      endif
      validif (check >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="cCruFurCou" name="Furious Counterstrike" description="You can channel the pain of your injuries into a boiling rage that lets you lash out at your enemies with renewed vigor and power. Each attack that strikes you only pushes you onward to greater glory.\n\nDuring your turn, you gain a bonus on attack rolls and damage rolls equal to the current value of your delayed damage pool (see steely resolve, above) divided by 5, and rounding down (minimum +1). You can only gain a maximum bonus on attack rolls and damage rolls of +6 from furious counterstrike. Use the table below to quickly determine the attack bonus and damage bonus from furious counterstrike, based on the amount of damage in your delayed damage pool. This ability&#146;s benefits last until the end of your turn.\n\n{b}Delated Damage Pool Points{/b} / {b}Furious Counterstrike Bonus{/b}\n1-9 / +1\n10-14 / +2\n15-19 / +3\n20-24 / +4\n25-29 / +5\n30+ / +6" compset="ClSpecial" summary="Channel the pain of your injuries into your attacks.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cCruSteRes" name="Steely Resolve" description="Your supreme dedication and intense focus allow you to temporarily set aside the pain and hindering effects of injuries. When an opponent strikes you, the injury does not immediately affect you.\n\nYou have a delayed damage pool that allows you to forestall the effects of many injuries. This pool begins at 0 with each encounter. When you are attacked, any hit point damage the blow deals is added to your delayed damage pool. At the end of your next turn, you take damage equal to the total stored in your delayed damage pool, which then resets to 0. Any healing you receive can either increase your current hit point total as normal or reduce the total damage in your delayed damage pool. When you receive healing, you choose whether it affects your damage pool, your hit points, or both (you can split the amount of healing as you wish). Most crusaders opt to keep as much damage in their delayed damage pool as possible to maximize the benefit of their furious counterstrike ability (see below).\n\nSpecial effects tied to an attack, such as energy drain, stun, and so forth, still affect you as normal, and their effects are not delayed by this ability. For example, if you are bitten by a venomous spider, you must still attempt a Fortitude save against the poison immediately, even though the bite damage shifts into your delayed damage pool. By the same token, any other special attack that imposes a condition, such as a medusa&#146;s petrifying gaze, takes immediate effect on you.\n\nAt 1st level, your delayed damage pool can hold up to 5 points of damage. Any damage beyond that comes off your hit points as normal. The maximum damage your pool holds increases by 5 at 4th, 8th, 12th, 16th, and 20th level." compset="ClSpecial" summary="Use a pool of delayed damage to forestall the effects of injury.">
    <fieldval field="hTotal" value="5"/>
    <fieldval field="hName1" value="Furious Counterstrike"/>
    <usesource source="ToB"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <eval phase="PostLevel" priority="5000"><![CDATA[if (#levelcount[Crusader] >= 20) then
 field[hTotal].value = 30
elseif (#levelcount[Crusader] >= 16) then
 field[hTotal].value = 25
elseif (#levelcount[Crusader] >= 12) then
 field[hTotal].value = 20
elseif (#levelcount[Crusader] >= 8) then
 field[hTotal].value = 15
elseif (#levelcount[Crusader] >= 4) then
 field[hTotal].value = 10
else
 field[hTotal].value = 5
endif]]></eval>
    <eval phase="PostLevel" priority="5500" index="2"><![CDATA[var bonus as number

if (field[hUsed].value >= 5) then
 bonus = field[hUsed].value/5
 bonus = round(bonus,0,-1)
elseif (field[hUsed].value >= 1) then
 bonus = 1
endif

if (field[hIsOn1].value <> 0) then
 foreach pick in hero from BaseWep
  eachpick.field[wBonus].value += bonus
 nexteach
endif]]></eval>
    <eval phase="PostLevel" priority="5001" index="3"><![CDATA[var pool as number
pool = field[hTotal].value

field[livename].text = field[name].text & " " & pool & ""]]></eval>
    </thing>
  <thing id="cCruInSoul" name="Indomitable Soul" description="Beginning at 2nd level, you draw upon the power of your unwavering faith to steel yourself against the enemies you face. Your personality, energy, and dedication to your faith make it possible for you to shrug off attacks that target your willpower.\n\nYou add your Charisma bonus (if any) as a bonus on Will saves. This bonus does not stack with that from a paladin&#146;s divine grace ability." compset="ClSpecial" summary="You gain your Charisma Bonus as a bonus to all saving throws.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="2" name="2" abbrev="2"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[~ If we're not shown, just get out now
doneif (#levelcount[Swordsage] >= 2)

var bonus as number
bonus = hero.child[aCHA].field[aModBonus].value
hero.child[vFort].field[Bonus].value += bonus
hero.child[vRef].field[Bonus].value += bonus
hero.child[vWill].field[Bonus].value += bonus]]></eval>
    </thing>
  <thing id="cCruZeaSur" name="Zealous Surge" description="Your boundless energy and dedication to your cause allow you to throw off the effect of a special attack, spell, or other attack that would otherwise hinder or harm you. Once per day, from 3rd level on, you can opt to reroll a single saving throw. You must abide by the result of the new, second saving throw, even if it is lower than the first. This ability does not require an action. You simply decide to use it after seeing the result of your saving throw roll but before the DM tells you if it fails or succeeds." compset="ClSpecial" summary="Reroll a single saving throw 1/day.">
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="3"/>
    </thing>
  <thing id="cCruSmite" name="Smite" description="Driven by the courage of your convictions and the ironclad strength of your beliefs, you can strike back at those who dare stand against your cause. Starting at 6th level, once per day, you can concentrate all your anger, hatred, and determination into a single attack. On the next melee attack you make, you gain a bonus on your attack roll equal to your Charisma bonus (if any) and a bonus on damage equal to your crusader level.\n\nAt 18th level, you gain an additional use of smite per day." compset="ClSpecial" summary="Reroll a single saving throw 1/day.">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="Smite"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="6"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="5500"><![CDATA[if (#levelcount[Crusader] >= 18) then
 field[hTotal].value = 2
endif

var attbon as number
var dambon as number

attbon = hero.child[aCHA].field[aModBonus].value
dambon = #levelcount[Crusader]

if (field[hIsOn1].value <> 0) then
 foreach pick in hero from BaseWep
  eachpick.field[wAttBonus].value += attbon
  eachpick.field[wDamBonus].value += dambon
 nexteach
endif

var uses as number
uses = field[hTotal].value

field[livename].text = field[name].text & " " & uses & "/day"]]></eval>
    </thing>
  <thing id="cCruDiehrd" name="Diehard" description="At 10th level, you gain Die Hard as a bonus feat." compset="ClSpecial">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="ClSpecWhen" tag="10"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="fDiehard">
      <containerreq phase="First" priority="10000"><![CDATA[count:Classes.Crusader >= 10]]></containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="cCruMettle" name="Mettle" description="You can resist magical attacks with greater effectiveness than other warriors. Beginning at 13th level, by drawing on your boundless energy and dedication to your cause, you can shrug off effects that would hinder even the toughest warrior. If you succeed on a Fortitude or Will save against an attack that would normally produce a lesser effect on a successful save (such as a spell with a saving throw entry of Will half or Fortitude partial), you instead negate the effect. You do not gain the benefit of mettle when you are unconscious or sleeping." compset="ClSpecial">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpCru"/>
    <tag group="ClSpecWhen" tag="13"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cSwoQuiAct" name="Quick to Act" description="You gain a +1 bonus on initiative checks. This bonus increases by 1 at 5th, 10th, 15th, and 20th level." compset="ClSpecial" summary="You gain a bonus to initiative that increases with level.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[var init as number
init = 1 + #levelcount[Swordsage]/5
init = round(init,0,-1)

hero.child[Initiative].field[Bonus].value += init

field[livename].text = field[name].text & " +" & init & ""]]></eval>
    </thing>
  <thing id="cSwoDFWF" name="Discipline Focus (Weapon Focus)" description="As a swordsage, you can focus your training to take advantage of each discipline&#146;s fighting style. Each time you gain the discipline focus ability, select one of the six swordsage disciplines to which that focus applies. You can select a different discipline each time you gain discipline focus, but you must know at least one martial maneuver from the selected discipline. Even if you select a different discipline at higher levels, your discipline choice for earlier abilities does not change.\n\nYou gain a +2 bonus on Martial Lore checks made regarding a maneuver in a discipline in which you have discipline focus.\n\n{i}Weapon Focus:{/i} At 1st level, you gain the benefit of the Weapon Focus feat for weapons associated with the chosen discipline." compset="ClSpecial" summary="Gain Weapon Focus and +2 bonus to Martial Lore for chosen discipline.">
    <fieldval field="usrCandid1" value="thingid.xDesWnd | thingid.xDiaMnd | thingid.xSetSun | thingid.xShaHnd | thingid.xStoDra | thingid.xTgrClw "/>
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <bootstrap thing="xDesWnd">
      <containerreq phase="First" priority="10000">fieldval:Value = 1</containerreq>
      </bootstrap>
    <bootstrap thing="xDiaMnd">
      <containerreq phase="First" priority="10000">fieldval:Value = 3</containerreq>
      </bootstrap>
    <bootstrap thing="xSetSun">
      <containerreq phase="First" priority="10000">fieldval:Value = 5</containerreq>
      </bootstrap>
    <bootstrap thing="xShaHnd">
      <containerreq phase="First" priority="10000">fieldval:Value = 6</containerreq>
      </bootstrap>
    <bootstrap thing="xStoDra">
      <containerreq phase="First" priority="10000">fieldval:Value = 7</containerreq>
      </bootstrap>
    <bootstrap thing="xTgrClw">
      <containerreq phase="First" priority="10000">fieldval:Value = 8</containerreq>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[if (field[usrChosen1].chosen.tagis[thingid.xDesWnd] <> 0) then
 field[Value].value = 1
elseif (field[usrChosen1].chosen.tagis[thingid.xDiaMnd] <> 0) then
 field[Value].value = 3
elseif (field[usrChosen1].chosen.tagis[thingid.xSetSun] <> 0) then
 field[Value].value = 5
elseif (field[usrChosen1].chosen.tagis[thingid.xShaHnd] <> 0) then
 field[Value].value = 6
elseif (field[usrChosen1].chosen.tagis[thingid.xStoDra] <> 0) then
 field[Value].value = 7
elseif (field[usrChosen1].chosen.tagis[thingid.xTgrClw] <> 0) then
 field[Value].value = 8
else
 field[Value].value = 0
endif]]></eval>
    <evalrule phase="First" priority="2000" message="You must know at least one maneuver from chosen discipline."><![CDATA[doneif (field[usrChosen1].ischosen = 0)

var lngth as number
var choice as string

choice = field[usrChosen1].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)

var check as number
 foreach pick in hero from BaseSpec where "Helper.Secondary"
  check += eachpick.tagsearch[choice]
 nexteach

validif (check >= 1)]]></evalrule>
    </thing>
  <thing id="xDesWnd" name="Desert Wind" description="Desert Wind maneuvers focus on quick movement and swirling, flaming strikes. The scimitar, light mace, light pick, spear, and falchion are the preferred weapons of the Desert Wind discipline. The complex spinning and slashing of the curved blade incorporated into many Desert Wind maneuvers are in fact carefully honed gestures that evoke the power of fire, if performed correctly and with the proper focus. Tumble is the key skill for Desert Wind, providing the initiator with agility and maneuverability. Desert Wind maneuvers are usable only by a swordsage, unless you take the Martial Study feat (see page 31)." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="DesWnd" name="Deser Wind"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="DesWnd"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.DesWnd"
 eachpick.field[ftCandExpr].text = "thingid.wFalchion | thingid.wMaceLight | thingid.wPickLight | thingid.wScimitar | thingid.wSpear"
nexteach]]></eval>
    </thing>
  <thing id="xDevSpiFt" name="Devoted Spirit" description="Devoted Spirit maneuvers focus on toughness, endurance, ripostes, and abilities designed to defeat a specific alignment. Those who follow the Devoted Spirit discipline seek to support a cause by defending it, nurturing it, and destroying its enemies. The falchion, greatclub, longsword, and maul are the Devoted Spirit discipline&#146;s preferred weapons, though many who follow this school of battle embrace weapons tied to the causes they follow. Intimidate is the key skill for Devoted Spirit." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="DevSpi" name="Devoted Spirit"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wFalchion | thingid.wGreatclub | thingid.wLongsword | thingid.wMaul"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kIntim] += 2]]></eval>
    </thing>
  <thing id="xDiaMnd" name="Diamond Mind" description="Diamond Mind maneuvers allow a warrior to use her cunning, intellect, and feel for the battlefield against her enemies. Time seems to flow slower to a Diamond Mind initiate. The bastard sword (or katana), rapier, shortspear, and trident are this discipline&#146;s favored weapons. Concentration is the Diamond Mind discipline&#146;s key skill." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="DiaMnd" name="Diamond Mind"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="DiaMnd"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.DiaMnd"
 eachpick.field[ftCandExpr].text = "thingid.wKatana | thingid.wRapier | thingid.wShortspr | thingid.wSwordBast | thingid.wTrident"
nexteach]]></eval>
    </thing>
  <thing id="xIrnHrtFt" name="Iron Heart" description="The Iron Heart discipline focuses on pure weapon skill. Its students learn to complete fighting maneuvers that border on the supernatural. The Iron Heart&#146;s preferred weapons are the bastard sword, dwarven waraxe, longsword, and two-bladed sword. Its key skill is Balance, because body control, good footing, and impeccable timing are important to completing Iron Heart maneuvers." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="IrnHrt" name="Iron Heart"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wLongsword | thingid.wSwordBast | thingid.wSwordTwo | thingid.wWaraxeDw"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kBalance] += 2]]></eval>
    </thing>
  <thing id="xSetSun" name="Setting Sun" description="The Setting Sun discipline teaches its initiates to turn their opponents&#146; strength against them. With a quick shift in stance and a carefully aimed attack, a Setting Sun warrior sends a charging enemy tumbling in a new direction. Setting Sun&#146;s preferred weapons are the quarterstaff, short sword, nunchaku, and unarmed strike. The discipline&#146;s key skill is Sense Motive." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="SetSun" name="Setting Sun"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="SetSun"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.SetSun"
 eachpick.field[ftCandExpr].text = "thingid.wQtrstaff | thingid.wNunchaku | thingid.wShortswd | thingid.wUnarmed"
nexteach]]></eval>
    </thing>
  <thing id="xShaHnd" name="Shadow Hand" description="The Shadow Hand discipline teaches the arts of stealth, deception, and ambush. Its maneuvers allow a warrior to take on a shadowy aspect or to channel dark energy to sap an enemy&#146;s strength. This discipline&#146;s preferred weapons are the dagger, sai, short sword, spiked chain, siangham, and unarmed strike. Its key skill is Hide." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="ShaHnd" name="Shadow Hand"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="ShaHnd"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.ShaHnd"
 eachpick.field[ftCandExpr].text = "thingid.wChainSpk | thingid.wDagger | thingid.wSai | thingid.wShortswd | thingid.wSiangham | thingid.wUnarmed"
nexteach]]></eval>
    </thing>
  <thing id="xStoDra" name="Stone Dragon" description="The Stone Dragon discipline focuses on strength, power, and toughness. Its teachings grant a martial adept the ability to splinter steel with a single, focused blow. Stone Dragon&#146;s defensive abilities focus on tapping into the enduring power of stone to turn aside attacks. This discipline&#146;s favored weapons are the greatsword, greataxe, heavy mace, and unarmed strike. Its key skill is Balance.\n\nUnlike with other disciplines, adepts of this school rely on an external force&#151; the power of the earth and stone&#151;to help power their maneuvers. As a result, Stone Dragon maneuvers can be initiated only if you are in contact with the ground." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="StoDra" name="Stone Dragon"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="StoDra"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.StoDra"
 eachpick.field[ftCandExpr].text = "thingid.wGreataxe | thingid.wGreatswd | thingid.wMaceHeavy | thingid.wUnarmed"
nexteach]]></eval>
    </thing>
  <thing id="xTgrClw" name="Tiger Claw" description="The Tiger Claw discipline embraces a feral rage that lurks within the heart of its initiates. In battle, such warriors growl like wild animals, attack with a fury similar to that of a barbarian, and rely on overwhelming, vicious assaults to defeat their enemies. The Tiger Claw discipline&#146;s favored weapons are the kukri, kama, handaxe, claw, greataxe, and unarmed strike. Its key skill is Jump." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="TgrClw" name="Tiger Claw"/>
    <bootstrap thing="fWepFoc">
      <autotag group="User" tag="TgrClw"/>
      </bootstrap>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseFeat where "User.TgrClw"
 eachpick.field[ftCandExpr].text = "thingid.wClaw | thingid.wGreataxe | thingid.wHandaxe | thingid.wKama | thingid.wKukri | thingid.wUnarmed"
nexteach]]></eval>
    </thing>
  <thing id="xWhtRvnFt" name="White Raven" description="The White Raven discipline teaches that the combined effort of several warriors working together far exceeds the efforts of those same warriors working individually. Adherents of this tradition serve as leaders and inspiring figures on the battlefield. This discipline&#146;s favored weapons are the longsword, battleaxe, greatsword, halberd, and warhammer. Its key skill is Diplomacy." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="WhtRvn" name="White Raven"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wBattleaxe | thingid.wGreatswd | thingid.wHalberd | thingid.wLongsword | thingid.wWarhammer"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kDiplomacy] += 2]]></eval>
    </thing>
  <thing id="cSwoDFIS1" name="Discipline Focus (Insightful Strike)" description="{i}Insightful Strikes:{/i} At 4th level, you can add your Wisdom modifier as a bonus on damage rolls whenever you execute a strike from the chosen discipline." compset="ClSpecial" summary="Gain +4 damage and +2 bonus to Martial Lore for chosen discipline.">
    <fieldval field="usrCandid1" value="thingid.xDesWnd | thingid.xDiaMnd | thingid.xSetSun | thingid.xShaHnd | thingid.xStoDra | thingid.xTgrClw "/>
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    </thing>
  <thing id="cSwoDfIS2" name="Discipline Focus (Insightful Strike)" description="{i}Insightful Strikes:{/i}  At 12th level, you can choose a second discipline to which this ability applies." compset="ClSpecial" summary="Gain +4 damage and +2 bonus to Martial Lore for chosen discipline.">
    <fieldval field="usrCandid1" value="thingid.xDesWnd | thingid.xDiaMnd | thingid.xSetSun | thingid.xShaHnd | thingid.xStoDra | thingid.xTgrClw "/>
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="12"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    </thing>
  <thing id="cSwoDFDS1" name="Discipline Focus (Defensive Stance)" description="{i}Defensive Stance:{/i} At 8th level, you gain a +2 bonus on saving throws whenever you adopt a stance from the chosen discipline." compset="ClSpecial" summary="Gain +2 on saving throws and +2 bonus to Martial Lore for chosen discipline.">
    <fieldval field="usrCandid1" value="thingid.xDesWnd | thingid.xDiaMnd | thingid.xSetSun | thingid.xShaHnd | thingid.xStoDra | thingid.xTgrClw "/>
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="8"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[usrChosen1].ischosen = 0)

var lngth as number
var choice as string

choice = field[usrChosen1].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)
choice = choice & " & !Helper.Secondary"

foreach pick in hero from BaseCustSp where choice

 if (eachpick.field[hIsOn1].value <> 0) then
      hero.child[vFort].field[Bonus].value += 2
      hero.child[vRef].field[Bonus].value += 2
      hero.child[vWill].field[Bonus].value += 2
 endif

nexteach]]></eval>
    </thing>
  <thing id="cSwoDFDS2" name="Discipline Focus (Defensive Stance)" description="{i}Defensive Stance:{/i} At 16th level, you can choose a second discipline to which this ability applies." compset="ClSpecial" summary="Gain +2 on saving throws and +2 bonus to Martial Lore for chosen discipline.">
    <fieldval field="usrCandid1" value="thingid.xDesWnd | thingid.xDiaMnd | thingid.xSetSun | thingid.xShaHnd | thingid.xStoDra | thingid.xTgrClw "/>
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="16"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ChooseSrc1" tag="Thing"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[doneif (field[usrChosen1].ischosen = 0)

var lngth as number
var choice as string

choice = field[usrChosen1].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)
choice = choice & " & !Helper.Secondary"

foreach pick in hero from BaseCustSp where choice

 if (eachpick.field[hIsOn1].value <> 0) then
      hero.child[vFort].field[Bonus].value += 2
      hero.child[vRef].field[Bonus].value += 2
      hero.child[vWill].field[Bonus].value += 2
 endif

nexteach]]></eval>
    </thing>
  <thing id="cSwoACBon" name="AC Bonus" description="Starting at 2nd level, you can add your Wisdom modifier as a bonus to Armor Class, so long as you wear light armor, are unencumbered, and do not use a shield. This bonus to AC applies even against touch attacks or when you are flat-footed. However, you lose this bonus when you are immobilized or helpless." compset="ClSpecial" summary="The Swordsage adds his Wisdom bonus to AC.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ClSpecWhen" tag="2"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[~ Get our encumbrance level - if we're encumbered by that, or if we're 
~ wearing medium or heavy armor or shield, we're disabled.
 if (hero.tagis[Encumbered.Light] = 0) then
  perform assign[Helper.SpcDisable]
 endif

 if (hero.tagis[Hero.MedArmor] + hero.tagis[Hero.HeavyArmor] + hero.tagis[Hero.EquipShld] > 0) then
  perform assign[Helper.SpcDisable]
 endif

~ Get our bonus
  var bonus as number
  bonus = hero.child[aWIS].field[aModBonus].value

~ Apply our AC bonus to all our armor scores
  hero.child[ArmorClass].field[Bonus].value += bonus]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="cSwoSenMag" name="Sense Magic" description="Beginning at 7th level, you can spend 10 minutes focusing upon a weapon or suit of armor. If you succeed on a level check (DC 10 + the caster level of the weapon or armor), you can identify the properties of that item, including its enhancement bonus and special abilities. This ability does not reveal the properties of artifacts or legacy weapons, though it does indicate that such items are significantly powerful." compset="ClSpecial" summary="Spend 10 minutes studying an object to determine its magical properties.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ClSpecWhen" tag="7"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cSwoEvasio" name="Evasion" description="At 9th level, you can avoid even magical and unusual attacks with great agility. If you make a successful Reflex saving throw against an attack that normally deals damage on a successful save, you instead take no damage. Evasion can be used only if you are wearing light armor or no armor. If you are helpless, you do not gain the benefit of evasion." compset="ClSpecial" summary="Take no damage on a successful Reflex save.">
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="9"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[if (hero.tagis[Hero.MedArmor] + hero.tagis[Hero.HeavyArmor] > 0) then
   perform assign[Helper.SpcDisable]
endif]]></eval>
    </thing>
  <thing id="cSwoEvasIm" name="Improved Evasion" description="From 17th level on, you gain the benefit of improved evasion. You still take no damage if you make a successful Reflex save against an attack, and even if you fail the Reflex save, you take only half damage from the attack. If you are helpless, you do not gain the benefit of improved evasion." compset="ClSpecial" summary="Take half damage on a failed Reflex save.">
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="17"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[if (hero.tagis[Hero.MedArmor] + hero.tagis[Hero.HeavyArmor] > 0) then
   perform assign[Helper.SpcDisable]
endif]]></eval>
    </thing>
  <thing id="cSwoDuaBoo" name="Dual Boost" description="When you reach 20th level, you can use two boost maneuvers simultaneously. Whenever you initiate a boost maneuver, you can also initiate any other boost maneuver that you know as a free action. Both boosts you initiate are expended normally. You can use this ability three times per day." compset="ClSpecial" summary="Initiate 2 boosts simultaneously 3/day.">
    <fieldval field="hTotal" value="3"/>
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpSwo"/>
    <tag group="ClSpecWhen" tag="20"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    </thing>
  <thing id="cWarBatCla" name="Battle Clarity" description="You can enter a state of almost mystical awareness of the battlefield around you. As long as you are not flat-footed, you gain an insight bonus equal to your Intelligence bonus (maximum equals your warblade level) on your Reflex saves." compset="ClSpecial" summary="You gain your Intelligence Bonus as an insight bonus to Reflex saves.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="1"/>
    <eval phase="PostAttr" priority="10000">doneif (hero.child[pcnFlatFt].field[pIsOn].value = 1)

var bonus as number
var max as number
bonus = hero.child[aINT].field[aModBonus].value
max = #levelcount[Warblade]
bonus = minimum(bonus,max)

hero.child[vRef].field[BonInsight].value += bonus</eval>
    </thing>
  <thing id="cWarWpnApt" name="Weapon Aptitude" description="Your training with a wide range of weaponry and tactics gives you great skill with particular weapons. You qualify for feats that usually require a minimum number of fighter levels (such as Weapon Specialization) as if you had a fighter level equal to your warblade level &#150;2. For example, as a 6th-level warblade, you could take Weapon Specialization, since you&#146;re treated as being a 4th-level fighter for this purpose. These effective fighter levels stack with any actual fighter levels you have. Thus, a fighter 2/warblade 4 would also qualify for Weapon Specialization.\n\nYou also have the flexibility to adjust your weapon training. Each morning, you can spend 1 hour in weapon practice to change the designated weapon for any feat you have that applies only to a single weapon (such as Weapon Focus). You must have the newly designated weapon available during your practice session to make this change. For example, if you wish to change the designated weapon for your Weapon Focus feat from greatsword to longsword, you must have a longsword available to practice with during your practice session.\n\nYou can adjust any number of your feats in this way, and you don&#146;t have to adjust them all in the same way. However, you can&#146;t change the weapon choices in such a way that you no longer meet the prerequisite for some other feat you possess. For instance, if you have both Weapon Focus (longsword) and Weapon Specialization (longsword), you can&#146;t change the designated weapon for Weapon Focus unless you also change the weapon for Weapon Specialization in the same way." compset="ClSpecial" summary="Gain access to feats requiring fighter levels. Change weapons w/ practice.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="1"/>
    <eval phase="PostAttr" priority="10000">doneif (hero.child[pcnFlatFt].field[pIsOn].value = 1)

var bonus as number
var max as number
bonus = hero.child[aINT].field[aModBonus].value
max = #levelcount[Warblade]
bonus = minimum(bonus,max)

hero.child[vRef].field[BonInsight].value += bonus</eval>
    </thing>
  <thing id="cWarUncann" name="Uncanny Dodge" description="At 2nd level, you gain the ability to react to danger before your senses would normally allow you to do so. You retain your Dexterity bonus to AC (if any) even if you are caught flat-footed or struck by an invisible attacker. However, you still lose your Dexterity bonus to AC if you are immobilized. \n\nIf you already have uncanny dodge from a different class (barbarian or rogue, for example), you automatically gain improved uncanny dodge (see below) instead." compset="ClSpecial" summary="Retain Dex bonus to AC when flat-footed.">
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="2" name="2" abbrev="2"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xUncanny"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ Add 1 to our count of 'uncanny dodge' classes, and our class level to our
      ~ improved uncanny dodge thing
      hero.child[xUncanny].field[Value].value = hero.child[xUncanny].field[Value].value + 1
      hero.child[xImpUncan].field[Value].value = hero.child[xImpUncan].field[Value].value + field[xTotalLev].value]]></eval>
    </thing>
  <thing id="cWarBatArd" name="Battle Ardor" description="The sheer love of battle lends uncanny strength to your blows. Starting at 3rd level, you gain an insight bonus equal to your Intelligence bonus on rolls made to confirm critical hits." compset="ClSpecial" summary="You gain your Intelligence Bonus as an insight bonus to confirm critical hits.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="3"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var bonus as number
bonus = hero.child[aINT].field[aModBonus].value
bonus = maximum(bonus,0)

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    </thing>
  <thing id="cWarBatCun" name="Battle Cunning" description="Your instinct for seizing the moment gives you a signifi cant advantage over foes unprepared for your attack. At 7th level, you gain an insight bonus equal to your Intelligence bonus on melee damage rolls against flat-footed or flanked opponents." compset="ClSpecial" summary="You gain your Intelligence Bonus on attacks against flat-footed or flanked opponents">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="7"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var bonus as number
bonus = hero.child[aINT].field[aModBonus].value
bonus = maximum(bonus,0)

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    </thing>
  <thing id="cWarBatSki" name="Battle Skill" description="You anticipate your enemies&#146; ploys and tactics. At 11th level, you gain an insight bonus equal to your Intelligence bonus on any check made to oppose an enemy&#146;s bull rush, disarm, feint, overrun, sunder, or trip attempt." compset="ClSpecial" summary="You gain your Intelligence Bonus on rolls made against an opponent&apos;s special attack.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="11"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var bonus as number
bonus = hero.child[aINT].field[aModBonus].value
bonus = maximum(bonus,0)

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    </thing>
  <thing id="cWarBatMas" name="Battle Mastery" description="You notice the most subtle openings and cues offered by your opponents. At 15th level, you gain an insight bonus equal to your Intelligence bonus on melee attack rolls and melee damage rolls made whenever you make an attack of opportunity." compset="ClSpecial" summary="You gain your Intelligence Bonus on attacks of opportunity.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="15"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[var bonus as number
bonus = hero.child[aINT].field[aModBonus].value
bonus = maximum(bonus,0)

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    </thing>
  <thing id="cWarImpUnc" name="Improved Uncanny Dodge" description="At 6th level and higher, you can no longer be flanked; you can react to opponents on opposite sides of you as easily as you can react to a single attacker. See the barbarian class feature (PH 26) for more information." compset="ClSpecial" summary="You can no longer be flanked.">
    <usesource source="ToB"/>
    <tag group="ClSpecWhen" tag="6"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      ~ Add 1 to our count of 'uncanny dodge' classes
      hero.child[xUncanny].field[Value].value = hero.child[xUncanny].field[Value].value + 1]]></eval>
    </thing>
  <thing id="cWarStaMas" name="Stance Mastery" description="At 20th level, you can have two stances active simultaneously. When you use a swift action to initiate or change your stance, you can initiate or change one or both stances." compset="ClSpecial" summary="You may have two stances active at one time.">
    <usesource source="ToB"/>
    <tag group="SpecSource" tag="cHelpWbd"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="20"/>
    </thing>
  <thing id="fAdapStyle" name="Adaptive Style" description="With just a short period of meditation, you can change your maneuvers and tactics to meet the threat you currently face.\n\n{b}Prerequisite:{/b} Crusader, swordsage, or warblade level 1st.\n\n{b}Benefit:{/b} You can change your readied maneuvers at any time by taking a full-round action. If you&#146;re a crusader, your current granted maneuvers are lost and you gain new granted maneuvers as if you had just readied your maneuvers for the day.\n\n{b}Normal:{/b} You can change maneuvers only by spending 5 minutes to do so." compset="Feat" summary="Change readied maneuvers with a full-round action." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Crusader, swordsage, or warblade level 1st required."><![CDATA[#levelcount[Crusader] + #levelcount[Swordsage] + #levelcount[Warblade] >= 1]]></exprreq>
    </thing>
  <thing id="fAvenStrik" name="Avenging Strike" description="Your strength of will and strong sense of justice allow you to smite your foes.\n\n{b}Prerequisite:{/b} Any good alignment.\n\n{b}Benefit:{/b} As a swift action, you can channel the power of your faith and energy to enhance a single attack you make. You gain a bonus equal to your Charisma bonus (if any) on the attack roll and damage roll for the next melee attack you make against an outsider with the evil subtype. You can use this ability a number of times per day equal to your Charisma bonus (minimum 1)." compset="Feat" summary="Add Cha bonus on attack and damage against an evil outsider." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostAttr" priority="12000"><![CDATA[var bonus as number
bonus = hero.child[aCHA].field[aModBonus].value
bonus = maximum(bonus,0)

field[livename].text = field[name].text & " (+" & bonus & ")"

field[hTotal].value = maximum(bonus,1)]]></eval>
    <exprreq message="Any good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fBladMedi" name="Blade Meditation" description="You have learned a meditation that grants you insight into the martial disciplines you have studied.\n\n{b}Prerequisite:{/b} Concentration 1 rank, base attack bonus +4, one maneuver from any discipline.\n\n{b}Benefit:{/b} When you take this feat, choose a discipline. You gain a +1 bonus on damage rolls with all the preferred weapons of your chosen discipline when using a strike combat maneuver, as well as a +2 bonus on checks involving the discipline&#146;s key skill. The save DCs of any maneuvers that you perform from the chosen discipline are increased by 1, if they have a save DC.\n\nThe weapons and skills associated with each discipline are given below.\n\n{b}Desert Wind:{/b} Scimitar, light mace, light pick, spear, falchion; Tumble.\n\n{b}Devoted Spirit:{/b} Falchion, greatclub, maul*, longsword; Intimidate.\n\n{b}Diamond Mind:{/b} Rapier, shortspear, trident, bastard sword (katana); Concentration.\n\n{b}Iron Heart:{/b} Bastard sword, dwarven waraxe, longsword, two-bladed sword; Balance.\n\n{b}Setting Sun:{/b} Short sword, nunchaku, unarmed strike, quarterstaff; Sense Motive.\n\n{b}Shadow Hand:{/b} Dagger, sai, siangham, short sword, spiked chain, unarmed strike; Hide.\n\n{b}Stone Dragon:{/b} Greatsword, greataxe, heavy mace, unarmed strike; Balance.\n\n{b}Tiger Claw:{/b} Kama, kukri, handaxe, claw, greataxe, unarmed strike; Jump.\n\n{b}White Raven:{/b} Longsword, battleaxe, warhammer, greatsword, halberd; Diplomacy.\n\n{b}Special:{/b} A fighter can select Blade Meditation as a bonus feat." compset="Feat" summary="+1 damage on strikes, +2 on skill check, +1 save DC with discipline-related weapons, skills, and maneuvers." uniqueness="useronce">
    <fieldval field="ftCandExpr" value="thingid.xDesWndFt | thingid.xDevSpiFt | thingid.xDiaMndFt | thingid.xIrnHrtFt | thingid.xSetSunFt | thingid.xShaHndFt | thingid.xStoDraFt | thingid.xTgrClwFt | thingid.WhtRvnFt"/>
    <usesource source="ToB"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xDevSpiFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 2</containerreq>
      </bootstrap>
    <bootstrap thing="xDiaMndFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 3</containerreq>
      </bootstrap>
    <bootstrap thing="xIrnHrtFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 4</containerreq>
      </bootstrap>
    <bootstrap thing="xSetSunFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 5</containerreq>
      </bootstrap>
    <bootstrap thing="xShaHndFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 6</containerreq>
      </bootstrap>
    <bootstrap thing="xStoDraFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 7</containerreq>
      </bootstrap>
    <bootstrap thing="xTgrClwFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 8</containerreq>
      </bootstrap>
    <bootstrap thing="xWhtRvnFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 9</containerreq>
      </bootstrap>
    <bootstrap thing="xDesWndFt">
      <containerreq phase="First" priority="10000">fieldval:hTotal = 1</containerreq>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[if (field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
 field[hTotal].value = 1
elseif (field[fChosen].chosen.tagis[thingid.xDevSpiFt] <> 0) then
 field[hTotal].value = 2
elseif (field[fChosen].chosen.tagis[thingid.xDiaMndFt] <> 0) then
 field[hTotal].value = 3
elseif (field[fChosen].chosen.tagis[thingid.xIrnHrtFt] <> 0) then
 field[hTotal].value = 4
elseif (field[fChosen].chosen.tagis[thingid.xSetSunFt] <> 0) then
 field[hTotal].value = 5
elseif (field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
 field[hTotal].value = 6
elseif (field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
 field[hTotal].value = 7
elseif (field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
 field[hTotal].value = 8
elseif (field[fChosen].chosen.tagis[thingid.xWhtRvnFt] <> 0) then
 field[hTotal].value = 9
else
 field[hTotal].value = 0
endif]]></eval>
    <exprreq message="Base attack bonus +4 required."><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="Concentration 1 rank required."><![CDATA[#skillranks[kConcent] >= 1]]></exprreq>
    <prereq message="One maneuver from any discipline required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
       check += eachpick.tagis[SpecSource.DevSpi]
       check += eachpick.tagis[SpecSource.DiaMnd]
       check += eachpick.tagis[SpecSource.IrnHrt]
       check += eachpick.tagis[SpecSource.SetSun]
       check += eachpick.tagis[SpecSource.ShaHnd]
       check += eachpick.tagis[SpecSource.StoDra]
       check += eachpick.tagis[SpecSource.TgrClw]
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fDesFire" name="Desert Fire" description="The power of the Desert Wind surges through you, and you find power in the motion of the hot winds and shifting sands that you can channel into your Desert Wind strikes.\n\n{b}Prerequisite:{/b} One Desert Wind strike.\n\n{b}Benefit:{/b} If you move at least 10 feet away from your original position before using a Desert Wind strike in the same round, that strike deals an extra 1d6 points of damage." compset="Feat" summary="+1d6 skirmish damage when using a Desert Wind strike." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <prereq message="One Desert Wind strike required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary & SpecSource.DesWnd"
       check += eachpick.tagis[User.ToBStrike]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fDesWndDod" name="Desert Wind Dodge" description="Your training in the Desert Wind discipline allows you to dance across the battlefi eld like a blistering sirocco.\n\n{b}Prerequisite:{b/} Dex 13, one Desert Wind maneuver.\n\n{b}Benefit:{/b} If you move at least 10 feet from your original position, you gain a +1 dodge bonus to AC and deal an extra 1 point of fire damage with any attack you make with a scimitar, light mace, light pick, spear, or falchion. This benefit lasts until the start of your next turn.\n\n{b}Special:{/b} Desert Wind Dodge can be used in place of Dodge to qualify for a feat, prestige class, or other special ability. If you already have Dodge when you select Desert Wind Dodge, you can choose to lose the Dodge feat and gain a new feat in its place. You must meet the prerequisite for the new feat." compset="Feat" summary="Move 10 feet, +1 AC, +1 fire damage." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="HasFeat" tag="fDodge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Dexterity 13 required."><![CDATA[child[aDEX].field[aFinalVal].value >= 13]]></exprreq>
    <prereq message="One Desert Wind maneuver required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fDevBulwrk" name="Devoted Bulwark" description="Because of your staunch devotion to your cause and your Devoted Spirit training, you can stand your ground even in the face of an enemy&#146;s resounding attack.\n\n{b}Prerequisite:{/b} One Devoted Spirit maneuver.\n\n{b}Benefit:{/b} If an enemy deals damage to you with a melee attack, you gain a +1 morale bonus to your AC until the end of your next turn." compset="Feat" summary="+1 AC when foe damages you." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <prereq message="One Devoted Spirit maneuver required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fEvaReflex" name="Evasive Reflexes" description="When an opponent gives you an opening in combat, you know exactly what to do: slip away.\n\n{b}Prerequisite:{/b} Dex 13.\n\n{b}Benefit:{/b} When an opponent gives you a chance to make an attack of opportunity, you can instead immediately take a 5-foot step.\n\n{b}Special:{/b} Evasive Reflexes can be used in place of Combat Reflexes to qualify for a feat, prestige class, or other special ability. You can take both this feat and Combat Refl exes." compset="Feat" summary="Instantly take 5-ft. step instead of an attack of opportunity." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="HasFeat" tag="fComRef"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Dexterity 13 required."><![CDATA[child[aDEX].field[aFinalVal].value >= 13]]></exprreq>
    </thing>
  <thing id="fExGrntMan" name="Extra Granted Maneuver" description="You are especially devout or insightful, and you have more control over which of your martial maneuvers are currently granted than other crusaders.\n\n{b}Prerequisite:{/b} Crusader level 1st.\n\n{b}Benefit:{/b} You begin each encounter with one additional readied maneuver granted. This feat also applies when you determine a new set of granted maneuvers after recovering expended maneuvers. For example, if you are a 5th-level crusader, you normally begin an encounter or finish recovering expended maneuvers with two of your five readied maneuvers granted, and the remaining three maneuvers withheld. With this feat, three of your five readied maneuvers are granted, and only two are withheld. Naturally, this benefit provides you with a better array of maneuver options early in a battle.\n\n{b}Special:{/b} You can take this feat only once." compset="Feat" summary="Ready one more maneuver from your maneuvers known." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Crusader level 1st required."><![CDATA[#levelcount[Crusader] >= 1]]></exprreq>
    </thing>
  <thing id="fExRdyMan" name="Extra Readied Maneuver" description="You are an unusually perspicacious student of the Sublime Way, and you find it easy to keep a large number of maneuvers ready for use.\n\n{b}Prerequisite:{/b} Swordsage level 1st.\n\n{b}Benefit:{/b} Increase the number of maneuvers you can ready for your swordsage levels by one. For example, a 5th-level swordsage can normally ready six maneuvers. With this feat, she can ready seven.\n\n{b}Special:{/b} You can take this feat only once." compset="Feat" summary="Ready one more maneuver from your maneuvers known." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Swordsage level 1st required."><![CDATA[#levelcount[Swordsage] >= 1]]></exprreq>
    </thing>
  <thing id="fFalSunAtt" name="Falling Sun Attack" description="The discipline of the Setting Sun teaches you how to turn an opponent&#146;s strengths into weaknesses. You can identify precisely the correct spot on your opponent&#146;s body to deliver a stunning attack.\n\n{b}Prerequisite:{/b} Stunning Fist, one Setting Sun strike.\n\n{b}Benefit:{/b} You can declare any Setting Sun strike delivered with an unarmed strike to be a stunning attack. In addition, add 1 to the save DC of your Stunning Fist attacks and 1 to the save DC of your Setting Sun strikes. Using this feat expends a use of your stunning attack for the day." compset="Feat" summary="Make Setting Sun strike a stunning attack, +1 to DC of stunning attacks and Setting Sun strikes." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostAttr" priority="6000"><![CDATA[
      var DC as number
      DC = 11 + round(#totallevelcount[]/2,0,1) + hero.child[aWIS].field[aModBonus].value

      var levels as number
      levels = #totallevelcount[] - #levelcount[Monk]

      var uses as number
      uses = #levelcount[Monk] + round(levels/4,0,1)

      hero.child[fStunFist].field[hTotal].value = uses

      hero.child[fStunFist].field[livename].text = "Stunning Fist (DC " & DC & ") (" & uses & "/day)"]]></eval>
    <exprreq message="Stunning Fist required."><![CDATA[#hasfeat[fStunFist] <> 0]]></exprreq>
    <prereq message="One Setting Sun strike required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary & SpecSource.SetSun"
       check += eachpick.tagis[User.ToBStrike]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fIrnhrtAur" name="Ironheart Aura" description="Your strength of spirit and martial training inspires those around you.\n\n{b}Prerequisite:{/b} One Iron Heart stance.\n\n{b}Benefit:{/b} While you are in any Iron Heart stance, adjacent allies gain a +2 morale bonus on saving throws." compset="Feat" summary="Adjacent allies gain +2 bonus on saves while you are in an Iron Heart stance." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <prereq message="One Iron Heart stance required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "!Helper.Secondary"
       check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fMartStanc" name="Martial Stance" description="You have mastered the fundamentals of a martial discipline, and you are now able to master one of its stances.\n\n{b}Prerequisite:{/b} One martial maneuver.\n\n{b}Benefit:{/b} When you gain this feat, you can select any stance from a discipline in which you already know at least one maneuver. You must meet the normal prerequisite of the stance. Your martial adept level for using this maneuver is equal to your levels in martial adept classes (if any) + 1/2 your levels in other classes.\n\n{b}Special:{/b} You can choose this feat more than once. When you take this feat again, you gain knowledge of a new stance. You do not have to choose a stance from the same discipline you selected the first time, but you must know at least one martial maneuver from the discipline of the stance you choose.\n\n{b}Special:{/b} A fighter can select Martial Stance as a bonus feat." compset="Feat" summary="Learn one martial stance.">
    <fieldval field="ftCandExpr" value="thingid.xDesWndFt | thingid.xDevSpiFt | thingid.xDiaMndFt | thingid.xIrnHrtFt | thingid.xSetSunFt | thingid.xShaHndFt | thingid.xStoDraFt | thingid.xTgrClwFt | thingid.WhtRvnFt"/>
    <usesource source="ToB"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="General"/>
    <bootstrap thing="fMartStanH"></bootstrap>
    <bootstrap thing="fMartStanE"></bootstrap>
    <evalrule phase="First" priority="2000" message="You must know at least one maneuver from the discipline you choose."><![CDATA[doneif (field[fChosen].ischosen = 0)

var lngth as number
var choice as string

choice = field[fChosen].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)
lngth = length(choice)-2
choice = left(choice,lngth)

var check as number
 foreach pick in hero from BaseSpec where "Helper.Secondary"
  check += eachpick.tagsearch[choice]
 nexteach

validif (check >= 1)]]></evalrule>
    <prereq message="One martial maneuver required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
       check += eachpick.tagis[SpecSource.DevSpi]
       check += eachpick.tagis[SpecSource.DiaMnd]
       check += eachpick.tagis[SpecSource.IrnHrt]
       check += eachpick.tagis[SpecSource.SetSun]
       check += eachpick.tagis[SpecSource.ShaHnd]
       check += eachpick.tagis[SpecSource.StoDra]
       check += eachpick.tagis[SpecSource.TgrClw]
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fMartStudy" name="Martial Study" description="By studying the basics of a martial discipline, you learn to focus your ki and perfect the form needed to use a maneuver. As a result, you gain the use of a combat maneuver.\n\n{b}Benefit:{/b} When you gain this feat, you must choose a discipline of martial maneuvers, such as Desert Wind. The key skill for the chosen discipline becomes a class skill for all your classes (current and future).\n\nSelect any maneuver from the chosen discipline for which you meet the prerequisite. If you have martial adept levels, this maneuver becomes one of your maneuvers known. If you do not have martial adept levels, you can use this maneuver once per encounter as a martial adept with an initiator level equal to 1/2 your character level. If you do not have martial adept levels when you take this feat, and you later gain a level in a class that grants maneuvers known, these new maneuvers can be used only once per encounter and have no recovery method. If you later gain levels in a martial adept class (crusader, swordsage, or warblade), you use the recovery method for maneuvers learned as a result of those class levels, but your previous maneuvers (gained through this feat or through prestige class levels) do not gain a recovery method.\n\nA maneuver learned through this feat cannot be exchanged for a different maneuver if you are a crusader, swordsage, or warblade (see the class descriptions in Chapter 1 for details on swapping out maneuvers as you gain levels). Once you choose a maneuver with this feat, you cannot change it.\n\n{b}Special:{/b} You can take this feat up to three times. Each time you take it after the first, you gain one of two benefits. You can choose a new discipline, gaining one of its maneuvers and its key skill as a class skill, as described above. Alternatively, you can choose a maneuver from a discipline to which you have already gained access by means of this feat. In either case, you must meet the maneuver&#146;s prerequisite.\n\n{b}Special:{/b} A fighter can select Martial Study as a bonus feat." compset="Feat" summary="Gain the use of a martial maneuver." maxlimit="3">
    <fieldval field="ftCandExpr" value="thingid.xDesWndFt | thingid.xDevSpiFt | thingid.xDiaMndFt | thingid.xIrnHrtFt | thingid.xSetSunFt | thingid.xShaHndFt | thingid.xStoDraFt | thingid.xTgrClwFt | thingid.WhtRvnFt"/>
    <usesource source="ToB"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="General"/>
    <bootstrap thing="fMartStudH"></bootstrap>
    <bootstrap thing="fMartStudE"></bootstrap>
    <eval phase="First" priority="8000"><![CDATA[doneif (field[fChosen].ischosen = 0)
var skill as string

if (field[fChosen].chosen.tagis[thingid.xDesWndFt] <> 0) then
 skill = "ClassSkill.kTumble"
elseif (field[fChosen].chosen.tagis[thingid.xDevSpiFt] <> 0) then
 skill = "ClassSkill.kIntim"
elseif (field[fChosen].chosen.tagis[thingid.xDiaMndFt] <> 0) then
 skill = "ClassSkill.kConcent"
elseif (field[fChosen].chosen.tagis[thingid.xIrnHrtFt] + field[fChosen].chosen.tagis[thingid.xSetSunFt] + field[fChosen].chosen.tagis[thingid.xStoDraFt] <> 0) then
 skill = "ClassSkill.kBalance"
elseif (field[fChosen].chosen.tagis[thingid.xShaHndFt] <> 0) then
 skill = "ClassSkill.kHide"
elseif (field[fChosen].chosen.tagis[thingid.xTgrClwFt] <> 0) then
 skill = "ClassSkill.kJump"
elseif (field[fChosen].chosen.tagis[thingid.xWhtRvnFt] <> 0) then
 skill = "ClassSkill.kDiplomacy"
endif

foreach pick in hero from BaseClHelp
 perform eachpick.assignstr[skill]
nexteach]]></eval>
    </thing>
  <thing id="fRapdAsslt" name="Rapid Assault" description="Your fighting style emphasizes taking foes down with quick, powerful blows.\n\n{b}Prerequisite:{/b} Base attack bonus +1.\n\n{b}Benefit:{/b} In the first round of combat, your melee attacks deal an extra 1d6 points of damage." compset="Feat" summary="+1d6 melee damage in first round of combat." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    </thing>
  <thing id="fShadBlade" name="Shadow Blade" description="In the course of your training in the Shadow Hand discipline, you learn to use your natural agility and speed to augment your attacks with certain weapons.\n\n{b}Prerequisite:{/b} One Shadow Hand stance.\n\n{b}Benefit:{/b} While you are in a Shadow Hand stance and attack with one of the discipline&#146;s preferred weapons, you can add your Dexterity modifier as a bonus on melee damage for attacks made with the weapon.\n\n{b}Special:{/b} Shadow Blade can be used in place of Weapon Finesse to qualify for a feat, prestige class, or other special ability. If this substitution allows you to gain a benefit that normally applies to all finesse weapons (those described in the Weapon Finesse feat description), it instead applies only to the Shadow Hand discipline&#146;s preferred weapons." compset="Feat" summary="Use Dex modifier instead of Str modifier on damage rolls with Shadow Sun weapons." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="HasFeat" tag="fWepFin"/>
    <eval phase="PostAttr" priority="11000"><![CDATA[foreach pick in hero from BaseSpec where "!Helper.Secondary"
  if (eachpick.field[hIsOn1].value = 1) then
    foreach pick in hero from BaseWep where "thingid.wChainSpk | thingid.wDagger | thingid.wSai | thingid.wShortswd | thingid.wSiangham | thingid.wUnarmed"
 eachpick.field[wDamBonus].value += hero.child[aDEX].field[aModBonus].value
    nexteach
  endif
nexteach]]></eval>
    <prereq message="One Shadow Hand stance required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "!Helper.Secondary"
       check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fShadTrick" name="Shadow Trickster" description="Your mastery of the Shadow Hand discipline lets you augment your illusion spells with the stuff of shadow.\n\n{b}Prerequisite:{/b} Caster level 1st, one Shadow Hand strike.\n\n{b}Benefit:{/b} While you are in a Shadow Hand stance, the save DC for any illusion spell you cast increases by 2.\n\nYou also gain a +2 bonus on damage rolls when making a sneak attack, a sudden strike (see the ninja class description, page 8 of{i}Complete Adventurer{/i}), or when you flank your target." compset="Feat" summary="+1 bonus on save DCs of illusions while in a Shadow Hand stance." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Caster level 1st required."><![CDATA[tagcount[Hero.Caster] >= 1]]></exprreq>
    <prereq message="One Shadow Hand strike required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary & SpecSource.ShaHnd"
       check += eachpick.tagis[User.ToBStrike]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fSonWhtRvn" name="Song of the White Raven" description="The White Raven discipline shows you how to rouse dedication and fervor within your allies&#146; hearts. Such teachings can augment and improve your musical ability.\n\n{b}Prerequisite:{/b} Bardic music (inspire courage), one White Raven maneuver.\n\n{b}Benefit:{/b} While you are in any White Raven stance, you can activate your bardic music ability to inspire courage as a swift action. Your crusader and warblade levels stack with your bard levels to determine the bonus granted by your inspire courage ability." compset="Feat" summary="Use inspire courage as swift action while in a White Raven stance." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Bardic music (inspire courage) required."><![CDATA[hero.childfound[cBrdMInsC].tagis[Helper.ShowSpec] - hero.childfound[cBrdMInsC].tagis[Helper.SpcDisable] <> 0]]></exprreq>
    <prereq message="One White Raven maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fSnapKick" name="Snap Kick" description="You have continued to hone your unarmed combat skills, and you deal more damage with your unarmed strikes.\n\n{b}Prerequisite:{/b} Improved Unarmed Strike, base attack bonus +6.\n\n{b}Benefit:{/b} When you make a melee attack with one or more melee weapons (including a standard attack, full attack, or even a strike maneuver), you can make an additional attack at your highest attack bonus. This attack is an unarmed attack that deals damage equal to your base unarmed attack damage + 1/2 your Str bonus. You take a &#150;2 penalty on all attack rolls you make this round." compset="Feat" summary="Make an extra attack, all attacks at &#150;2." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Improved Unarmed Strike required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    </thing>
  <thing id="fStonePowe" name="Stone Power" description="The principles of the Stone Dragon discipline teach you how to gather and focus your raw, physical strength into an attack.\n\n{b}Prerequisite:{/b} Str 13, one Stone Dragon maneuver.\n\n{b}Benefit:{/b} When you use an attack action or a full attack action, or you initiate a Stone Dragon strike in melee combat, you can take a penalty of as much as &#150;5 on your attack rolls. This number cannot exceed your base attack bonus. You gain temporary hit points equal to twice the number that you subtract from your attack rolls (to a maximum of +10). These temporary hit points last until the beginning of your next turn.\n\n{b}Special:{/b} Stone Power can be used in place of Power Attack to qualify for a feat, prestige class, or other special ability. You can take both this feat and Power Attack." compset="Feat" summary="Trade attack bonus for temporary hit points." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="HasFeat" tag="fPowerAtt"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Strength 13 required."><![CDATA[child[aSTR].field[aFinalVal].value >= 13]]></exprreq>
    <prereq message="One Stone Dragon maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fSuddRecov" name="Sudden Recovery" description="You can instantly recover your focus, balance, and personal energy after using a martial maneuver.\n\n{b}Prerequisite:{/b} One martial maneuver.\n\n{b}Benefit:{/b} Once per day as a swift action, you can instantly recover an expended maneuver. It is now ready again. If you are a crusader, the maneuver is also granted immediately." compset="Feat" summary="Recover an expended maneuver as a swift action 1/day." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="General"/>
    <prereq message="One martial maneuver required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
       check += eachpick.tagis[SpecSource.DevSpi]
       check += eachpick.tagis[SpecSource.DiaMnd]
       check += eachpick.tagis[SpecSource.IrnHrt]
       check += eachpick.tagis[SpecSource.SetSun]
       check += eachpick.tagis[SpecSource.ShaHnd]
       check += eachpick.tagis[SpecSource.StoDra]
       check += eachpick.tagis[SpecSource.TgrClw]
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fSupUnStrk" name="Superior Unarmed Strike" description="Your unarmed strikes have become increasingly deadly, enabling you to strike your foes in their most vulnerable areas.\n\n{b}Prerequisite:{/b} Improved Unarmed Strike, base attack bonus +3.\n\n{b}Benefit:{/b} You deal more damage with your unarmed strikes, as shown on the table below.\n\n{b}Character Level / Unarmed Damage{/b}\n3rd / 1d4\n4th-7th / 1d6\n8th - 11th / 1d8\n12th - 15th / 1d10\n16th - 20th / 2d6\n\n{b}Special:{/b} If you are a monk, you instead deal unarmed damage as a monk four levels higher." compset="Feat" summary="Deal greater unarmed damage." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="First" priority="8000"><![CDATA[if (hero.tagis[Classes.Monk] <> 0) then
  hero.child[cMnkUnarm].field[xExtraLev].value += 4
else
  perform hero.child[wUnarmed].delete[wMain.?]
    if (hero.tagcount[Classes.?] >= 16) then
      perform hero.child[wUnarmed].assign[wMain.2d6_104]
    elseif (hero.tagcount[Classes.?] >= 12) then
      perform hero.child[wUnarmed].assign[wMain.1d10_304]
    elseif (hero.tagcount[Classes.?] >= 8) then
      perform hero.child[wUnarmed].assign[wMain.1d8_6]
    elseif (hero.tagcount[Classes.?] >= 4) then
      perform hero.child[wUnarmed].assign[wMain.1d6_5]
    else
      perform hero.child[wUnarmed].assign[wMain.1d4_4]
    endif
endif]]></eval>
    <exprreq message="Improved Unarmed Strike required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +3 required."><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    </thing>
  <thing id="fTgrBlood" name="Tiger Blooded" description="The Tiger Claw discipline teaches students to mimic the rampant, feral qualities of a wild animal. When you assume an animal form, or at least descend into a wild, bestial state, you strike with superior strength and accuracy.\n\n{b}Prerequisite:{/b} Ability to rage, shift (such as the shifter ability from the EBERRON campaign setting or the bloodclaw master prestige class feature; see page 96), or wild shape; one Tiger Claw maneuver.\n\n{b}Benefit:{/b} While you are in a rage, shifted, or wild shaped into an animal form, you can attempt to knock back 5 feet a creature of your size category or smaller that you hit with a Tiger Claw strike unless it succeeds on a Fortitude save (DC 10 + 1/2 your character level + your Str modifier). This movement does not provoke attacks of opportunity." compset="Feat" summary="Knock smaller foes back while raging or wild shaped." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="11000"><![CDATA[var DC as number
var lvl as number
lvl = herofield[tTotLevel].value/2
lvl = round(lvl,0,-1)
DC = 10 + lvl + hero.child[aSTR].field[aModBonus].value

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    <prereq message="One Tiger Claw maneuver required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fUnnrvCalm" name="Unnerving Calm" description="You know that the secret to defeating your enemies lies within the still center of your own mind. When your enemies meet your eyes, they see only calm and certain death awaiting them.\n\n{b}Prerequisite:{/b} Concentration 1 rank, one Diamond Mind strike.\n\n{b}Benefit:{/b} You can use your Concentration skill instead of your Intimidate skill when you engage in a duel of wills (see page 27). You gain a +4 bonus on skill checks made to resolve a duel of wills. If your enemy chooses to ignore your challenge, you gain a +2 morale bonus on attack rolls against that opponent for 1 round.\n\n{b}Normal:{/b} Resolving a duel of wills requires an Intimidate check. You gain a +1 morale bonus on attack rolls against an opponent who ignores your challenge." compset="Feat" summary="Use Concentration in duel of wills, gain +2 bonus on attacks after successful duel for 1 round." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Concentration 1 rank required."><![CDATA[#skillranks[kConcent] >= 1]]></exprreq>
    <prereq message="One Diamond Mind strike required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary & SpecSource.DiaMnd"
       check += eachpick.tagis[User.ToBStrike]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fVitalReco" name="Vital Recovery" description="Preparing yourself to execute more of your maneuvers gives you the chance to catch a quick second wind and recover from damage you have sustained in the fight.\n\n{b}Prerequisite:{/b} Two martial maneuvers.\n\n{b}Benefit:{/b} When you recover one or more expended maneuvers, you heal 3 points of damage + 1 point per character level. You can gain this benefit only once per encounter." compset="Feat" summary="Heal 3 + level points of damage when you recover a maneuver." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="General"/>
    <eval phase="PostLevel" priority="11000"><![CDATA[var bonus as number
bonus = 3 + herofield[tTotLevel].value

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    <prereq message="Two martial maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
       check += eachpick.tagis[SpecSource.DesWnd]
       check += eachpick.tagis[SpecSource.DevSpi]
       check += eachpick.tagis[SpecSource.DiaMnd]
       check += eachpick.tagis[SpecSource.IrnHrt]
       check += eachpick.tagis[SpecSource.SetSun]
       check += eachpick.tagis[SpecSource.ShaHnd]
       check += eachpick.tagis[SpecSource.StoDra]
       check += eachpick.tagis[SpecSource.TgrClw]
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fWhtRvnDef" name="White Raven Defense" description="The White Raven discipline has taught you to shine as a gleaming beacon of hope and endurance amid the chaos of battle. Not only do you aid your allies, but you also draw strength and support from them.\n\n{b}Prerequisite:{/b} One White Raven stance.\n\n{b}Benefit:{/b} When you are in a White Raven stance and adjacent to at least one ally, you gain a +1 bonus to AC. Furthermore, when you are wielding one of the White Raven discipline&#146;s preferred weapons, each ally adjacent to you gains a +1 bonus to AC. These bonuses don&#146;t apply when you&#146;re flat-footed." compset="Feat" summary="+1 bonus to AC while adjacent to ally; adjacent allies gain +1 AC while you wield a White Raven weapon." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="General"/>
    <prereq message="One White Raven stance required.">
      <validate><![CDATA[
    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "!Helper.Secondary"
       check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fDivSpirit" name="Divine Spirit" description="The fervor and dedication of the Devoted Spirit discipline, combined with your fanatical adherence to a divine power, turns you into a font of spiritual energy. With only a moment&#146;s focus, you can channel power to enhance your fighting talents.\n\n{b}Prerequisite:{/b} Ability to turn or rebuke undead, one Devoted Spirit stance.\n\n{b}Benefit:{/b} While in a Devoted Spirit stance, you can expend a turn or rebuke undead attempt as an immediate action to heal yourself a number of hit points equal to 3 + your Charisma modifier, if any (minimum 1 point)." compset="Feat" summary="Instantly heal yourself while in a Devoted Spirit stance." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Divine"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostAttr" priority="11000"><![CDATA[var bonus as number
bonus = 3 + hero.child[aCHA].field[aModBonus].value
bonus = maximum(bonus,3)

field[livename].text = field[name].text & " (+" & bonus & ")"]]></eval>
    <prereq message="One Devoted Spirit stance required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "!Helper.Secondary"
       check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fScrMarScr" name="Scribe Martial Script" description="You know the secret of creating martial scripts&#151;small slips of paper into which you infuse your own martial power and skill. The user of a script you have created gains the ability to use a maneuver you know.\n\n{b}Prerequisite:{/b} Crusader or swordsage level 1st.\n\n{b}Benefit:{/b} You can infuse the knowledge of any maneuver you know into a martial script (see Martial Scripts, page 147). The market price of a martial script is equal to the initiator level &#215; maneuver level &#215; 50 gp. You must spend 1/25 of this market price in XP and use materials costing 1/2 the market price. Scribing a martial script takes one day for each 1,000 gp of its market price.\n\nLike a potion or scroll, a script can be used only once." compset="Feat" summary="Create martial scripts." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="ItemCreate"/>
    <tag group="Helper" tag="ShowSpec"/>
    </thing>
  <thing id="fInstClar" name="Instant Clarity" description="You have sharpened your concentration to the point that you can focus your psionic abilities with just an instant&#146;s thought.\n\n{b}Prerequisite:{/b} Concentration 7 ranks.\n\n{b}Benefit:{/b} You can take a swift action to become psionically focused after successfully initiating a martial strike. You can use this ability three times per day.\n\n{b}Normal:{/b} A character without this feat must take a full-round action to become psionically focused.\n\n{b}Special:{/b} Instant Clarity can be used in place of the Psionic Meditation feat (see Expanded Psionics Handbook) to qualify for a feat, prestige class, or other special ability. You can take both this feat and Psionic Meditation." compset="Feat" summary="Use swift action to gain psionic focus after initiating a successful martial strike." uniqueness="useronce">
    <fieldval field="hTotal" value="3"/>
    <usesource source="ToB"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="HasFeat" tag="fPsionMed"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Concentration 7 ranks required."><![CDATA[#skillranks[kConcent] >= 7]]></exprreq>
    </thing>
  <thing id="fPsycRenew" name="Psychic Renewal" description="Your mental strength and psionic abilities allow you to focus your mind on combat and use your most devastating maneuvers more frequently.\n\n{b}Benefit:{/b} As a swift action, you can recover any expended maneuver by expending your psionic focus and spending power points equal to the maneuver&#146;s level." compset="Feat" summary="Expend psionic focus and power points to recover a maneuver." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Psionic"/>
    <tag group="Helper" tag="ShowSpec"/>
    </thing>
  <thing id="fClarComm" name="Clarion Commander" description="On the battlefield, you are a natural leader. You issue orders and coordinate your allies, but you also learn to take advantage of their actions and maximize the fruits of teamwork. When you attack a foe with your allies, the combined result of your efforts can be devastating.\n\n{b}Prerequisite:{/b} White Raven Defense, base attack bonus +6, two White Raven maneuvers.\n\n{b}Benefit:{/b} The Clarion Commander feat enables the use of three tactical options.\n\n{i}Following Up:{/i} To use this option, you must make a successful DC 20 Diplomacy check as a move action after hitting your target with a melee attack. If you hit that target again on your next turn, the target provokes an attack of opportunity from an ally of your choice (assuming at least one is in position to make such an attack).\n\n{i}Perpetual Flank:{/i} To use this option, you make a DC 20 Intimidate check against an opponent as a standard action. If this check succeeds and you make a successful melee attack against the same foe on your next turn, you and your allies can treat that enemy as flanked for 1 minute.\n\n{i}Pile On:{/i} To use this option, you must use the aid another action (PH 154) to grant an ally a bonus on his next attack roll against an opponent both of you threaten. If your ally attacks and hits that enemy, you can make an immediate attack of opportunity against that target. You gain this benefit if your ally hits the foe before the start of your next turn. You gain the attack of opportunity only on the first successful attack." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="White Raven Defense required."><![CDATA[#hasfeat[fWhtRvnDef] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <prereq message="Two White Raven maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.WhtRvn]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fDistHoriz" name="Distant Horizon" description="An initiate of the Setting Sun sometimes learns a set of combat maneuvers that combine to create the Distant Horizon fighting form. This form teaches you how to recognize an opponent&#146;s weaknesses in the current moment, as well as in the future. A blow struck now ruins an opponent&#146;s defenses against your next volley of attacks.\n\n{b}Prerequisite:{/b} Int 13, Falling Sun Attack, base attack bonus +6, two Setting Sun maneuvers.\n\n{b}Benefit:{/b} The Distant Horizon feat enables the use of three tactical options.\n\n{i}Continued Push:{/i} To use this option, you must move an opponent at least 5 feet with a bull rush attack or a Setting Sun strike. On your next turn, you gain a +4 bonus on any Strength, Dexterity, or grapple checks you make against that foe. \n\n{i}Turn the Tables:{/i} To use this option, a foe must charge you and either miss you with his charge attack or be unable to attempt the attack (perhaps because of your use of a maneuver). On your next turn, you can make a charge attack against that foe even if you cannot move more than 5 feet. You can also make a charge attack against that enemy even if you cannot charge in a straight line.\n\n{i}Lasting Weak Spot:{/i} To use this option, you must hit a foe that you flank with at least two melee attacks on your turn. On your next turn, as a standard action, you can make a single melee attack against your foe with a &#150;2 penalty. If this attack hits, your foe takes an extra 1 point of damage from every melee attack that hits him for the next minute." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Falling Sun Attack required."><![CDATA[#hasfeat[fFalSunAtt] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Intelligence 13 required."><![CDATA[child[aINT].field[aFinalVal].value >= 13]]></exprreq>
    <prereq message="Two Setting Sun maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.SetSun]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fFthUnswrv" name="Faith Unswerving" description="The initiate of the Devoted Spirit knows that his fanaticism and devotion to a cause are enough to carry him through almost anything. This tactical feat allows you to draw on this reservoir of energy. As your foes injure you, you become a more daunting foe.\n\n{b}Prerequisite:{/b} Devoted Bulwark, base attack bonus +6, two Devoted Spirit maneuvers.\n\n{b}Benefit:{/b} The Faith Unswerving feat enables the use of three tactical options.\n\n{i}Keep Up the Pressure:{/i} To use this option, you must make a charge attack against a foe. If you hit, at any time before the start of your next turn you can take an immediate action to move up to your speed immediately after that foe moves, as long as you end your movement adjacent to that target.\n\n{i}Take One for the Team:{/i} To use this option, you must hit an opponent with a melee attack. At any time before the start of your next turn, you can take an immediate action to block a melee attack made by that opponent if he targets one of your allies. You must be adjacent to the ally to use this ability, and you must decide to use this ability before you know the result of the enemy&#146;s attack roll. If the attack hits your ally, roll 1d20 and add your AC to the result. If the result of this roll is greater than the opponent&#146;s attack result, he hits you instead, even if the attack roll&#146;s result wouldn&#146;t normally be high enough to hit you.\n\n{i}One Last Strike:{/i} To use this option, you must be the subject of an attack, spell, or ability that reduces you to 0 or fewer hit points. As an immediate action, you can move up to 5 feet and make a single melee attack with a +5 bonus on the attack roll. You gain a bonus on your damage roll equal to your character level. This attack is considered a strenuous action. Regardless of the result of your attack, you still take the damage from the attack that triggered this ability. You complete this immediate action before dropping to 0 or fewer hit points." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Devoted Bulwark required."><![CDATA[#hasfeat[fDevBulwrk] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <prereq message="Two Devoted Spirit maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.DevSpi]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fGloomRaz" name="Gloom Razor" description="The teachings of the Shadow Hand discipline allow you to confuse your enemies. Your attacks and parries are infused with the stuff of shadow. Through careful training and discipline, you learn to use your ki to inhibit a foe&#146;s fighting ability with your shadowy nature.\n\n{b}Prerequisite:{/b} Hide 9 ranks, Shadow Blade, base attack bonus +6, two Shadow Hand maneuvers.\n\n{b}Benefit:{/b} The Gloom Razor feat enables the use of three tactical options.\n\n{i}Lingering Gloom:{/i} To use this option, your opponent must miss you due to concealment. On your next turn, you can make a Hide check opposed by your foe&#146;s Spot check as a swift action. If this check succeeds, you gain the benefit of an invisibility spell against that foe until the end of your turn.\n\n{i}Moving Shadows:{/i} To use this option, you must deal damage to an enemy with a melee attack and move at least 10 feet during your turn. On your next turn, you can treat that enemy as flat-footed against the first melee attack you make in that round.\n\n{i}Shadow Slip:{/i} To use this option, you must make a successful melee attack against an opponent you fl ank. On your next turn, you can make a DC 20 Tumble check if you are adjacent to your foe. If this check succeeds, as a free action you can move to any square adjacent to your opponent without provoking attacks of opportunity from any opponent." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Hide 9 ranks required."><![CDATA[#skillranks[kHide] >= 9]]></exprreq>
    <exprreq message="Shadow Blade required."><![CDATA[#hasfeat[fShadBlade] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <prereq message="Two Shadow Hand maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.ShaHnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fPrfClMiBo" name="Perfect Clarity of Mind and Body" description="Your mastery of the Diamond Mind discipline allows you to tap into reserves of spiritual and physical strength that other warriors cannot imagine using. Through focus, dedication, and a heightened awareness of your inner talents, you push yourself beyond your limits.\n\n{b}Prerequisite:{/b} Unnerving Calm, base attack bonus +6, two Diamond Mind maneuvers.\n\n{b}Benefit:{/b} The Perfect Clarity of Mind and Body feat enables the use of three tactical options.\n\n{i}Coiled Spring:{/i} To use this option, you must use the total defense action and move no more than 5 feet on your turn. On your next turn, you gain a +30-foot bonus to your land speed and a +2 bonus to AC as you burst across the battlefi eld. You can make a single attack after moving in this round, if you don&#146;t move more than double your modifi ed speed.\n\n{i}Expert Mind:{/i} To use this option, you must fi rst defeat an enemy in a duel of wills (see page 27). On your next turn, you gain a +4 morale bonus on any roll you make to disarm, feint, or trip that enemy.\n\n{i}Press the Advantage:{/i} To use this option, you must damage, disarm, or trip an opponent. On your next turn, you can make a DC 20 Intimidate check against your opponent as a free action. If this check succeeds, your foe takes a &#150;2 penalty on attack rolls for 1 round." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Unnerving Calm required."><![CDATA[#hasfeat[fUnnrvCalm] <> 0]]></exprreq>
    <prereq message="Two Diamond Mind maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.DiaMnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fReapTalon" name="Reaping Talons" description="When fighting with the Tiger Claw discipline&#146;s preferred weapons, you can use a variety of combat options that maximize the benefits of wielding two weapons.\n\n{b}Prerequisite:{/b} Two-Weapon Fighting, base attack bonus +6, two Tiger Claw maneuvers.\n\n{b}Benefit:{/b} The Reaping Talons feat enables the use of three tactical options.\n\n{i}Focused Assault:{/i} To use this option, you must fi ght defensively, use the total defense action, or use the Combat Expertise feat to gain a +3 bonus to AC in return for a &#150;3 penalty on attack rolls. You must also wield any two preferred weapons of the Tiger Claw discipline and move no more than 5 feet. Keep track of each opponent that attacks you after you take that action. On your next turn, as a full-round action, you can make a single melee attack against each of the opponents that attacked you on the previous round at your highest attack bonus. You must still threaten the enemies you attack with this option.\n\n{i}Cornered Predator:{/i} To use this option, you must hit your foe with two attacks that each use one of the one-handed or light preferred weapons of the Tiger Claw discipline (kukri, kama, handaxe, unarmed strike, or claw). On your next turn, you gain a +2 bonus on attack rolls against this foe for each opponent that threatens you.\n\n{i}Talon Shield:{/i} To use this option, you must hit the your foe with two attacks that each use one of the preferred onehanded or light weapons of the Tiger Claw discipline (kukri, kama, handaxe, unarmed strike, or claw). On your next turn, if you fight defensively or use the total defense action, you gain a +2 shield bonus to AC against that foe (in addition to the normal AC bonus granted by that action)." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Two-Weapon Fighting required."><![CDATA[#hasfeat[fTwoWep] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <prereq message="Two Tiger Claw maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.TgrClw]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fScorSiroc" name="Scorching Sirocco" description="As a student of the Desert Wind, the burning fury of the desert sirocco is at your command. In battle, you call upon its power to burn your enemy and lend you speed.\n\n{b}Prerequisite:{/b} Desert Wind Dodge, base attack bonus +6, two Desert Wind maneuvers.\n\n{b}Benefit:{/b} The Scorching Sirocco feat enables the use of three tactical options.\n\n{i}Fan the Flames:{/i} To use this option, you must deal fire damage to a foe. On your next turn, you can attempt a DC 20 Tumble check as a move action. You must be adjacent to the target to use this ability. If you succeed, your opponent catches fire (DMG 303).\n\n{i}Mark of Fire:{/i} To use this option, you must deal fire damage to a foe with a Desert Wind strike. On your next turn, you must deal fire damage to that foe again and make a DC 20 Spellcraft check. If you succeed, the flames spread across your target, granting your allies a +2 bonus on attack rolls against her for 1 round.\n\n{i}Dance of Flames:{/i} To use this option, you must move at least 10 feet and initiate a Desert Wind stance. On your next turn, you gain a +2 bonus on Tumble checks. If you succeed on a Tumble check to avoid an attack of opportunity, the opponent whose attack you avoided takes 1d6 points of fire damage as mystical flames twirl around you." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Desert Wind Dodge required."><![CDATA[#hasfeat[fDesWndDod] <> 0]]></exprreq>
    <prereq message="Two Desert Wind maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.DesWnd]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fShaGranit" name="Shards of Granite" description="Like the great Stone Dragon, you hammer through your opponents&#146; defenses using raw, brutal strength. Each blow sunders steel, shatters bone, and cleaves through flesh. With each successive attack you make, you hit with greater force.\n\n{b}Prerequisite:{/b} Stone Power, base attack bonus +6, two Stone Dragon maneuvers.\n\n{b}Benefit:{/b} The Shards of Granite feat enables the use of three tactical options.\n\n{i}Battering Smash:{/i} To use this option, you must make a successful melee attack using one of the preferred weapons of the Stone Dragon discipline (greatsword, greataxe, heavy mace, or unarmed strike) and take a &#150;5 penalty on the attack roll using your Stone Power feat. If you hit, you ignore the target&#146;s hardness (if any).\n\n{i}Eviscerating Strike:{/i} To use this option, you must hit the same creature at least two times in the same round using one of the preferred weapons of the Stone Dragon discipline (greatsword, greataxe, heavy mace, or unarmed strike). On your next turn, you ignore any penalty you take on your attack roll from your Stone Power feat when making a roll to confirm a critical hit.\n\n{i}Unstoppable Onslaught:{/i} To use this option, you must make a successful melee attack using one of the preferred weapons of the Stone Dragon discipline (greatsword, greataxe, heavy mace, or unarmed strike), and take a &#150;5 penalty on the attack roll using your Stone Power feat. If you hit, your melee attacks against that creature on your next turn overcomes its damage reduction (if any)." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Stone Power required."><![CDATA[#hasfeat[fStonePowe] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <prereq message="Two Stone Dragon maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.StoDra]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fStormWarr" name="Stormguard Warrior" description="The Stormguard Warrior feat encompasses a number of the more advanced tactics and techniques you would use as a student of the Iron Heart school.\n\n{b}Prerequisite:{/b} Proficiency with an Iron Heart preferred weapon (bastard sword, dwarven waraxe, longsword, or twobladed sword), Ironheart Aura, base attack bonus +6, two Iron Heart maneuvers.\n\n{b}Benefit:{/b} The Stormguard Warrior feat enables the use of three tactical options.\n\n{i}Channel the Storm:{/i} To use this option, you must choose to refrain from making one or more available attacks of opportunity against a single opponent. On your next turn, you gain a +4 bonus on attack rolls and damage rolls for each attack that you refrained from making against the same opponent. You gain this bonus only against an opponent that you refrained from making an attack of opportunity against in the previous round. \n\n{i}Combat Rhythm:{/i} To use this option, you can choose to make melee touch attacks in place of normal melee attacks against an opponent. These touch attacks deal no damage. For each melee touch attack that hits, you gain a +5 bonus on melee damage rolls against that same foe on your next turn.\n\n{i}Fight the Horde:{/i} To use this option, you must deal damage to at least two different foes on your turn with melee attacks or Iron Heart strikes. On your next turn, if you fight defensively or take a &#150;4 penalty on your attack rolls with your Combat Expertise feat (if you have it), you gain a +2 bonus on attack rolls against any foe you damaged with a melee attack or Iron Heart strike during the previous turn." compset="Feat" summary="See feat description." uniqueness="useronce">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Tactical"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Ironheart Aura required."><![CDATA[#hasfeat[fIrnhrtAur] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Proficiency with an Iron Heart preferred weapon required."><![CDATA[tagis[HasFeat.fWepMart] + tagis[WepProf.wLongsword] + tagis[WepProf.wSwordBast] + tagis[WepProf.wSwordTwo] + tagis[WepProf.wWaraxeDw] <> 0]]></exprreq>
    <prereq message="Two Iron Heart maneuvers required.">
      <validate><![CDATA[    ~ Count how many total maneuvers we need to check for
 
      var check as number

      foreach pick in hero from BaseSpec where "Helper.Secondary"
      check += eachpick.tagis[SpecSource.IrnHrt]
      nexteach

      validif (check >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="xDesWndFt" name="Desert Wind" description="Desert Wind maneuvers focus on quick movement and swirling, flaming strikes. The scimitar, light mace, light pick, spear, and falchion are the preferred weapons of the Desert Wind discipline. The complex spinning and slashing of the curved blade incorporated into many Desert Wind maneuvers are in fact carefully honed gestures that evoke the power of fire, if performed correctly and with the proper focus. Tumble is the key skill for Desert Wind, providing the initiator with agility and maneuverability. Desert Wind maneuvers are usable only by a swordsage, unless you take the Martial Study feat (see page 31)." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="DesWnd" name="Deser Wind"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wFalchion | thingid.wMaceLight | thingid.wPickLight | thingid.wScimitar | thingid.wSpear"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kTumble] += 2]]></eval>
    </thing>
  <thing id="xDiaMndFt" name="Diamond Mind" description="Diamond Mind maneuvers allow a warrior to use her cunning, intellect, and feel for the battlefield against her enemies. Time seems to flow slower to a Diamond Mind initiate. The bastard sword (or katana), rapier, shortspear, and trident are this discipline&#146;s favored weapons. Concentration is the Diamond Mind discipline&#146;s key skill." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="DiaMnd" name="Diamond Mind"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wKatana | thingid.wRapier | thingid.wShortspr | thingid.wSwordBast | thingid.wTrident"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kConcent] += 2]]></eval>
    </thing>
  <thing id="xSetSunFt" name="Setting Sun" description="The Setting Sun discipline teaches its initiates to turn their opponents&#146; strength against them. With a quick shift in stance and a carefully aimed attack, a Setting Sun warrior sends a charging enemy tumbling in a new direction. Setting Sun&#146;s preferred weapons are the quarterstaff, short sword, nunchaku, and unarmed strike. The discipline&#146;s key skill is Sense Motive." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="SetSun" name="Setting Sun"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wQtrstaff | thingid.wNunchaku | thingid.wShortswd | thingid.wUnarmed"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kBalance] += 2]]></eval>
    </thing>
  <thing id="xShaHndFt" name="Shadow Hand" description="The Shadow Hand discipline teaches the arts of stealth, deception, and ambush. Its maneuvers allow a warrior to take on a shadowy aspect or to channel dark energy to sap an enemy&#146;s strength. This discipline&#146;s preferred weapons are the dagger, sai, short sword, spiked chain, siangham, and unarmed strike. Its key skill is Hide." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="ShaHnd" name="Shadow Hand"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wChainSpk | thingid.wDagger | thingid.wSai | thingid.wShortswd | thingid.wSiangham | thingid.wUnarmed"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kHide] += 2]]></eval>
    </thing>
  <thing id="xStoDraFt" name="Stone Dragon" description="The Stone Dragon discipline focuses on strength, power, and toughness. Its teachings grant a martial adept the ability to splinter steel with a single, focused blow. Stone Dragon&#146;s defensive abilities focus on tapping into the enduring power of stone to turn aside attacks. This discipline&#146;s favored weapons are the greatsword, greataxe, heavy mace, and unarmed strike. Its key skill is Balance.\n\nUnlike with other disciplines, adepts of this school rely on an external force&#151; the power of the earth and stone&#151;to help power their maneuvers. As a result, Stone Dragon maneuvers can be initiated only if you are in contact with the ground." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="StoDra" name="Stone Dragon"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wGreataxe | thingid.wGreatswd | thingid.wMaceHeavy | thingid.wUnarmed"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kBalance] += 2]]></eval>
    </thing>
  <thing id="xTgrClwFt" name="Tiger Claw" description="The Tiger Claw discipline embraces a feral rage that lurks within the heart of its initiates. In battle, such warriors growl like wild animals, attack with a fury similar to that of a barbarian, and rely on overwhelming, vicious assaults to defeat their enemies. The Tiger Claw discipline&#146;s favored weapons are the kukri, kama, handaxe, claw, greataxe, and unarmed strike. Its key skill is Jump." compset="Special">
    <usesource source="ToB"/>
    <tag group="User" tag="TgrClw" name="Tiger Claw"/>
    <eval phase="Level" priority="1000"><![CDATA[
foreach pick in hero from BaseWep where "thingid.wClaw | thingid.wGreataxe | thingid.wHandaxe | thingid.wKama | thingid.wKukri | thingid.wUnarmed"
 eachpick.field[wDamBonus].value += 1
nexteach

#skillbonus[kJump] += 2]]></eval>
    </thing>
  <thing id="fMartStudH" name="Martial Study Helper" description="Use this helper to select your maneuver. You must first select a discipline." compset="Feat" maxlimit="">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Special"/>
    <tag group="Helper" tag="Helper"/>
    <eval phase="First" priority="5000"><![CDATA[doneif (hero.childfound[fMartStudy].field[fChosen].ischosen = 0)

var lngth as number
var choice as string

choice = hero.childfound[fMartStudy].field[fChosen].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)
lngth = length(choice)-2
choice = left(choice,lngth)

field[ftCandExpr].text = "component.BaseCustSp & Helper.Secondary & " & choice]]></eval>
    </thing>
  <thing id="fMartStudE" name="Martial Study Helper" description="Use this helper to select which class to apply the new maneuver to. Once chosen, you will need to go to the class tab and select the maneuver from the list of secondary custom abilities." compset="Feat" maxlimit="">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Special"/>
    <tag group="Helper" tag="Helper"/>
    <tag group="fShowWhat" tag="Classes"/>
    <tag group="fSelFrom" tag="Hero"/>
    <eval phase="Render" priority="10000"><![CDATA[doneif (field[fChosen].ischosen = 0)

var class as string
class = field[fChosen].chosen.idstring
class = "thingid." & class

doneif (hero.childfound[fMartStudH].field[fChosen].ischosen = 0)

var abil as string

abil = hero.childfound[fMartStudH].field[fChosen].chosen.idstring
abil = "thingid." & abil

foreach pick in hero from BaseClHelp where class
  eachpick.field[cCstS2Expr].text = eachpick.field[cCstS2Expr].text & " | " & abil
nexteach]]></eval>
    <eval phase="PostLevel" priority="9000" index="2"><![CDATA[doneif (field[fChosen].ischosen = 0)

var class as string
class = field[fChosen].chosen.idstring
class = "thingid." & class

foreach pick in hero from BaseClHelp where class
  eachpick.field[cGiveSp2nd].value += 1
nexteach]]></eval>
    </thing>
  <thing id="fMartStanE" name="Martial Stance Helper" description="Use this helper to select which class to apply the new stance to. Once chosen, you will need to go to the class tab and select the stance from the list of primary custom abilities." compset="Feat" maxlimit="">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Special"/>
    <tag group="Helper" tag="Helper"/>
    <tag group="fShowWhat" tag="Classes"/>
    <tag group="fSelFrom" tag="Hero"/>
    <eval phase="Render" priority="10000"><![CDATA[doneif (field[fChosen].ischosen = 0)

var class as string
class = field[fChosen].chosen.idstring
class = "thingid." & class

doneif (hero.childfound[fMartStanH].field[fChosen].ischosen = 0)

var abil as string

abil = hero.childfound[fMartStanH].field[fChosen].chosen.idstring
abil = "thingid." & abil

foreach pick in hero from BaseClHelp where class
  eachpick.field[cCstSpExpr].text = eachpick.field[cCstSpExpr].text & " | " & abil
nexteach]]></eval>
    <eval phase="PostLevel" priority="9000" index="2"><![CDATA[doneif (field[fChosen].ischosen = 0)

var class as string
class = field[fChosen].chosen.idstring
class = "thingid." & class

foreach pick in hero from BaseClHelp where class
  eachpick.field[cGiveSpec].value += 1
nexteach]]></eval>
    </thing>
  <thing id="fMartStanH" name="Martial Stance Helper" description="Use this helper to select your stance. You must first select a discipline." compset="Feat" maxlimit="">
    <usesource source="ToB"/>
    <tag group="fCategory" tag="Special"/>
    <tag group="Helper" tag="Helper"/>
    <eval phase="First" priority="5000"><![CDATA[doneif (hero.childfound[fMartStanc].field[fChosen].ischosen = 0)

var lngth as number
var choice as string

choice = hero.childfound[fMartStanc].field[fChosen].chosen.idstring
lngth = length(choice)-1
choice = "SpecSource." & right(choice,lngth)
lngth = length(choice)-2
choice = left(choice,lngth)

field[ftCandExpr].text = "component.BaseCustSp & !Helper.Secondary & " & choice]]></eval>
    </thing>
  </document>
