<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <thing id="fAdvAvoid" name="Advantageous Avoidance" description="You have a knack for ducking at just the right moment.\n\n{b}Prerequisites{/b}: Character level 3rd, any luck feat.\n\n{b}Benefit:{/b} You can expend one luck reroll as an immediate action to force a foe to re-roll a critical hit confirmation roll made when attacking you.\n\nYou can expend two luck rerolls as an immediate action to force a foe to reroll an attack roll made against you.\n\nYou gain one luck reroll per day.\n\n{b}Special:{/b} Unlike other luck feats, you can use this feat after seeing the success of the roll to be affected.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to have foe reroll crit conf, 2 for reroll of attack roll." uniqueness="useronce">
    <usesource source="CompScound" parent="p35" name="Complete Scoundrel"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    <prereq message="Character level 3rd required.">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 3) then
          @valid = 1
          endif]]></validate>
      </prereq>
    </thing>
  <thing id="fLuckStart" name="Lucky Start" description="Sometimes your luck overcomes a slow natural reaction\n\n{b}Benefit:{/b} You can expend one luck reroll to re-roll an initiative check.\n\nYou gain one luck reroll per day.\n\n{b}Special:{/b} Unlike most luck feats, using Lucky Start requires no action.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="No action, use 1 luck to reroll Initiative check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="xLuckRerol" name="Luck" description="Use luck to power your Luck feats." compset="Special" summary="This should be invisible" uniqueness="unique">
    <comment><![CDATA[
     ~ If we're not shown, just get out now
      if (tagis[Helper.ShowSpec] = 1) then
        done
        endif

      ~ Add our total number of extra wild shape uses per day to the total
      var total as number
      total = total + hero.tagcount[fCategory.Luck]
      field[hTotal].value += total]]></comment>
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
     ~ If we're not shown, just get out now
      if (tagis[Helper.ShowSpec] = 1) then
        done
        endif]]></eval>
    </thing>
  <thing id="fBLucktGoo" name="Better Lucky than Good" description="You can suceed where others would surely fail.\n\n{b}Prerequisites{/b}: Character level 6th, any two luck feats.\n\n{b}Benefit:{/b} If you roll a natural 1 when making an attack roll, you can expend one luck reroll as a swift action to instead treat the roll as a natural 20\n\nYou can use this feat once per day.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="1/day, swift, use 1 luck to change an attack roll of 1 into Natural 20." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 6th required.">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 6) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any two luck feats required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our Luck feats - do we have at least 2?
    if (tagcount[fCategory.Luck] >= 2) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fFortStrik" name="Fortuitous Strike" description="You can hit a foe in just the right place.\n\n{b}Prerequisites{/b}: Character level 6th, any luck feat.\n\n{b}Benefit:{/b} You can expend one luck reroll as a swift action to reroll a weapon damage roll.\n\nYou can expend two luck rerolls as a swift action to reroll an attack roll.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to roll weapon dam again, use 2 to reroll attack." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 6th required." iserror="no">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 6) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSurvLuck" name="Survivor&apos;s Luck" description="You can avoid situations that would surely affect others\n\n{b}Prerequisites{/b}: Character level 9th, any luck feat.\n\n{b}Benefit:{/b} You can expend one luck reroll as a swift action to reroll a saving throw you just failed.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll failed save." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 9th required." iserror="no">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 9) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fUnbelLuck" name="Unbelievable Luck" description="The powers of fortune truly smile upon you more than most mortals.\n\n{b}Prerequisites{/b}: Any luck feat.\n\n{b}Benefit:{/b} As long as you have at least one luck reroll remaining for the day, you gain a +2 luck bonus to whichever of your saves has the lowest base bonus. If two or more of your saves tie for the lowest base bonus, choose when you select this feat which save it appies to.\n\nIf your base save bonuses later change so that the chosen save no longer has the lowest base save bonus, the luck bonus from this feat immediately applies to the save that now has the lowest base bonus.\n\nYou gain two luck rerolls per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="While 1 reroll left, +2 luck bonus to save with lowest base bonus." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserPostLv" priority="5000" index="2"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

~ If Luck reroll charges used = total charges, do nothing, we are done
  if (hero.child[xLuckRerol].field[hTotal].value = hero.child[xLuckRerol].field[hUsed].value) then
     done
  endif

~ If our base Will save is less than base Fort and base Ref, add +2 luck bon and done.
  if (hero.child[vWill].field[vBase].value < hero.child[vFort].field[vBase].value) then
     if (hero.child[vWill].field[vBase].value < hero.child[vRef].field[vBase].value) then
        #applybonus[BonLuck, hero.child[vWill], 2]
        done
     endif
  endif

~ If our base Fort save is less than base Will and base Ref, add +2 luck bon and done.
  if (hero.child[vFort].field[vBase].value < hero.child[vWill].field[vBase].value) then
     if (hero.child[vFort].field[vBase].value < hero.child[vRef].field[vBase].value) then
        #applybonus[BonLuck, hero.child[vFort], 2]
        done
     endif
  endif

~ If our base Ref save is less than base Will and base Fort, add +2 luck bon and done.
  if (hero.child[vRef].field[vBase].value < hero.child[vWill].field[vBase].value) then
     if (hero.child[vRef].field[vBase].value < hero.child[vFort].field[vBase].value) then
        #applybonus[BonLuck, hero.child[vRef], 2]
        done
     endif
  endif

~ If there is a tie between Fort and Will, add to Fort and done
  if (hero.child[vFort].field[vBase].value = hero.child[vWill].field[vBase].value) then
     #applybonus[BonLuck, hero.child[vFort], 2]
     done
  endif

~ If there is a tie between Will and Ref, add to Will and done
  if (hero.child[vRef].field[vBase].value = hero.child[vWill].field[vBase].value) then
     #applybonus[BonLuck, hero.child[vWill], 2]
     done
  endif

~ If there is a tie between Ref and Fort, add to Ref and done
  if (hero.child[vFort].field[vBase].value = hero.child[vRef].field[vBase].value) then
     #applybonus[BonLuck, hero.child[vRef], 2]
     done
  endif]]></eval>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 2</eval>
    <prereq message="Any luck feat required." iserror="no">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fAscStalk" name="Ascetic Stalker" description="You have practiced a secret technique that combines your considerable talents in unarmed combat with a greater understanding of your inner {i}ki{/i}.\n\n{b}Prerequisite{/b}: {i}Ki{/i} power, {i}ki{/i} strike (magic).\n\n{b}Benefit{/b}: Your monk and ninja levels stack for the purpose of determining the size of your ki pool. For example, a 4th-level monk/2nd-level ninja with this feat could use her {i}ki{/i} powers a number of times equal to 3 (half the sum of her monk and ninja levels) + her Wisdom bonus (if any).\n\nYour monk and ninja levels also stack for the purpose of determining your unarmed strike damage, as well as your {i}ki{/i} strike class feature. For example, a 4th-level monk/6th-level ninja would deal 1d10 points of damage with her unarmed strike, and her unarmed strike would overcome damage reduction as a lawful magic weapon (as if she were a 10th-level monk).\n\nIn addition, you can multiclass freely between the monk and ninja classes. You must still remain lawful in order to continue advancing as a monk. You still face the normal XP penalties for having multiple classes more than one level apart.\n\n{b}Special{/b}: A monk can select Ascetic Stalker as a bonus feat at 1st, 2nd, or 6th level instead of one of the other feats indicated for those levels (PH 41).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Monk/ninja levels stack for unarmed strike dam, and Ki pool." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="BonusFor" tag="Monk2"/>
    <tag group="BonusFor" tag="Monk6"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <tag group="BonusFor" tag="Monk1"/>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the
    ~ "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the Ninja class and add it to our monk
    ~ levels for Unarmed Strike damage
    var levels as number
    levels = #levelcount[Ninja]
    hero.childfound[cMnkUnarm].field[xExtraLev].value += levels

    ~ Get our total number of levels from the Monk class and add it to our Ninja
    ~ levels for Ki Pool charges.
    var level as number
    level = #levelcount[Monk]
    hero.childfound[cNinKiPwr].field[xExtraLev].value += level]]></eval>
    <eval phase="UserFirst">perform hero.childfound[cHelpNin].assign[ClsCountAs.cHelpMnk]</eval>
    <exprreq message="Ki Power required."><![CDATA[childfound[cNinKiPwr].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Ki strike (magic) required."><![CDATA[childfound[cMnkKiMag].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fChantLoRo" name="Chant of the Long Road" description="You can channel the power of your bardic music to encourage your allies to pick up the pace on a long walk.\n\n{b}Prerequisite{/b}: Bardic music, Perform 6 ranks.\n\n{b}Benefit{/b}: You can expend one daily use of your bardic music ability and spend 1 minute of performance to allow yourself and all allies within 60 feet to avoid taking nonlethal damage for hustling (PH 165). This effect lasts for 1 hour.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="1 min, use 1 music to make allies in 60 ft imm to nonlethal from hustle for 1 hr." uniqueness="useronce">
    <comment>Test prereq (Done)

Page 74-75 &#150; Chant of the Long
Road
[Revision]
The &#147;Benefits&#148; text of this feat is
misleading and should read, &#147;You can
expend one daily use of your bardic
music ability and spend 1 minute of
performance to allow yourself and
all allies within 60 feet to avoid
taking nonlethal damage for hustling
(PH 165). This effect lasts for 1
hour.</comment>
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Bardic"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Bardic Music required."><![CDATA[picklives[hBrdMusic] <> 0]]></exprreq>
    <prereq message="Perform (any) 6 ranks required.">
      <validate><![CDATA[~ Loop through all perform skills
var result as number
foreach pick in hero where "Helper.SkCatPerf"

~ If this skill has 6 or more ranks, we are valid
  if (each.field[kUserRanks].value >= 6) then
    result += 1
  endif
nexteach

if (result >= 1) then
  @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fChordDist" name="Chord of Distraction" description="You can channel the power of your bardic music to make a sudden sound or gesture that momentarily distracts an opponent.\n\n{b}Prerequisite{/b}: Bardic music, Perform 9 ranks.\n\n{b}Benefit{/b}: As an immediate action, you can expend three daily uses of your bardic music ability to distract an opponent. The target must be within 30 feet of you and able to hear or see you. Make a Perform check, opposed by the target&#146;s Sense Motive check (modified as if you were using Bluff to feint in combat). If you succeed, that opponent is rendered flat-footed against an ally of your choice.\n\nThe effect lasts until that opponent is attacked or until the start of your next turn, whichever comes first.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Bardic music renders target flat-footed against one ally" uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Bardic"/>
    <exprreq message="Bardic Music required."><![CDATA[picklives[hBrdMusic] <> 0]]></exprreq>
    <prereq message="Perform (any) 9 ranks required.">
      <validate><![CDATA[~ Loop through all perform skills
var result as number
foreach pick in hero where "Helper.SkCatPerf"

~ If this skill has 9 or more ranks, we are valid
  if (each.field[kUserRanks].value >= 9) then
    result += 1
  endif
nexteach

if (result >= 1) then
  @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fConcusAtt" name="Concussion Attack" description="Your attacks can damage your opponent&#146;s ability to think clearly.\n\n{b}Prerequisite{/b}: Sneak attack +3d6.\n\n{b}Benefit{/b}: Your successful sneak attack imposes a &#150;2 penalty on the target&#146;s Intelligence and Wisdom checks, as well as on any Intelligence- and Wisdom-based skill checks, for 10 rounds. If you use this feat a second time on a target before 10 rounds have elapsed, the effect of the first use expires.\n\nUsing this feat reduces your sneak attack damage by 2d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -2d6, -2 to foe&apos;s Int/Wis ck &amp; skills based on them for 1 min." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <prereq message="Sneak Attack or Sudden Strike +3d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="fCoolHead" name="Cool Head" description="Your mental acuity serves you better than most.\n\n{b}Prerequisite{/b}: Any two mental skill tricks.\n\n{b}Benefit{/b}: You immediately learn up to two mental skill tricks at no cost, and your limit on skill tricks known increases by one. These skill tricks count toward your overall skill trick limit. See page 82 for details on mental skill tricks.\n\n{b}Normal{/b}: You are limited to a maximum number of skill tricks equal to one-half your character level.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Two free mental skill tricks, +1 to max skill tricks." uniqueness="useronce">
    <comment>Page 75 &#150; Cool Head
[Addition]
Add text to clarify, &#147;These skill
tricks count toward your overall
skill trick limit.&#148;

Need to redo in this case. (Done)</comment>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General"/>
    <eval phase="UserPostLv" priority="10000">hero.childfound[xSkilTrick].field[Value].value += 1
hero.childfound[kSklTrick2].field[kModValue].value += 2
hero.childfound[kSklTrick2].field[kUserRanks].value += 2</eval>
    <prereq message="Any two mental skill tricks required.">
      <validate><![CDATA[  @valid = 0

  var total as number

  foreach pick in hero where "SpecSource.SkillTrick"
    if (each.tagis[User.STMental] <> 0) then
      total += 1
    endif
  nexteach

  if (total >= 2) then
    @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fDareAthle" name="Daredevil Athlete" description="You are capable of pulling off amazing stunts.\n\n{b}Benefit{/b}: Three times per day, you can use an immediate action to gain a +5 competence bonus on a single Balance, Climb, Escape Artist, Jump, Ride, Swim, or Tumble check.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="3/day, imm, gain +5 comp bon to a single movement skill." uniqueness="useronce">
    <fieldval field="hTotal" value="3"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecType" tag="Movement"/>
    <tag group="fCategory" tag="General"/>
    </thing>
  <thing id="fDareOutla" name="Daring Outlaw" description="You combine grace and stealth to deadly effect.\n\n{b}Prerequisite{/b}: Grace +1, sneak attack +2d6.\n\n{b}Benefit{/b}: Your rogue and swashbuckler levels stack for the purpose of determining your competence bonus on Reflex saves from the grace class feature and the swashbuckler&#146;s dodge bonus to AC. For example, a 7th-level rogue/4th-level swashbuckler has grace +2 and gains a +2 dodge bonus to AC, as if she were an 11th-level swashbuckler.\n\nYour rogue and swashbuckler levels also stack for the purpose of determining your sneak attack bonus damage. For example, a 7th-level rogue/4th-level swashbuckler would deal an extra 6d6 points of damage with her sneak attack, as if she were an 11th-level rogue.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swash/rogue levels stack for grace, dodge bon to AC, and sneak attack." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the
    ~ "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the Ninja class and add it to our monk
    ~ levels for Unarmed Strike damage
    var levels as number
    levels = #levelcount[Swashbuck]
    hero.childfound[cRogSneak1].field[xExtraLev].value += levels

    ~ Get our total number of levels from the rogue class and add it to our swashbuckler levels for Dodge and Grace ability.
    var level as number
    level = #levelcount[Rogue]
    hero.childfound[cSwbGrace1].field[xExtraLev].value += level
    hero.childfound[cSwbDodBo1].field[xExtraLev].value += level]]></eval>
    <exprreq message="Sneak Attack +2d6 required."><![CDATA[childfound[xSneakAtt].field[Value].value >= 2]]></exprreq>
    <exprreq message="Grace +1 required."><![CDATA[childfound[cSwbGrace1].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fDareWarr" name="Daring Warrior" description="You combine agility and extraordinary combat prowess to great effect.\n\n{b}Prerequisite{/b}: Weapon Specialization, grace +1.\n\n{b}Benefit{/b}: Your fighter and swashbuckler levels stack for the purpose of determining your competence bonus on Reflex saves from the grace class feature and the swashbuckler&#146;s dodge bonus to AC. For example, a 6th level fighter/5th-level swashbuckler has grace +2 and gains a +2 dodge bonus to AC, as if she were an 11th-level swashbuckler.\n\nYour fighter and swashbuckler levels also stack for the purpose of qualifying for feats that require a minimum fighter level, such as Greater Weapon Focus.\n\n{b}Special{/b}: A fighter can select Daring Warrior as one of his fighter bonus feats (PH 38).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swash/fighter levels stack for grace, dodge bon to AC, and feats req fighter lvl." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the
    ~ "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the fighter class and add it to our swashbuckler levels for Dodge and Grace ability.
    var level as number
    level = #levelcount[Fighter]
    hero.childfound[cSwbGrace1].field[xExtraLev].value += level
    hero.childfound[cSwbDodBo1].field[xExtraLev].value += level]]></eval>
    <exprreq message="Weapon Specialization required."><![CDATA[#hasfeat[fWepSpec] <> 0]]></exprreq>
    <exprreq message="Grace +1 required."><![CDATA[childfound[cSwbGrace1].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fDeadlyDef" name="Deadly Defense" description="You are at your most dangerous when forced to protect yourself.\n\n{b}Benefit{/b}: When fighting defensively, you deal an extra 1d6 points of damage with any light weapon or with any weapon to which the Weapon Finesse feat applies (such as a rapier, spiked chain, or whip).\n\nThis feat&#146;s benefit applies only when you are unarmored or wearing light armor and not using a shield.\n\n{b}Special{/b}: If you have the Combat Expertise feat, you also gain the benefit of Deadly Defense when taking a penalty of at least &#150;2 on your attack roll from that feat.\n\nA fighter can select Deadly Defense as one of his fighter bonus feats (PH 38).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="+1d6 dam when fight def/combat exp -2 with finess weapon &amp; light/no armor." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <eval phase="Final"><![CDATA[      ~ If we're not shown, just get out now
      doneif (tagis[Helper.SpcDisable] <> 0)

      var result as number
      ~ If we fail the test for being speedy, get out
      if (hero.tagis[Hero.MedArmor] + hero.tagis[Hero.HeavyArmor] + hero.tagis[Hero.EquipShld] <> 0) then
        result = assign[Helper.SpcDisable]
        done
        endif]]>
      <after name="Encumber Final"/>
      </eval>
    </thing>
  <thing id="fDeafStrik" name="Deafening Strike" description="Your stealthy attack leaves your foe&#146;s head ringing.\n\n{b}Prerequisite{/b}: Sneak attack +4d6.\n\n{b}Benefit{/b}: Your successful sneak attack causes the target to be deafened for 3 rounds. If you use this feat a second time on a target before 3 rounds have elapsed, the effect of the first use expires.\n\nUsing this feat reduces your sneak attack damage by 3d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -3d6, foe is deafened for 3 rds." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Ambush"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <prereq message="Sneak Attack or Sudden Strike +4d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="fDisembStr" name="Disembowling Strike" description="You can slash open your opponent to devastating effect.\n\n{b}Prerequisite{/b}: Sneak attack +5d6, Weapon Focus (any slashing weapon).\n\n{b}Benefit{/b}: Your successful sneak attack with a slashing weapon for which you have selected Weapon Focus deals 1d4 points of Constitution damage in addition to its normal damage.\n\nYou can&#146;t use this feat against the same target more than once per day.\n\nUsing this feat reduces your sneak attack damage by 4d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -4d6, deal 1d4 Con dam to target, each foe only once a day." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <prereq message="Sneak Attack or Sudden Strike +5d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 5)]]></validate>
      </prereq>
    <prereq message="Weapon Focus (any slashing) required.">
      <validate><![CDATA[var result as number

foreach pick in hero from BaseWep where "Broadcast.WepFocus & wType.S"
result += 1
nexteach
 
validif (result >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fDumbLuck" name="Dumb Luck" description="You can survive situations that should kill you.\n\n{b}Prerequisite{/b}: Character level 6th, any two luck feats.\n\n{b}Benefit{/b}: If you roll a natural 1 when making a saving throw, you can expend one luck reroll as an immediate action to instead treat the roll as a natural 20.\n\nYou can use this feat once per day.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="1/day, imm, use 1 luck to change saving throw of 1 into Natural 20." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 6th required." iserror="no">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 6) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any two luck feats required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 2?
    if (tagcount[fCategory.Luck] >= 2) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fEldrErode" name="Eldritch Erosion" description="Your attack can weaken your foe&#146;s resistance to magic.\n\n{b}Prerequisite{/b}: Sneak attack +4d6, Knowledge (arcana) 1 rank.\n\n{b}Benefit{/b}: Your successful sneak attack reduces the target&#146;s spell resistance and power resistance by 5 (minimum 0) for 10 rounds. If you use this feat a second time on a target before 10 rounds have elapsed, the effect of the first use expires.\n\nUsing this feat reduces your sneak attack damage by 3d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -3d6, reduce foe&apos;s SR/power resistance by 5 for 1 min." uniqueness="useronce">
    <comment>Confusion, is pre-req 5d6? or is reduce 3d6? Mod the Summ and desc and pre req after errata. Not in Errata, look at book? Same error in book. Table has the reduction listed as 3d6, going with that. (Done)</comment>
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <exprreq message="Knowledge (arcana) 1 rank required."><![CDATA[#skillranks[kKnowArcan] >= 1]]></exprreq>
    <prereq message="Sneak Attack or Sudden Strike +4d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="fExpKiPool" name="Expanded Ki Pool" description="You know the secret mantras that grant you greater understanding of your {i}ki{/i}.\n\n{b}Prerequisite{/b}: {i}Ki{/i} power.\n\n{b}Benefit{/b}: You gain three extra daily uses of your {i}ki{/i} power ({i}ki{/i} power is a class feature of the ninja; see the sidebar for details).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Gain 3 more uses of Ki Power." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="UserPostAt" priority="150" index="2">hero.childfound[cNinKiPwr].field[hTotal].value += 3</eval>
    <exprreq message="Ki Power required."><![CDATA[childfound[cNinKiPwr].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fEndureKi" name="Enduring Ki" description="You can channel inner energy to make your {i}ki{/i} powers last longer.\n\n{b}Prerequisite{/b}: {i}Ki{/i} power.\n\n{b}Benefit{/b}: By spending an extra daily use of your {i}ki{/i} power when you activate it, the chosen effect lasts for an additional round ({i}ki{/i} power is a class feature of the ninja; see the sidebar for details).\n\nYou also gain one extra daily use of your {i}ki{/i} power.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Ki powers lasts for additional round when activated." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="UserPostAt" priority="150" index="2">hero.childfound[cNinKiPwr].field[hTotal].value += 1</eval>
    <exprreq message="Ki Power required."><![CDATA[childfound[cNinKiPwr].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fEpicLostK" name="Epic of the Lost King" description="You can channel the power of your bardic music to reinvigorate your allies.\n\n{b}Prerequisite{/b}: Bardic music, Perform 6 ranks.\n\n{b}Benefit{/b}: As a move action, you can expend one daily use of your bardic music ability to remove fatigue from up to three allies (including yourself) within 30 feet. If you spend three daily uses of bardic music, you can remove exhaustion from your allies instead.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Move, use 1 music to cure fatigue for 3 allies in 30 ft, use 3 to cure exhaustion." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Bardic"/>
    <exprreq message="Bardic Music required."><![CDATA[picklives[hBrdMusic] <> 0]]></exprreq>
    <prereq message="Perform (any) 6 ranks required.">
      <validate><![CDATA[~ Loop through all perform skills
var result as number
foreach pick in hero where "Helper.SkCatPerf"

~ If this skill has 6 or more ranks, we are valid
  if (each.field[kUserRanks].value >= 6) then
    result += 1
  endif
nexteach

if (result >= 1) then
  @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fFreerun" name="Freerunner" description="You can move in more baffling ways than others.\n\n{b}Prerequisite{/b}: Any two movement skill tricks.\n\n{b}Benefit{/b}: You immediately learn up to two movement skill tricks at no cost, and your limit on skill tricks known increases by one. These skill tricks count toward your overall skill trick limit. See page 82 for details on movement skill tricks.\n\n{b}Normal{/b}: You are limited to a maximum number of skill tricks equal to one-half your character level.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Two free movement skill tricks, +1 to max skill tricks." uniqueness="useronce">
    <comment>Page 77 &#150; Freerunner
[Addition]
Add text to clarify, &#147;These skill
tricks count toward your overall
skill trick limit.&#148;</comment>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General"/>
    <eval phase="UserPostLv" priority="10000">hero.childfound[xSkilTrick].field[Value].value += 1
hero.childfound[kSklTrick2].field[kModValue].value += 2
hero.childfound[kSklTrick2].field[kUserRanks].value += 2</eval>
    <prereq message="Any two movement skill tricks required.">
      <validate><![CDATA[  @valid = 0

  var total as number

  foreach pick in hero where "SpecSource.SkillTrick"
    if (each.tagis[User.STMove] <> 0) then
      total += 1
    endif
  nexteach

  if (total >= 2) then
    @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fGoodKarma" name="Good Karma" description="You can use your luck to aid an ally&#151;at the risk of your own neck.\n\n{b}Prerequisite{/b}: Character level 3rd.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to redirect an attack made against an adjacent ally so that it is made against you instead. You must be within reach of the attacker (if a melee attack) or within range of the attack (if a ranged attack) in order to use this ability. The attack roll result remains the same, but it is against your AC, rather than that of your ally. If the redirected attack hits you, you take an extra 50% damage from it. \n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to redirect att vs adjacent ally to self, +50% dam if hits." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 3rd required.">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 3) then
          @valid = 1
          endif]]></validate>
      </prereq>
    </thing>
  <thing id="fHeadShot" name="Head Shot" description="By striking at your opponent&#146;s head, you can temporarily disrupt his thought processes.\n\n{b}Prerequisite{/b}: Sneak attack +6d6, Weapon Focus (any bludgeoning weapon).\n\n{b}Benefit{/b}: Your successful sneak attack with a bludgeoning weapon for which you have selected Weapon Focus leaves your foe {i}confused{/i} for 1 round. A successful Will save (DC 10 + the number of extra damage dice normally dealt by your sneak attack + your Dex modifier) negates this effect. If you use this feat a second time on a target before 1 round has elapsed, the effect of the first use expires.\n\nUsing this feat reduces your sneak attack damage by 5d6.\n\n{b}Special{/b}: You must be able to reach your foe&#146;s head to use this feat with a melee attack.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -5d6, foe is {i}confused{/i} for 1 rd (DCXX Will neg)." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <eval phase="UserPostAt"><![CDATA[var DC as number
DC = 10 + hero.childfound[xSneakAtt].field[Value].value + hero.child[aDEX].field[aModBonus].value

field[xSumm].text = "Sneak att -5d6, foe is {i}confused{/i} for 1 rd (DC" & DC & " Will neg)."]]></eval>
    <prereq message="Sneak Attack or Sudden Strike +6d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 6)]]></validate>
      </prereq>
    <prereq message="Weapon Focus (any bludgeoning) required.">
      <validate><![CDATA[var result as number

foreach pick in hero from BaseWep where "Broadcast.WepFocus & wType.B"
result += 1
nexteach
 
validif (result >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="fHealLuck" name="Healer&apos;s Luck" description="Your spells can heal more damage.\n\n{b}Benefit{/b}: You can expend one luck reroll as a swift action to reroll the number of points of damage healed by a conjuration (healing) spell you have just cast on your current turn.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll conjuration (healing) spell&apos;s damage healed." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fImpedeAtt" name="Impeding Attack" description="Your strikes render your target temporarily clumsy and awkward.\n\n{b}Prerequisite{/b}: Sneak attack +4d6.\n\n{b}Benefit{/b}: Your successful sneak attack imposes a &#150;2 penalty on the target&#146;s Strength and Dexterity checks, as well as on any Strength- and Dexterity-based skill checks, for 10 rounds. If you use this feat a second time on a target before 10 rounds have elapsed, the effect of the first use expires.\n\nUsing this feat reduces your sneak attack damage by 3d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -3d6, -2 to foe&apos;s Str/Dex ck &amp; skills based on them for 1 min." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Ambush"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <prereq message="Sneak Attack or Sudden Strike +4d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="fImpFamil2" name="Improved Familiar" description="You can acquire a new familiar from a nonstandard list of creatures.\n\n{b}Prerequisite{/b}: Ability to acquire a new familiar, compatible alignment, sufficiently high arcane spellcaster level.\n\n{b}Benefit{/b}: When you choose a familiar, the creatures on the table below are also available. You can choose a familiar with an alignment up to one step away on each of the alignment axes (lawful through chaotic, good through evil). For example, a chaotic good spellcaster could acquire a neutral familiar. A lawful neutral spellcaster could acquire a neutral good familiar.\n\nExcept as noted here, improved familiars otherwise use the normal rules for familiars (PH 52).\n\n{b}Familiar - Alignment - Arcane Spellcaster Level{/b}\nMonstrous centipede, Small - N - 2nd\nBadger - N - 3rd\nMonstrous scorpion, Small - N - 3rd\nViper, Medium - N - 3rd\nMonstrous spider, Small - N - 4th\nVargouille* - NE - 6th\nMephit, any - N - 7th\n* Vargouilles summoned as familiars do not possess the kiss supernatural ability.\n\n{b}Special{/b}: This feat was originally presented on page 200 of the DMG; the description here provides new alternatives for arcane spellcasters who want familiars stealthy and versatile enough to follow them anywhere.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="When choosing a familiar, the creatures listed below are also available to the spellcaster. The spellcaster may choose a familiar with an alignment up to one step away on each of the alignment axes (lawful through chaotic, good through evil).\n" uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <exprreq message="Ability to select an Arcane Familiar required." iserror="no"><![CDATA[hero.tagis[CompAvail.cArcFamil] <> 0]]></exprreq>
    </thing>
  <thing id="fImpSkirm" name="Improved Skirmish" description="With a few extra steps, you gain even greater benefits from your skirmishing combat style.\n\n{b}Prerequisite{/b}: Skirmish +2d6/+1 AC.\n\n{b}Benefit{/b}: If you move at least 20 feet away from where you were at the start of your turn, your skirmish damage increases by 2d6 and your competence bonus to AC from skirmish improves by 2.\n\n{b}Normal{/b}: A scout&#146;s bonus damage and AC bonus apply if she moves at least 10 feet away from where she was at the start of her turn (see the skirmish class feature in the sidebar on page 25).\n\n{b}Special{/b}: A scout can select Improved Skirmish as one of her scout bonus feats (Complete Adventurer 13).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="When move 20+ ft from start, skirmish gains +2d6 dam and +2 to AC." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="BonusFor" tag="Scout"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <prereq message="Skirmish +2d6/+1 AC required.">
      <validate><![CDATA[     @valid = 0
 if (childfound[xSkirmisAC].field[Value].value >= 1) then
   if (childfound[xSkirmish].field[Value].value >= 2) then
     @valid = 1
   endif
 endif]]></validate>
      </prereq>
    </thing>
  <thing id="fLuckBreak" name="Lucky Break" description="You can hit an object in just the right place.\n\n{b}Benefit{/b}: You can expend one luck reroll as a swift action to reroll a Strength check made to break an item or burst open a door.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll Str check to break item or door." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fLuckCatch" name="Lucky Catch" description="Your good fortune can help prevent you from falling to your doom.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to reroll a Balance, Climb, or Jump check.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to reroll Balance, Climb, or Jump check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fLuckFinge" name="Lucky Fingers" description="The winds of fortune guide your hands when you most need luck.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to reroll a Disable Device, Open Lock, or Sleight of Hand check.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to reroll Disable Device, Open Lock, or Sleight of Hand ck." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fMagicFor" name="Magical Fortune" description="Even you are sometimes surprised by how well your spells work.\n\n{b}Prerequisite{/b}: Caster level 3rd, any luck feat.\n\n{b}Benefit{/b}: You can expend one luck reroll as a swift action to reroll the damage dealt by a spell you have just cast.\n\nYou can expend two luck rerolls as a swift action to reroll a caster level check.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll spell&apos;s dam, use 2 to reroll CL check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <exprreq message="Caster level 3rd required."><![CDATA[tagcount[Hero.Caster] >= 3]]></exprreq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fMakeLuck" name="Make Your Own Luck" description="Your hard work lets you exploit minor loopholes.\n\n{b}Prerequisite{/b}: Character level 6th, any luck feat.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to reroll a skill check, as long as you have at least 1 rank in that skill.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to reroll trained skill check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 6th required.">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 6) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our Luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fMartStalk" name="Martial Stalker" description="You practice a powerful fighting style that focuses equally on martial skill and mystical dedication.\n\n{b}Prerequisite{/b}: Proficiency with all martial weapons, {i}Ki{/i} power.\n\n{b}Benefit{/b}: Your fighter and ninja levels stack for the purpose of determining the size of your {i}ki{/i} pool, as well as your AC bonus. For example, a 5th-level fighter/1st-level ninja with this feat could use his {i}ki{/i} powers a number of times equal to 3 (one-half his ninja and fighter levels) + his Wisdom bonus (if any), and would have a +1 bonus to AC (as if he were a 6th-level ninja).\n\nYour fighter and ninja levels also stack for the purpose of qualifying for feats that require a minimum fighter level, such as Greater Weapon Focus.\n\n{b}Special{/b}: A fighter can select Martial Stalker as one of his fighter bonus feats (PH 38).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Fighter/ninja levels stack for Ki pool, AC bonus and feats req fighter lvl." uniqueness="useronce">
    <comment>Do redo of feats that need fighter level?</comment>
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <tag group="BonusFor" tag="Fighter"/>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the Fighter class and add it to our Ninja levels for Ki Pool charges and AC bonus.
    var level as number
    level = #levelcount[Fighter]
    hero.childfound[cNinKiPwr].field[xExtraLev].value += level
    hero.childfound[cNinImpAC].field[xExtraLev].value += level]]></eval>
    <exprreq message="Proficiency with all martial weapons required."><![CDATA[#hasfeat[fWepMart] <> 0]]></exprreq>
    <exprreq message="Ki Power required."><![CDATA[childfound[cNinKiPwr].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fMastSpell" name="Master Spellthief" description="Your arcane studies allow you to mingle arcane magic of different flavors for great effect.\n\n{b}Prerequisite{/b}: Ability to cast 2nd-level arcane spells, steal spell.\n\n{b}Benefit{/b}: Your spellthief levels stack with levels of other arcane spellcaster classes (that is, levels of any class that grants arcane spellcasting other than the spellthief) for the purpose of determining what level of spell you can steal. For example, a 4th-level spellthief/4th-level wizard could steal spells of up to 4th level, as if he were an 8th-level spellthief.\n\nYour spellthief and arcane spellcaster levels also stack when determining your caster level for all arcane spells. The character described above would have a caster level of 8th for both his spellthief spells and his wizard spells. In addition, you do not incur a chance of arcane spell failure for arcane spells cast or stolen from other classes, but only if you are wearing light armor. You incur the normal arcane spell failure chance when wearing medium or heavy armor or when using a shield.\n\n{b}Normal{/b}: A spellthief does not incur a chance of arcane spell failure when casting spellthief spells in light armor. He incurs the normal arcane spell failure chance for other arcane spells he casts, including those stolen from arcane casters (Complete Adventurer 15).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Spellthief/arcane lvls stack for steal spl, CL for arc class, no spell fail in lt armor." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fShowWhat" tag="Classes"/>
    <tag group="fSelFrom" tag="Hero"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="UserPreLv" priority="10000" index="3">~ Add ignore light armor for chosen class 
   perform field[fChosen].chosen.assign[CastArmor.Light]</eval>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the chosen arcane casting class and add it to our spellthief levels for steal spell level and charges.
    var level as number
    level = field[fChosen].chosen.field[cTotalLev].value
    hero.childfound[cSpTSteSpl].field[xExtraLev].value += level]]></eval>
    <exprreq message="Steal Spell required."><![CDATA[childfound[cSpTSteSpl].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <prereq message="Ability to cast 2nd level arcane spells required.">
      <validate><![CDATA[if (tagcount[Hero.Arcane] >= 2 + 1) then
          @valid = 1
          endif]]></validate>
      </prereq>
    </thing>
  <thing id="fMercyStr" name="Merciful Strike" description="You can strike a creature&#146;s vital areas without killing it.\n\n{b}Prerequisite{/b}: Sneak attack +2d6.\n\n{b}Benefit{/b}: Your successful sneak attack deals nonlethal damage. When using this feat, you can ignore the usual &#150;4 penalty on attack rolls for attempting to deal nonlethal damage with a lethal weapon.\n\nUsing this feat reduces your sneak attack damage by 1d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -1d6, deal nonlethal dam with no -4 penalty to att." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Ambush"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <prereq message="Sneak Attack or Sudden Strike +2d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fMindDrain" name="Mind Drain" description="Your attack can weaken your opponent&#146;s mental powers.\n\n{b}Prerequisite{/b}: Power point reserve, sneak attack +2d6.\n\n{b}Benefit{/b}: Your successful sneak attack drains power points from your target equal to its manifester level (minimum 1). If this attack reduces your target to 0 power points, the opponent also loses any psionic focus. A target that has no power points when you make the sneak attack is not affected by this feat. You can&#146;t use this feat on the same target more than once per round.\n\nUsing this feat reduces your sneak attack damage by 1d6.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -1d6, once per rd drain PP from for equal to manifester level." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <exprreq message="Power Point reserve required."><![CDATA[hero.child[Psionics].field[tPPTotal].value <> 0]]></exprreq>
    <prereq message="Sneak Attack or Sudden Strike +2d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 2)]]></validate>
      </prereq>
    </thing>
  <thing id="fMiserFor" name="Miser&apos;s Fortune" description="Items belonging to you and your allies are abnormally resistant to damage.\n\n{b}Benefit{/b}: Whenever an opponent makes a sunder attack or Strength check to damage an object within 30 feet of you, you can expend one luck reroll as an immediate action to force that opponent to reroll.\n\nIn addition, as long as you still have one luck reroll remaining for the day, items in your possession receive a +5 luck bonus on saving throws.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to force sunder/str ck reroll in 30 ft, +5 save bon for items." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fPersistAt" name="Persistant Attacker" description="Once you find a target&#146;s weak point, you can easily strike it again.\n\n{b}Prerequisite{/b}: Sneak attack +5d6.\n\n{b}Benefit{/b}: If your sneak attack hits, your first attack against that creature on your next turn is also considered a sneak attack even if it wouldn&#146;t normally qualify.\n\nUsing this feat reduces your first sneak attack&#146;s damage by 4d6. The resulting second sneak attack deals its full extra damage.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -4d6, if att hits, 1st att in next rd vs same foe is auto sneak att." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Ambush"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <prereq message="Sneak Attack or Sudden Strike +5d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 5)]]></validate>
      </prereq>
    </thing>
  <thing id="fPoisonExp" name="Poison Expert" description="Your skill at crafting and delivering toxins has made you a more deadly poisoner.\n\n{b}Prerequisite{/b}: Craft (poisonmaking) 4 ranks, poison use.\n\n{b}Benefit{/b}: Choose a type of poison (contact, ingested, inhaled, or injury). The DC to resist both the initial and secondary damage of poisons of this type that you create and use increases by 1.\n\nThis feat has no effect on poisons used by other creatures, even if you craft those poisons. It also has no effect on natural poisons (those exuded from a creature&#146;s body).\n\n{b}Special{/b}: You can gain this feat multiple times. Its effect does not stack. Each time you take the feat, it applies to a new type of poison.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Chosen type of poison you craft has +1 DC.">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General"/>
    <tag group="fShowWhat" tag="Freeform"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Poison Use required."><![CDATA[childfound[cNinPoiUse].tagis[Helper.ShowSpec] + childfound[cAsnPoison].tagis[Helper.ShowSpec] + childfound[cBlkPoison].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Craft (poisonmaking) 4 ranks required."><![CDATA[#skillranks[kCrafPoiso] >= 4]]></exprreq>
    </thing>
  <thing id="kCrafPoiso" name="Craft: Poisonmaking" description="You are skilled at the extraction and creation of biological and chemical poisons.\n\n{b}Source{/b}: Complete Scoundrel" compset="Skill" uniqueness="unique">
    <tag group="Helper" tag="ExtraSkill" name="ExtraSkill" abbrev="ExtraSkill"/>
    <tag group="Helper" tag="SkCatCraft" name="Craft Skill" abbrev="Craft Skill"/>
    <link linkage="skillattr" thing="aINT"/>
    </thing>
  <thing id="fPoisonMas" name="Poison Master" description="The toxins you create and use are particularly virulent.\n\n{b}Prerequisite{/b}: Poison Expert, Craft (poisonmaking) 8 ranks, poison use.\n\n{b}Benefit{/b}: Choose a type of poison (contact, ingested, inhaled, or injury) for which you have selected the Poison Expert feat. The initial and secondary damage dealt by poisons of this type that you create and use increases by 1 point per die of damage (or by 1 point, if it deals a fixed amount of damage). For example, lich dust used by a character with Poison Master (ingested) would deal initial damage of 2d6+2 Str and secondary damage of 1d6+1 Con plus 1d6+1 Str. If a poison doesn&#146;t deal damage, this feat has no effect.\n\nThis feat has no effect on poisons used by other creatures, even if you craft those poisons. It also has no effect on natural poisons (those exuded from a creature&#146;s body).\n\n{b}Special{/b}: You can gain this feat multiple times. Its effect does not stack. Each time you take the feat, it applies to a new type of poison for which you have selected Poison Expert.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Chosen type of poison you craft does +1 damage per die.">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="General"/>
    <tag group="fShowWhat" tag="Freeform"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Poison Expert required."><![CDATA[#hasfeat[fPoisonExp] <> 0]]></exprreq>
    <exprreq message="Poison Use required."><![CDATA[childfound[cNinPoiUse].tagis[Helper.ShowSpec] + childfound[cAsnPoison].tagis[Helper.ShowSpec] + childfound[cBlkPoison].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Craft (poisonmaking) 8 ranks required."><![CDATA[#skillranks[kCrafPoiso] >= 8]]></exprreq>
    </thing>
  <thing id="fPsithief" name="Psithief" description="You can drain psychic energy and use it against others.\n\n{b}Prerequisite{/b}: Manifester level 1st, steal spell.\n\n{b}Benefit{/b}: You can use your steal spell ability to siphon psionic energy instead of spell energy. Instead of stealing a spell, you can choose to steal a number of power points equal twice to the maximum level of spell you can steal minus 1 (up to a maximum value equal to the manifester level of the creature struck). For example, a 4th-level spellthief/1st-level psychic warrior could steal up to 3 power points; if he used this ability against a 2nd-level psion he could steal only 2 power points, since that is the target&#146;s manifester level.\n\nYou can use the stolen power points only to manifest a psionic power you already know. You must use these power points within 1 hour of stealing them; otherwise, the extra psionic energy fades harmlessly away. This feat otherwise follows the rules for the steal spell class feature (Complete Adventurer 16).\n\nIn addition, Knowledge (psionics) and Psicraft are spellthief class skills for you. These skills appear on page 38 of Expanded Psionics Handbook.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Spellthief&apos;s steal spell can affect psionic energy, add class skills to spellthief." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="UserFirst" priority="10000">perform hero.childfound[cHelpSpT].assign[ClassSkill.kPsicraft]
perform hero.childfound[cHelpSpT].assign[ClassSkill.kKnowPsi]</eval>
    <exprreq message="Steal Spell required."><![CDATA[childfound[cSpTSteSpl].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Manifester level 1st required."><![CDATA[tagcount[Hero.Manifester] >= 1]]></exprreq>
    </thing>
  <thing id="fPsychicLu" name="Psychic Luck" description="Some psions claim that luck doesn&#146;t exist. You know better.\n\n{b}Prerequisite{/b}: Manifester level 3rd, any luck feat.\n\n{b}Benefit{/b}: You can expend one luck reroll as a swift action to reroll the damage dealt by a psionic power you have just manifested.\n\nYou can expend two luck rerolls as a swift action to reroll a manifester level check.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll psionic power&apos;s dam, use 2 to reroll ML check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <exprreq message="Manifester level 3rd required."><![CDATA[tagcount[Hero.Manifester] >= 3]]></exprreq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSavvRogue" name="Savvy Rogue" description="You have mastered one or more of your rogue special abilities.\n\n{b}Prerequisite{/b}: Rogue level 10th.\n\n{b}Benefit{/b}: Based on the rogue special abilities you have (PH 50), you gain one or more additional special benefits as described below. You gain the benefits for all the special abilities you have, even those you gain after selecting this feat.\n\n{i}Crippling Strike{/i}: You can deal Strength damage even to a target that is immune to extra damage from sneak attacks.\n\n{i}Defensive Roll{/i}: You can use this ability three times per day, rather than once per day.\n\n{i}Improved Evasion{/i}: You gain a +2 competence bonus on Reflex saves.\n\n{i}Opportunist{/i}: You can use the opportunist ability as many times per round as you can make attacks of opportunity, but no more than once per creature per round. Each use of the opportunist ability counts as an attack of opportunity.\n\n{i}Skill Mastery{/i}: When taking 10 with a skill to which you have assigned skill mastery, you can treat the die roll as a 12 instead of as a 10. (In effect, you&#146;re &#147;taking 12.&#148;)\n\n{i}Slippery Mind{/i}: You gain a +2 competence bonus on the extra save granted by slippery mind.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Rogue custom abilities are modified." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fCategory" tag="General"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[   if (hero.childfound[cRogCripp2].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogCripp2].field[xSumm].text = "Sneak attacks do 2 Str dam, even vs those imm to sneak att."
   endif

   if (hero.childfound[cRogDefen].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogDefen].field[xSumm].text = "Thrice per day, attempt to narrowly escape death."
     hero.childfound[cRogDefen].field[hTotal].value += 2
   endif

   if (hero.childfound[cRogImpEv2].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogImpEv2].field[xSumm].text = "Half dam on a failed Ref save, +2 comp bon to Ref."
     #competencebonus[hero.child[vRef], 2]
   endif

   if (hero.childfound[cRogOppor].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogOppor].field[xSumm].text = "When foe hit make AoO, use up to max AoO, only once per foe each rd."
   endif

   if (hero.childfound[cRogSkillM].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogSkillM].field[xSumm].text = "Always take 12 with:"
   endif

   if (hero.childfound[cRogSlipp].tagis[Helper.ShowSpec] <> 0) then
     hero.childfound[cRogSlipp].field[xSumm].text = "Two saves vs Enchantment spells, +2 comp bon on 2nd save."
   endif]]></eval>
    <exprreq message="Rogue level 10th required."><![CDATA[tagcount[Classes.Rogue] >= 10]]></exprreq>
    </thing>
  <thing id="fSlyFortun" name="Sly Fortune" description="Your luck helps you find the right place to move to.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to reroll a Hide, Move Silently, or Tumble check.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 1 luck to reroll Hide, Move Silently, or Tumble check." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="fInclude" tag="fLuckStart" name="Lucky Start" abbrev="Lucky Start"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fSoundSil" name="Sound of Silence" description="You can channel the power of your bardic music to deafen your foes.\n\n{b}Prerequisite{/b}: Bardic music, Perform 9 ranks.\n\n{b}Benefit{/b}: As a standard action, you can expend two daily uses of your bardic music ability to deafen a single target for 3 rounds. A successful Will save (using your Perform check result as the DC) negates the effect. The target must be within 30 feet of you and be able to hear you.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Stand, use 2 music to deafen foe in 30 ft for 3 rds (Will neg, DC = Perform ck)." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Bardic"/>
    <exprreq message="Bardic Music required."><![CDATA[picklives[hBrdMusic] <> 0]]></exprreq>
    <prereq message="Perform (any) 9 ranks required.">
      <validate><![CDATA[~ Loop through all perform skills
var result as number
foreach pick in hero where "Helper.SkCatPerf"

~ If this skill has 9 or more ranks, we are valid
  if (each.field[kUserRanks].value >= 9) then
    result += 1
  endif
nexteach

if (result >= 1) then
  @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSureHand" name="Sure Hand" description="You can perform more amazing displays of legerdemain than normal.\n\n{b}Prerequisite{/b}: Any two manipulation skill tricks.\n\n{b}Benefit{/b}: You immediately learn up to two manipulation skill tricks at no cost, and your limit on skill tricks known increases by one. These skill tricks count toward your overall skill trick limit. See page 82 for details on manipulation skill tricks.\n\n{b}Normal{/b}: You are limited to a maximum number of skill tricks equal to one-half your character level.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Two free manipulation skill tricks, +1 to max skill tricks." uniqueness="useronce">
    <comment>Page 75 &#150; Sure Hand
[Addition]
Add text to clarify, &#147;These skill
tricks count toward your overall
skill trick limit.&#148;</comment>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General"/>
    <eval phase="UserPostLv" priority="10000">hero.childfound[xSkilTrick].field[Value].value += 1
hero.childfound[kSklTrick2].field[kModValue].value += 2
hero.childfound[kSklTrick2].field[kUserRanks].value += 2</eval>
    <prereq message="Any two manipulation skill tricks required.">
      <validate><![CDATA[  @valid = 0

  var total as number

  foreach pick in hero where "SpecSource.SkillTrick"
    if (each.tagis[User.STMani] <> 0) then
      total += 1
    endif
  nexteach

  if (total >= 2) then
    @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSweetTalk" name="Sweet Talker" description="Your social expertise is more pronounced than that of most others.\n\n{b}Prerequisite{/b}: Any two interaction skill tricks.\n\n{b}Benefit{/b}: You immediately learn up to two interaction skill tricks at no cost, and your limit on skill tricks known increases by one. These skill tricks count toward your overall skill trick limit. See page 82 for details on interaction skill tricks.\n\n{b}Normal{/b}: You are limited to a maximum number of skill tricks equal to one-half your character level.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Two free interaction skill tricks, +1 to max skill tricks." uniqueness="useronce">
    <comment>Page 77 &#150; Sweet Talker
[Addition]
Add text to clarify, &#147;These skill
tricks count toward your overall
skill trick limit.&#148;</comment>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General"/>
    <eval phase="UserPostLv" priority="10000">hero.childfound[xSkilTrick].field[Value].value += 1
hero.childfound[kSklTrick2].field[kModValue].value += 2
hero.childfound[kSklTrick2].field[kUserRanks].value += 2</eval>
    <prereq message="Any two interaction skill tricks required.">
      <validate><![CDATA[  @valid = 0

  var total as number

  foreach pick in hero where "SpecSource.SkillTrick"
    if (each.tagis[User.STInteract] <> 0) then
      total += 1
    endif
  nexteach

  if (total >= 2) then
    @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSwiftAmbu" name="Swift Ambusher" description="You combine your scout training with the stealth of a rogue to open up new methods of ambushing enemies.\n\n{b}Prerequisite{/b}: Skirmish +1d6/+1 AC, sneak attack +1d6.\n\n{b}Benefit{/b}: Your rogue and scout levels stack for the purpose of determining the extra damage and bonus to Armor Class granted when skirmishing. For example, a 4th-level scout/7th-level rogue would deal an extra 3d6 points of damage and gain a +3 competence bonus to AC when skirmishing, as if she were an 11th-level scout.\n\nIn addition, you can qualify for ambush feats (see page 71) as if your sneak attack bonus damage were the sum of your skirmish damage and sneak attack bonus damage. You cannot sacrifice skirmish extra damage to use those feats, however.\n\n{b}Special{/b}: A scout can select Swift Ambusher as one of her scout bonus feats (Complete Adventurer 13).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Scout/rogue levels stack for skirmish, use skirmish to qual for Ambush feats." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="BonusFor" tag="Scout"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="Level" priority="999999"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the
    ~ "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the rogue class and add it to our scout levels for skirmish.
    var level as number
    level = #levelcount[Rogue]
    hero.childfound[cSctSkirm1].field[xExtraLev].value += level]]></eval>
    <exprreq message="Sneak Attack +1d6 required."><![CDATA[childfound[xSneakAtt].field[Value].value >= 1]]></exprreq>
    <prereq message="Skirmish +1d6/+1 AC required.">
      <validate><![CDATA[     @valid = 0
 if (childfound[xSkirmisAC].field[Value].value >= 1) then
   if (childfound[xSkirmish].field[Value].value >= 1) then
     @valid = 1
   endif
 endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSwiftHunt" name="Swift Hunter" description="You have applied the hit-and-run tactics learned from scouting to your strong hunting abilities.\n\n{b}Prerequisite{/b}: Favored enemy, skirmish +1d6/+1 AC.\n\n{b}Benefit{/b}: Your ranger and scout levels stack for the purpose of determining the extra damage and bonus to Armor Class granted when skirmishing. For example, a 4th-level scout/1st level ranger would deal an extra 2d6 points of damage and gain a +1 competence bonus to AC when skirmishing, as if she were a 5th-level scout.\n\nYour ranger and scout levels also stack for the purpose of determining when you select additional favored enemies, as well as the total bonus granted against your favored enemies. For example, a 4th-level scout/1st-level ranger would have two favored enemies and could allocate an extra +2 bonus against one of those favored enemies, as if she were a 5th-level ranger.\n\nIn addition, your skirmish extra damage applies against any creature you have selected as a favored enemy, even if it is normally immune to extra damage from critical hits or skirmish attacks.\n\n{b}Special{/b}: A scout can select Swift Hunter as one of her scout bonus feats (Complete Adventurer 13).\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Skirmish damage applies vs favored enemies, even if normally immune." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="BonusFor" tag="Scout"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="Level" priority="999999" index="2"><![CDATA[    ~ Make sure this is done as one of the last things in the "Level" phase, before the
    ~ "PostLevel" scripts run - we need to set the "xExtraLev" field before then.

    ~ Get our total number of levels from the rogue class and add it to our scout levels for skirmish.
    var level as number
    level = #levelcount[Ranger]
    hero.childfound[cSctSkirm1].field[xExtraLev].value += level]]></eval>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Get our number of favored enemies and upgrades, we can't add to xExtraLev because the script is on the class helper rather than the special.
      var combo as number
      combo = hero.childfound[cHelpRgr].field[cTotalLev].value + hero.childfound[cHelpSct].field[cTotalLev].value
   
   if (combo >= 20) then
      hero.childfound[cFavEnemy].field[feTotal].value = 5
      hero.childfound[cFavEnemy].field[feUpTotal].value = 4
   elseif (combo >= 15) then
      hero.childfound[cFavEnemy].field[feTotal].value = 4
      hero.childfound[cFavEnemy].field[feUpTotal].value = 3
   elseif (combo >= 10) then
      hero.childfound[cFavEnemy].field[feTotal].value = 3
      hero.childfound[cFavEnemy].field[feUpTotal].value = 2
   elseif (combo >= 5) then
      hero.childfound[cFavEnemy].field[feTotal].value = 2
      hero.childfound[cFavEnemy].field[feUpTotal].value = 1
   else
      hero.childfound[cFavEnemy].field[feTotal].value = 1
      hero.childfound[cFavEnemy].field[feUpTotal].value = 0
   endif]]></eval>
    <exprreq message="Favored Enemy required."><![CDATA[childfound[cRgrEnemy1].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <prereq message="Skirmish +1d6/+1 AC required.">
      <validate><![CDATA[     @valid = 0
 if (childfound[xSkirmisAC].field[Value].value >= 1) then
   if (childfound[xSkirmish].field[Value].value >= 1) then
     @valid = 1
   endif
 endif]]></validate>
      </prereq>
    </thing>
  <thing id="fTemptFate" name="Tempting Fate" description="You are very hard to kill.\n\n{b}Prerequisite{/b}: Character level 6th, any luck feat.\n\n{b}Benefit{/b}: You can expend a luck reroll to reroll a stabilization check.\n\nIn addition, once per day, whenever you have at least 1 hit point remaining and would be dealt enough damage to kill you, you can expend one luck reroll as an immediate action to take only enough damage to reduce you to &#150;9 hit points. You automatically stabilize.\n\nYou gain one luck reroll per day.\n\n{b}Special{/b}: Unlike most other luck feats, using Tempting Fate requires no action.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="No act, reroll stab ck. 1/day, imm, if dam past -10 use 1 luck to stabil at -9." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <prereq message="Character level 6th required." iserror="no">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 6) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fThirdTime" name="Third Time&apos;s the Charm" description="Your deity smiles upon you.\n\n{b}Prerequisite{/b}: Character level 3rd, any luck feat, access to the Luck domain.\n\n{b}Benefit{/b}: You can expend one luck reroll as an immediate action to use the granted power of the Luck domain an additional time per day. You can only use this benefit immediately after using the Luck domain&#146;s granted power (in effect, this feat gives you a third chance to succeed on the roll).\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="1/day, free, use 1 luck to use Luck domain power again after failing the reroll." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    <exprreq message="Luck Domain required."><![CDATA[tagcount[Domain.Luck] <> 0]]></exprreq>
    <prereq message="Character level 3rd required." iserror="no">
      <validate><![CDATA[
        if (hero.child[Totals].field[tLevel].value >= 3) then
          @valid = 1
          endif]]></validate>
      </prereq>
    <prereq message="Any luck feat required.">
      <validate><![CDATA[    ~ Start out invalid
    @valid = 0

    ~ Count our luck feats - do we have at least 1?
    if (tagcount[fCategory.Luck] >= 1) then

      ~ If so, we're valid.
      @valid = 1
      endif]]></validate>
      </prereq>
    </thing>
  <thing id="fThroatPun" name="Throat Punch" description="By making a precise punch to the throat, you can render a target unable to speak effectively.\n\n{b}Prerequisite{/b}: Improved Unarmed Strike, sneak attack +3d6.\n\n{b}Benefit{/b}: Your successful sneak attack delivered with an unarmed strike temporarily hinders the target&#146;s ability to speak. For the next 3 rounds, the target takes a &#150;5 penalty on any skill check requiring speech and has a 50% chance of failure when casting a spell with a verbal component or activating a magic item with a command word. Multiple uses of this feat don&#146;t increase the duration beyond 3 rounds.\n\nUsing this feat reduces your sneak attack damage by 2d6.\n\n{b}Special{/b}: You must be able to reach your foe&#146;s neck to use this feat.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Sneak att -2d6, unarm att gives -5 on speech skills, 50% fail on V spl for 3 rds." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Ambush"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xAmbushReq"></bootstrap>
    <exprreq message="Improved Unarmed Strike required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <prereq message="Sneak Attack or Sudden Strike +3d6 required.">
      <validate><![CDATA[var result as number
result += childfound[xSneakAtt].field[Value].value
result += childfound[xSudStrike].field[Value].value
result += childfound[cCDSurStri].field[Value].value

if (#hasfeat[fSwiftAmbu] <> 0) then
result += childfound[xSkirmish].field[Value].value
endif

validif (result >= 3)]]></validate>
      </prereq>
    </thing>
  <thing id="fVictorLuc" name="Victor&apos;s Luck" description="You strike with devastating accuracy more often.\n\n{b}Benefit{/b}: You can expend one luck reroll as a swift action to reroll a critical threat confirmation roll.\n\nYou gain one luck reroll per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Swift, use 1 luck to reroll crit threat confirmation roll." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Luck" name="Luck" abbrev="Luck"/>
    <tag group="fExclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="fInclude" tag="fAdvAvoid" name="Advantageous Avoidance" abbrev="Advantageous Avoidance"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <bootstrap thing="xLuckRerol"></bootstrap>
    <eval phase="UserFirst" priority="20000">hero.child[xLuckRerol].field[hTotal].value += 1</eval>
    </thing>
  <thing id="fWarnShout" name="Warning Shout" description="The force of your performance is so potent that it can guide an ally to safety.\n\n{b}Prerequisite{/b}: Bardic music, Perform 9 ranks, evasion.\n\n{b}Benefit{/b}: As an immediate action, you can expend two daily uses of your bardic music ability to grant a single ally (other than yourself) a +5 morale bonus on her next Reflex save and evasion (see the monk class feature, PH 41). The ally must be within 30 feet of you and able to see or hear you. The effect lasts until the target rolls a Reflex save or until the start of your turn, whichever comes first.\n\n{b}Source{/b}: Complete Scoundrel" compset="Feat" summary="Imm, use 2 music to give ally in 30 ft +5 morale bon to Ref &amp; evasion for 1 rd." uniqueness="useronce">
    <usesource source="CompScound"/>
    <tag group="fCategory" tag="Bardic"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Evasion required."><![CDATA[childfound[cHOREvas].tagis[Helper.ShowSpec] + childfound[cShnEvas].tagis[Helper.ShowSpec] + childfound[cMnkEvas].tagis[Helper.ShowSpec] + childfound[cRgrEvas].tagis[Helper.ShowSpec] + childfound[cRogEvas].tagis[Helper.ShowSpec] + childfound[cNinEvas].tagis[Helper.ShowSpec] + childfound[cSctEvas].tagis[Helper.ShowSpec] + childfound[cAnimEvas].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Bardic Music required."><![CDATA[picklives[hBrdMusic] <> 0]]></exprreq>
    <prereq message="Perform (any) 9 ranks required.">
      <validate><![CDATA[~ Loop through all perform skills
var result as number
foreach pick in hero from BaseSkill where "Helper.SkCatPerf"

~ If this skill has 9 or more ranks, we are valid
  if (each.field[kUserRanks].value >= 9) then
    result += 1
  endif
nexteach

if (result >= 1) then
  @valid = 1
  endif]]></validate>
      </prereq>
    </thing>
  <thing id="xAmbushReq" name="Ambush Requirements" description="This is an invisible special used in conjunction with Ambush feats to account for changed pre-requisites due to the Swift Ambusher Feat." compset="Special" summary="This should be invisible." uniqueness="unique">
    <eval phase="UserPostLv" priority="22000">call CalcValue

field[Value].value += hero.childfound[xSneakAtt].field[Value].value
field[Value].value += hero.childfound[xSudStrike].field[Value].value</eval>
    </thing>
  <thing id="cHelpFoF" name="Fortune&apos;s Friend" description="A fortune&apos;s friend lives by his luck. He doesn&apos;t worry about much of anything, including where his next meal comes from, and trusts to luck - perhaps more than he should." compset="ClassHelp" uniqueness="unique">
    <fieldval field="cSkills" value="6"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="FoF"/>
    <arrayval field="cSpecial" index="2" value="Extra fortune, fortune&apos;s favorite"/>
    <arrayval field="cSpecial" index="3" value="Bonus luck feat"/>
    <arrayval field="cSpecial" index="4" value="Extra fortune, lucky strike"/>
    <arrayval field="cSpell" index="1" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpell" index="3" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpecial" index="0" value="Easy luck, extra fortune, more luck than skill"/>
    <arrayval field="cBonFtTot" index="1" value="1"/>
    <arrayval field="cBonFtTot" index="3" value="2"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="3" value="2"/>
    <arrayval field="cSpecial" index="1" value="Bonnus luck feat"/>
    <usesource source="CompScound"/>
    <tag group="ClassSkill" tag="kOpenLock"/>
    <tag group="ClassSkill" tag="kSearch"/>
    <tag group="ClassSkill" tag="kSleight"/>
    <tag group="ClassSkill" tag="kSpot"/>
    <tag group="ClassSkill" tag="kSwim"/>
    <tag group="ClassSkill" tag="kTumble"/>
    <tag group="ClassSkill" tag="kUseMagic"/>
    <tag group="ClassSkill" tag="kUseRope"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="kDiplomacy" name="Diplomacy" abbrev="Diplomacy"/>
    <tag group="Classes" tag="ForFriend" name="Fortune&apos;s Friend" abbrev="Thaumaturgist"/>
    <tag group="cAttack" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cFort" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="kBalance"/>
    <tag group="fCategory" tag="Luck"/>
    <tag group="ClassSkill" tag="kBluff"/>
    <tag group="ClassSkill" tag="kClimb"/>
    <tag group="ClassSkill" tag="kDecScript"/>
    <tag group="ClassSkill" tag="kDisable"/>
    <tag group="ClassSkill" tag="kDisguise"/>
    <tag group="ClassSkill" tag="kEscape"/>
    <tag group="ClassSkill" tag="kGatherInf"/>
    <tag group="ClassSkill" tag="kHide"/>
    <tag group="ClassSkill" tag="kJump"/>
    <tag group="ClassSkill" tag="kMoveSil"/>
    <tag group="ClassSkill" tag="kListen"/>
    <bootstrap thing="cFoFForFav"></bootstrap>
    <bootstrap thing="cFoFEasyL"></bootstrap>
    <bootstrap thing="cFoFBonFe1"></bootstrap>
    <bootstrap thing="cFoFMorLuc"></bootstrap>
    <bootstrap thing="cFoFExFor1"></bootstrap>
    <bootstrap thing="cFoFExFor2"></bootstrap>
    <bootstrap thing="cFoFExFor3"></bootstrap>
    <bootstrap thing="cFoFBonFe2"></bootstrap>
    <bootstrap thing="cFoFLuckSt"></bootstrap>
    </thing>
  <thing id="cForFriend" name="Fortune&apos;s Friend" description="A fortune&apos;s friend lives by his luck. He doesn&apos;t worry about much of anything, including where his next meal comes from, and trusts to luck - perhaps more than he should.\n\n{b}BECOMING A FORTUNE&apos;S FRIEND{/b}\nClerics of Olidammara, monks, and rogues qualify most easily for this prestige class and make up the largest group within it, though every class finds representation. To adopt the ways of the fortune&#146;s friend, a character need only embrace his luck.\n\n{b}Source{/b}: Complete Scoundrel" compset="ClassLevel" maxlimit="5">
    <comment><![CDATA[
if (#skillranks[kAppraise] >= 8) then
  @valid = 1
elseif (#skillranks[kAutohypno] >= 8) then
  @valid = 1
elseif (#skillranks[kBalance] >= 8) then
  @valid = 1
elseif (#skillranks[kBluff] >= 8) then
  @valid = 1
elseif (#skillranks[kClimb] >= 8) then
  @valid = 1
elseif (#skillranks[kConcent] >= 8) then
  @valid = 1
elseif (#skillranks[kCrafAlch] >= 8) then
  @valid = 1
elseif (#skillranks[kCrafTrap] >= 8) then
  @valid = 1
elseif (#skillranks[kCrafOther] >= 8) then
  @valid = 1
elseif (#skillranks[kDecScript] >= 8) then
  @valid = 1
elseif (#skillranks[kDiplomacy] >= 8) then
  @valid = 1
elseif (#skillranks[kDisable] >= 8) then
  @valid = 1
elseif (#skillranks[kDisguise] >= 8) then
  @valid = 1
elseif (#skillranks[kEscape] >= 8) then
  @valid = 1
elseif (#skillranks[kForgery] >= 8) then
  @valid = 1
elseif (#skillranks[kGatherInf] >= 8) then
  @valid = 1
elseif (#skillranks[kHandleAnm] >= 8) then
  @valid = 1
elseif (#skillranks[kHeal] >= 8) then
  @valid = 1
elseif (#skillranks[kHide] >= 8) then
  @valid = 1
elseif (#skillranks[kIntim] >= 8) then
  @valid = 1
elseif (#skillranks[kJump] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowArcan] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowArcEn] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowDun] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowGeog] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowLocal] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowHist] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowNat] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowNoble] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowPsi] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowRel] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowPlane] >= 8) then
  @valid = 1
elseif (#skillranks[kKnowOther] >= 8) then
  @valid = 1
elseif (#skillranks[kListen] >= 8) then
  @valid = 1
elseif (#skillranks[kMoveSil] >= 8) then
  @valid = 1
elseif (#skillranks[kOpenLock] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfAct] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfCom] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfDance] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfKey] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfOrat] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfPerc] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfStrng] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfWind] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfSing] >= 8) then
  @valid = 1
elseif (#skillranks[kPerfOther] >= 8) then
  @valid = 1
elseif (#skillranks[kProfOther] >= 8) then
  @valid = 1
elseif (#skillranks[kPsicraft] >= 8) then
  @valid = 1
elseif (#skillranks[kRide] >= 8) then
  @valid = 1
elseif (#skillranks[kSearch] >= 8) then
  @valid = 1
elseif (#skillranks[kSenseMot] >= 8) then
  @valid = 1
elseif (#skillranks[kSleight] >= 8) then
  @valid = 1
elseif (#skillranks[kSpellcr] >= 8) then
  @valid = 1
elseif (#skillranks[kSpot] >= 8) then
  @valid = 1
elseif (#skillranks[kSurvival] >= 8) then
  @valid = 1
elseif (#skillranks[kSwim] >= 8) then
  @valid = 1
elseif (#skillranks[kTumble] >= 8) then
  @valid = 1
elseif (#skillranks[kUseMagic] >= 8) then
  @valid = 1
elseif (#skillranks[kUsePsion] >= 8) then
  @valid = 1
elseif (#skillranks[kUseRope] >= 8) then
  @valid = 1
endif]]></comment>
    <fieldval field="cHitDice" value="6"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="Prestige"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpFoF"></bootstrap>
    <link linkage="helper" thing="cHelpFoF"/>
    <exprreq message="Any luck feat required."><![CDATA[hero.tagcount[fCategory.Luck] >= 1]]></exprreq>
    <exprreq message="Base attack bonus +3 required."><![CDATA[child[Attack].field[tAtkBase].value >= 3]]></exprreq>
    <prereq message="Any skill 8 ranks required.">
      <validate><![CDATA[foreach pick in hero from BaseSkill where "thingid.?"
   validif (each.field[kUserRanks].value >= 8)
   doneif (each.field[kUserRanks].value >= 8)
nexteach]]></validate>
      </prereq>
    </thing>
  <thing id="cFoFExFor1" name="Extra Fortune" description="You gain one extra luck reroll per day." compset="ClSpecial" sortorder="1">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      var level as number
      level = hero.child[cHelpFoF].field[cTotalLev].value
      var total as number
       if (level < 3) then
         total = 1
       elseif (level < 5) then
         total = 2
       elseif (level = 5) then
         total = 3
       endif

      hero.childfound[xLuckRerol].field[hTotal].value += total]]></eval>
    </thing>
  <thing id="cFoFExFor2" name="Extra Fortune" description="You gain one extra luck reroll per day." compset="ClSpecial" sortorder="3">
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFExFor3" name="Extra Fortune" description="You gain one extra luck reroll per day." compset="ClSpecial" sortorder="5">
    <tag group="ClSpecWhen" tag="5"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFEasyL" name="Easy Luck" description="Luck comes to you naturally. The swift or immediate action to use a luck feat does not count against your limit of one swift action per turn. However you still can&apos;t expend a luck reroll more than once per turn to influence the same result." compset="ClSpecial" summary="Luck rerolls become free actions." sortorder="1">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFMorLuc" name="More Luck than Skill" description="Even in you have some talent in a particular area, you still depend on your luck to see you through. Once per day, as a swift action, you can add your class level as a luck bonus to all skill checks you make until the start of your next turn." compset="ClSpecial" summary="1/day, swift, add class level as Luck bonus to all skill checks for 1 round." sortorder="1">
    <fieldval field="hTotal" value="1"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFForFav" name="Fortune&apos;s Favorite" description="By third level, you have learned to rely on your luck to stay alive. Once per day as an immediate action, you can add your class level as a luck bonus to all saving throws you make until the start of your next turn." compset="ClSpecial" summary="1/day, imm, add class level as Luck bonus to all saves for 1 round." sortorder="3">
    <fieldval field="hTotal" value="1"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFLuckSt" name="Lucky Strike" description="Even the greatest warriors, those who train and drill constantly, occasionally win through sheer luck, so why shouldn&apos;t you? Beginning at fifth level, once per day as a swift action, you can add your class level as a luck bonus on all attack rolls you make until the start of your next turn." compset="ClSpecial" summary="1/day, swift, add class level as Luck bonus to all attack rolls for 1 round." sortorder="5">
    <fieldval field="hTotal" value="1"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="5"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cFoFBonFe1" name="Bonus Luck Feat" description="You gain a bonus luck feat." compset="ClSpecial" sortorder="2">
    <tag group="ClSpecWhen" tag="2"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="DispOnly"/>
    </thing>
  <thing id="cFoFBonFe2" name="Bonus Luck Feat" description="You gain a bonus luck feat." compset="ClSpecial" sortorder="2">
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpFoF"/>
    <tag group="Helper" tag="DispOnly"/>
    </thing>
  <thing id="stAcroBack" name="Acrobatic Backstab [Movement]" description="You dart past your opponent&#146;s attacks, ending up perfectly positioned for a devastating counterattack.\n\n{b}Prerequisite{/b}: Tumble 12 ranks.\n\n{b}Benefit{/b}: If you succeed on a Tumble check to move through an enemy&#146;s space, you can treat that enemy as flat-footed against the next melee attack you make against it on your current turn.\n\nYour enemy must be standing on the ground or floor in order for you to use this trick.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, tumble thru foe&apos;s space, he is flat footed vs your next att this turn." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove" name="Movement Skill Trick"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Tumble 12 ranks required."><![CDATA[#skillranks[kTumble] >= 12]]></exprreq>
    </thing>
  <thing id="stAssQuirk" name="Assume Quirk [Interaction]" description="You can perfectly imitate a small habit or idiosyncrasy of a person you impersonate in order to throw off suspicion.\n\n{b}Prerequisite{/b}: Disguise 5 ranks.\n\n{b}Benefit{/b}: When impersonating a particular individual, you can eliminate the normal Spot bonus granted to a viewer familiar with that individual (PH 73). The effect extends to all viewers.\n\nUsing this trick requires no special action, but you can maintain the deception for only 1 hour per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="When impersonate individual, eliminate familiarity spot bonus for 1 hour/day." uniqueness="unique">
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STInteract" name="Interaction Skill Trick"/>
    <exprreq message="Diguise 5 ranks required."><![CDATA[#skillranks[kDisguise] >= 5]]></exprreq>
    </thing>
  <thing id="stBackFeet" name="Back on your Feet [Movement]" description="You can hop back to your feet instantly if you fall.\n\n{b}Prerequisite{/b}: Tumble 12 ranks.\n\n{b}Benefit{/b}: If you fall prone for any reason, you can stand up as an immediate action without provoking attacks of opportunity.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Immediate, 1/encounter, stand from prone with no AoO." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove" name="Movement Skill Trick"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Tumble 12 ranks required."><![CDATA[#skillranks[kTumble] >= 12]]></exprreq>
    </thing>
  <thing id="stClVision" name="Clarity of Vision [Mental]" description="You can briefly see invisible opponents.\n\n{b}Prerequisite{/b}: Spot 12 ranks.\n\n{b}Benefit{/b}: As a swift action, you can attempt a DC 20 Spot check. If successful, you focus your vision so clearly that you can pinpoint the location of invisible creatures within 30 feet. This clarity lasts until the end of your turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, DC20 Spot to pinpoint location of invisible foes within 30 ft." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMental"/>
    <exprreq message="Spot 12 ranks required."><![CDATA[#skillranks[kSpot] >= 12]]></exprreq>
    </thing>
  <thing id="stClevImpr" name="Clever Improviser [Manipulation]" description="Tools? Why would you need tools? It&#146;s just a combination lock with a poison needle trap, after all.\n\n{b}Prerequisite{/b}: Disable Device 5 ranks, Open Lock 5 ranks.\n\n{b}Benefit{/b}: When making a Disable Device or Open Lock check without using thieves&#146; tools, you ignore the normal &#150;2 penalty.\n\nYou can use this trick any number of times per day until you fail a Disable Device or Open Lock check made without using thieves&#146; tools. After a failure, you can&#146;t use Clever Improviser again until after you have rested for 8 hours.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="When open lock/disable device ignore pen for lack of tools, reuse until fail chk." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Disable Device 5 ranks required."><![CDATA[#skillranks[kDisable] >= 5]]></exprreq>
    <exprreq message="Open Lock 5 ranks required."><![CDATA[#skillranks[kOpenLock] >= 5]]></exprreq>
    </thing>
  <thing id="stColStory" name="Collector of Stories [Mental]" description="You&#146;ve heard so many tales of legendary monsters that you remember all sorts of gory details.\n\n{b}Prerequisite{/b}: Knowledge (any) 5 ranks.\n\n{b}Benefit{/b}: When you attempt a trained Knowledge check to identify a creature or to learn its special powers or vulnerabilities, you gain a +5 competence bonus on the check.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, +5 comp bon to Knowledge check for foe&apos;s power/weakness." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMental"/>
    <tag group="Helper" tag="ShowSpec"/>
    <prereq message="Knowledge (any) 5 ranks required.">
      <validate><![CDATA[     var total as number
   foreach pick in hero where "Helper.SkCatKnow"
     if (eachpick.field[kUserRanks].value >= 5) then
       total += 1
     endif
   nexteach

     validif (total >= 1)]]></validate>
      </prereq>
    </thing>
  <thing id="stConSplCa" name="Conceal Spellcasting [Manipulation]" description="You can cast spells without others noticing.\n\n{b}Prerequisite{/b}: Concentration 1 rank, Sleight of Hand 5 ranks, Spellcraft 1 rank.\n\n{b}Benefit{/b}: You can cast a spell without revealing that you are doing so. Make a Sleight of Hand check as part of the action used to cast the spell, opposed by the Spot checks of onlookers. If you are successful, an observer can&#146;t tell that you&#146;re casting a spell. That observer cannot make an attack of opportunity against you for casting, nor can it attempt to counter your spell.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="While cast spell sleight of hand opposed by observer&apos;s spot, no counter/AoO if fail." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Sleight of Hand 5 ranks required."><![CDATA[#skillranks[kSleight] >= 5]]></exprreq>
    <exprreq message="Spellcraft 1 rank required."><![CDATA[#skillranks[kSpellcr] >= 1]]></exprreq>
    <exprreq message="Concentration 1 rank required."><![CDATA[#skillranks[kConcent] >= 1]]></exprreq>
    </thing>
  <thing id="stCorPerch" name="Corner Perch [Movement]" description="You can brace yourself against walls to leave your hands free.\n\n{b}Prerequisite{/b}: Climb 8 ranks.\n\n{b}Benefit{/b}: If you succeed on a Climb check to ascend or descend either a &#147;chimney,&#148; where you can brace against opposite walls, or a corner where you can brace against perpendicular walls (PH 69), you can suspend yourself momentarily. Until the end of your next turn, you can use your hands freely for any other purpose (including attacking) without risk of falling. At the end of your next turn, you fall from the wall unless you succeed on a Climb check against the normal DC + 5 (made as a move action) or you have succeeded on another Climb check to move up or down the wall as normal.\n\n{i}Example{/i}: Ember the monk succeeds on a DC 15 Climb check to scramble up 10 feet (one-quarter of her speed) into a corner formed by two typical dungeon walls. Using Corner Perch, she then braces her legs against the walls and uses her remaining standard action to draw and throw a shuriken at a bugbear on the ground below her. On her next turn, still braced in the corner, she draws her quarterstaff and attacks an ogre that has moved next to her, gaining a +1 bonus on the attack roll for higher ground. At the end of that turn, she drops from the wall rather than attempting to hold her position. Since she has the slow fall class feature, Ember takes no damage from the drop.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, act freely after climb chimney/corner, DC+5 to remain next rd." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove" name="Movement Skill Trick"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Climb 8 ranks required."><![CDATA[#skillranks[kClimb] >= 8]]></exprreq>
    </thing>
  <thing id="stDismoAtt" name="Dismount Attack [Movement]" description="You can leap out of the saddle onto a foe.\n\n{b}Prerequisite{/b}: Ride 5 ranks.\n\n{b}Benefit{/b}: If your mount has moved at least 10 feet in this round and you succeed on a fast dismount (Ride, PH 80), you can use a standard action to attack an adjacent opponent as if you had charged that opponent.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Standard, 1/encounter, if mount moved 10 ft fast dismount and attack as charge." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove" name="Movement Skill Trick"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Ride 5 ranks required."><![CDATA[#skillranks[kRide] >= 5]]></exprreq>
    </thing>
  <thing id="stEasyEsca" name="Easy Escape [Manipulation]" description="You can slip free from the grasp of a larger enemy with ease.\n\n{b}Prerequisite{/b}: Medium or smaller size, Escape Artist 8 ranks.\n\n{b}Benefit{/b}: If your opponent is larger than Medium, you gain a circumstance bonus on your Escape Artist check to escape a grapple or pin. The size of the bonus depends on your opponent&#146;s size, according to the following table.\n\nOpponent      Escape Artist\n     Size             Bonus\nLarge                 +4\nHuge                 +8\nGargantuan       +12\nColossal           +16\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, gain circ bonus on Escape Artist vs Large+ foe to exit grapple/pin." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMani"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Escape Artist 8 ranks required."><![CDATA[#skillranks[kEscape] >= 8]]></exprreq>
    <exprreq message="Size medium or smaller required."><![CDATA[herofield[tSize].value <= 0]]></exprreq>
    </thing>
  <thing id="stEscapeAt" name="Escape Attack [Movement]" description="You can follow a successful escape with a swift attack.\n\n{b}Prerequisite{/b}: Escape Artist 8 ranks.\n\n{b}Benefit{/b}: When you escape a grapple, you can make a single melee attack with a light weapon as a swift action against the opponent that was grappling you. The opponent is considered flat-footed against this attack. You must have the weapon in hand at the beginning of your turn in order to use this trick.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, when esc grapple light weapon att vs foe, he is flat footed." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Escape Artist 8 ranks required."><![CDATA[#skillranks[kEscape] >= 8]]></exprreq>
    </thing>
  <thing id="stExtrLeap" name="Extreme Leap [Movement]" description="Your extraordinary leaping ability carries you over great distances.\n\n{b}Prerequisite{/b}: Jump 5 ranks.\n\n{b}Benefit{/b}: If you make a horizontal jump of at least 10 feet during your turn, you can spend a swift action to move an additional 10 feet on that turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, when jump 10 ft horizontally move additional 10 ft." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMove"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Jump 5 ranks required."><![CDATA[#skillranks[kJump] >= 5]]></exprreq>
    </thing>
  <thing id="stFTheurgy" name="False Theurgy [Manipulation]" description="&#147;How&#146;s that {i}magic missile{/i} feel? I&#146;m sorry&#151;did you think I was casting {i}sleep{/i}?&#148;\n\n{b}Prerequisite{/b}: Bluff or Sleight of Hand 8 ranks, Spellcraft 8 ranks.\n\n{b}Benefit{/b}: As a swift action when casting a spell, you can adjust the spell&#146;s verbal and somatic components to mimic those of another spell of your choice of the same level. Any creature using Spellcraft or any other means to identify the spell you&#146;re casting believes it to be the other spell instead.\n\nThis trick renders your spell immune to the normal method of counter-spelling, though {i}dispel magic{/i} or a similar effect still works normally. Of course, once the spell takes effect, it can be identified and dealt with normally (a {i}fireball{/i} still looks and feels like a {i}fireball{/i} once you&#146;ve cast it).\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, V/S components seem to be diff spell, foe can&apos;t counter." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMani"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Spellcraft 8 ranks required."><![CDATA[#skillranks[kSpellcr] >= 8]]></exprreq>
    <prereq message="Bluff or Sleight of Hand 8 ranks required.">
      <validate><![CDATA[  validif (#skillranks[kBluff] >= 8)
  validif (#skillranks[kSleight] >= 8)]]></validate>
      </prereq>
    </thing>
  <thing id="stGrouFake" name="Group Fakeout [Interaction]" description="You lean left, go right, and leave a whole group of enemies holding the bag.\n\n{b}Prerequisite{/b}: Bluff 8 ranks.\n\n{b}Benefit{/b}: You can use Bluff to feint in combat (PH 68) against more than one opponent. Make one Bluff check opposed by separate Sense Motive checks for each opponent. For each opponent after the first that you wish to affect, you take a cumulative &#150;2 penalty on your Bluff check.\n\n{i}Example{/i}: Lidda wants to feint against a group of three orcs, so she rolls a Bluff check with a &#150;4 penalty. Each orc rolls a separate Sense Motive check opposed by Lidda&#146;s adjusted Bluff check result.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, feint against mult foes, -2 to Bluff for each after the first." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STInteract"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Bluff 8 ranks required."><![CDATA[#skillranks[kBluff] >= 8]]></exprreq>
    </thing>
  <thing id="stHealHand" name="Healing Hands [Manipulation]" description="You can bring someone back from the brink of death.\n\n{b}Prerequisite{/b}: Heal 5 ranks.\n\n{b}Benefit{/b}: If you succeed on a Heal check made to stabilize a dying character, that character also heals 1d6 points of damage.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, when stabilize dieing person they heal 1d6 Hp." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMani"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Heal 5 ranks required."><![CDATA[#skillranks[kHeal] >= 5]]></exprreq>
    </thing>
  <thing id="stHidBlade" name="Hidden Blade [Manipulation]" description="You can quickly draw a hidden weapon to make a deadly strike.\n\n{b}Prerequisite{/b}: Sleight of Hand 5 ranks, Quick Draw.\n\n{b}Benefit{/b}: After you have used the Sleight of Hand skill to successfully conceal a weapon (PH 81), you can draw that weapon as a move action instead of a standard action. An opponent that was unaware of the concealed weapon is treated as flat-footed against the first attack you make in that turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Move, 1/encounter, draw hid weapon, foes unaware of it are flat footed vs next att." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="User" tag="STMani"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Quick Draw required."><![CDATA[#hasfeat[fQuickDraw] <> 0]]></exprreq>
    <exprreq message="Sleight of Hand 5 ranks required."><![CDATA[#skillranks[kSleight] >= 5]]></exprreq>
    </thing>
  <thing id="stLeapClim" name="Leaping Climber [Movement]" description="There&#146;s no better way to start a tough climb than by leaping up the wall.\n\n{b}Prerequisite{/b}: Climb 5 ranks, Jump 5 ranks.\n\n{b}Benefit{/b}: If you begin a climb by making a Jump check as a swift action, you can add the vertical distance of your jump to the distance climbed in that round. Treat the Jump check as being made with a running start even if you didn&#146;t move at least 20 feet.\n\n{i}Example{/i}: Ember the monk is standing at the base of a craggy cliff and wants to scale the cliff as quickly as possible. She spends a swift action to make a Jump check and gets a result of 24. Thus, she adds 6 feet to the distance she climbs in that round.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, begin climb with auto-running jump, add vert dis to climb." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="STMove"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Jump 5 ranks required."><![CDATA[#skillranks[kJump] >= 5]]></exprreq>
    <exprreq message="Climb 5 ranks required."><![CDATA[#skillranks[kClimb] >= 5]]></exprreq>
    </thing>
  <thing id="stListenTh" name="Listen to This [Mental]" description="You can perfectly repeat to others what you hear.\n\n{b}Prerequisite{/b}: Listen 5 ranks.\n\n{b}Benefit{/b}: Whenever you make a successful Listen check to hear a noise, you can describe that sound any time up to 1 hour later with such clarity that any individuals hearing the description are treated as if they had heard the sound themselves.\n\nThis trick is particularly useful if you overhear a conversation but don&#146;t understand the language spoken, since it allows you to repeat it verbatim to an ally who might be able to translate.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="When succeed at listen check, give exact description up to 1 hr later." uniqueness="unique">
    <usesource source="CompScound"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="User" tag="STMental"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Listen 5 ranks required."><![CDATA[#skillranks[kListen] >= 5]]></exprreq>
    </thing>
  <thing id="stMagicApp" name="Magical Appraisal [Mental]" description="You can judge the usefulness of magic items.\n\n{b}Prerequisite{/b}: Appraise 5 ranks, Knowledge (arcana) 5 ranks, Spellcraft 12 ranks.\n\n{b}Benefit{/b}: When you succeed by 5 or more on a Spellcraft check to determine the school of magic of the aura surrounding a magic item (by casting {i}detect magic{/i}), you can then spend 1 minute concentrating to also learn the properties of the item, as if you had cast {i}identify{/i}.\n\nYou can use this skill trick once per day.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1 minute, 1/day, use {i}detect magic{/i} and beat spellcraft DC by 5 to {i}identify{/i} item." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="User" tag="STMental"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Appraise 5 ranks required."><![CDATA[#skillranks[kAppraise] >= 5]]></exprreq>
    <exprreq message="Knowledge (arcana) 5 ranks required."><![CDATA[#skillranks[kKnowArcan] >= 5]]></exprreq>
    <exprreq message="Spellcraft 12 ranks required."><![CDATA[#skillranks[kSpellcr] >= 12]]></exprreq>
    </thing>
  <thing id="stMosqBite" name="Mosquito&apos;s Bite [Manipulation]" description="You can deliver a vicious strike without your target feeling a thing.\n\n{b}Prerequisite{/b}: Sleight of Hand 12 ranks.\n\n{b}Benefit{/b}: If you use a light weapon to hit a flat-footed opponent, you can choose to have the opponent not realize that it has been hit until the start of your next turn. Instead, that opponent reacts as if you had attacked and missed.\n\nUsing this skill trick doesn&#146;t require an action on your part.\n\nThis trick doesn&#146;t allow the opponent to ignore any of the other effects of your attack, such as ability damage from poison on your blade or falling unconscious when reduced to fewer than 0 hit points.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, hit flat footed foe with light weapon, foe thinks you missed for 1 rd." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Sleight of Hand 12 ranks required."><![CDATA[#skillranks[kSleight] >= 12]]></exprreq>
    </thing>
  <thing id="stNevOutnu" name="Never Outnumbered [Interaction]" description="You can demoralize multiple enemies.\n\n{b}Prerequisite{/b}: Intimidate 8 ranks.\n\n{b}Benefit{/b}: When you use Intimidate to demoralize an opponent (PH 76), you can affect all enemies within 10 feet that can see you, rather than only a single enemy you threaten. Each enemy rolls a separate modified level check to oppose your Intimidate check, but the skill check otherwise works as normal.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, use intimidate to demoralize all foes within 10 ft that see you." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STInteract"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Intimidate 8 ranks required."><![CDATA[#skillranks[kIntim] >= 8]]></exprreq>
    </thing>
  <thing id="stNimCharg" name="Nimble Charge [Movement]" description="You can run across treacherous surfaces with ease.\n\n{b}Prerequisite{/b}: Balance 5 ranks.\n\n{b}Benefit{/b}: You can run or charge across a difficult surface without needing to make a Balance check (PH 67).\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, run/charge across difficult surface without making Balance check." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Balance 5 ranks required."><![CDATA[#skillranks[kBalance] >= 5]]></exprreq>
    </thing>
  <thing id="stNimStand" name="Nimble Stand [Movement]" description="You can rely on your acrobatic talent to stand up from prone safely.\n\n{b}Prerequisite{/b}: Tumble 8 ranks.\n\n{b}Benefit{/b}: You can stand up from prone without provoking attacks of opportunity.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, stand from prone without provoking AoO." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Tumble 8 ranks required."><![CDATA[#skillranks[kTumble] >= 8]]></exprreq>
    </thing>
  <thing id="stOpenTap" name="Opening Tap [Manipulation]" description="&#147;No time to waste on tools&#151;a sharp tap should pop that lock!&#148;\n\n{b}Prerequisite{/b}: Open Lock 12 ranks.\n\n{b}Benefit{/b}: As a swift action, you can make an Open Lock check with a &#150;10 penalty by tapping a lock with a hard, blunt object such as the pommel of a weapon. You don&#146;t take any additional penalty for making the check without thieves&#146; tools.\n\nYou can use this trick any number of times per day until you fail an Open Lock check made in this way. After a failure, you can&#146;t use Opening Tap again until after you have rested for 8 hours.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, Open Lock at -10 by tapping with blunt object, reuse until fail chk." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Open Lock 12 ranks required."><![CDATA[#skillranks[kOpenLock] >= 12]]></exprreq>
    </thing>
  <thing id="stPointOut" name="Point it Out [Mental]" description="You can show others what you see.\n\n{b}Prerequisite{/b}: Spot 8 ranks.\n\n{b}Benefit{/b}: When you make a successful Spot check, you can spend an immediate action to grant a single ally a free Spot check to see the same thing (with a +2 circumstance bonus). Your ally must be within 30 feet of you and able to see or hear you to benefit from this effect.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Immediate, on successful Spot grant one ally within 30 ft free chk with +2 circ bon." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="User" tag="STMental"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Spot 8 ranks required."><![CDATA[#skillranks[kSpot] >= 8]]></exprreq>
    </thing>
  <thing id="stQuickEsc" name="Quick Escape [Manipulation]" description="In the blink of an eye, you can escape nearly any tight spot.\n\n{b}Prerequisite{/b}: Escape Artist 12 ranks.\n\n{b}Benefit{/b}: This trick has two options, either of which can be used once per encounter.\n\nYou can make an Escape Artist check to escape from a grapple or pin as a swift action. You can use this trick even if you have already used a standard action on your current turn to attempt the same escape.\n\nAlternatively, you can make any Escape Artist check that would normally require a full-round action as a move action. You can&#146;t use this option more than once per day against the same kind of restraint.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter or 1/day, Escape Artist as swift to exit grap/as move instead full rd." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Escape Artist 12 ranks required."><![CDATA[#skillranks[kEscape] >= 12]]></exprreq>
    </thing>
  <thing id="stQuickSwi" name="Quick Swimmer [Movement]" description="You can push yourself to swim faster.\n\n{b}Prerequisite{/b}: Swim 5 ranks.\n\n{b}Benefit{/b}: If you succeed on a Swim check to move at least 10 feet, you can move an extra 10 feet as part of that action.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, when move at least 10 ft with swim check, move additional 10 ft." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Swim 5 ranks required."><![CDATA[#skillranks[kSwim] >= 5]]></exprreq>
    </thing>
  <thing id="stSecImpre" name="Second Impression [Interaction]" description="You can convince someone of your false identity even after your disguise fails.\n\n{b}Prerequisite{/b}: Bluff 5 ranks, Disguise 5 ranks.\n\n{b}Benefit{/b}: If an observer sees through your disguise with a successful Spot check, you can (as an immediate action) attempt a Bluff check to convince him that he&#146;s mistaken. Use the observer&#146;s Spot check result as the DC for your Bluff check; if you succeed, the observer ignores the evidence of his own senses in favor of what your disguise attempts to show. You must be aware of the observer&#146;s discovery in order to use this trick; for example, you can&#146;t use it against someone viewing you secretly, nor can you use it against someone who sees through your disguise but keeps that information secret. When in doubt, the DM should allow a character to use this trick if she has any reason to fear that her cover has been blown.\n\nYou can use this trick only once per day, but its effect extends to all viewers within 30 feet of you. For example, you could attempt it against an entire patrol of guards confronting you just as effectively as against a single person.\n\nThis trick doesn&#146;t let you maintain a disguise that has been defeated by other means; for example, if your {i}disguise self{/i} spell is penetrated by a {i}true seeing{/i} spell, Second Impression won&#146;t help.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Immediate, 1/encounter, when Spot foils disguise use Bluff to convince otherwise." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STInteract"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Bluff 5 ranks required."><![CDATA[#skillranks[kBluff] >= 5]]></exprreq>
    <exprreq message="Disguise 5 ranks required."><![CDATA[#skillranks[kDisguise] >= 5]]></exprreq>
    </thing>
  <thing id="stShrDance" name="Shrouded Dance [Manipulation]" description="You can seem to be where you aren&#146;t.\n\n{b}Prerequisite{/b}: Hide 8 ranks, Perform (dance) 5 ranks. \n\n{b}Benefit{/b}: As a move action, you can attempt a DC 20 Hide check. If you succeed, you have concealment until the start of your next turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Move, 1/encounter, DC 20 Hide check to gain concealment until start of next turn." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Hide 8 ranks required."><![CDATA[#skillranks[kHide] >= 8]]></exprreq>
    <exprreq message="Perform (dance) 5 ranks required."><![CDATA[#skillranks[kPerfDance] >= 5]]></exprreq>
    </thing>
  <thing id="stSocRecov" name="Social Recovery [Interaction]" description="You can talk your way out of a problem you talked yourself into.\n\n{b}Prerequisite{/b}: Bluff 8 ranks, Diplomacy 5 ranks.\n\n{b}Benefit{/b}: If your Diplomacy check to influence an NPC&#146;s attitude fails, you can spend another full round talking to the NPC, then make a Bluff check with a &#150;10 penalty. Use the result of this check in place of the Diplomacy check result, except that it can&#146;t improve the NPC&#146;s attitude by more than one step. \n\nOnce you use this skill trick (successfully or not), you cannot use it against the same target again for 24 hours.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Full round, 1/day per target, when Diplomacy fails, use Bluff at -10 instead." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STInteract"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Bluff 8 ranks required."><![CDATA[#skillranks[kBluff] >= 8]]></exprreq>
    <exprreq message="Diplomacy 5 ranks required."><![CDATA[#skillranks[kDiplomacy] >= 5]]></exprreq>
    </thing>
  <thing id="stSlipPast" name="Slipping Past [Movement]" description="You can slip through a tight space without breaking stride.\n\n{b}Prerequisite{/b}: Escape Artist 5 ranks, Tumble 5 ranks.\n\n{b}Benefit{/b}: As a swift action, you can ignore the additional movement cost and penalty on attack rolls and to AC when squeezing through a narrow space (PH 148). The benefit lasts until the start of your next turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Swift, 1/encounter, ignore pen to move, attack, and AC when squeezing for 1 rd." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Tumble 5 ranks required."><![CDATA[#skillranks[kTumble] >= 5]]></exprreq>
    <exprreq message="Escape Artist 5 ranks required."><![CDATA[#skillranks[kEscape] >= 5]]></exprreq>
    </thing>
  <thing id="stSpeedAsc" name="Speedy Ascent [Movement]" description="You can produce a burst of speed when climbing.\n\n{b}Prerequisite{/b}: Climb 5 ranks.\n\n{b}Benefit{/b}: If you succeed on a Climb check to move at least 10 feet, you can move an extra 10 feet as part of that action.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, when move at least 10 ft with climb check, move additional 10 ft." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Climb 5 ranks required."><![CDATA[#skillranks[kClimb] >= 5]]></exprreq>
    </thing>
  <thing id="stSpotWeak" name="Spot the Weak Point [Mental]" description="Your keen eyes allow you to place attacks where they&#146;ll do the most good.\n\n{b}Prerequisite{/b}: Spot 12 ranks.\n\n{b}Benefit{/b}: As a standard action, you can attempt a Spot check to find a weakness in your opponent&#146;s defenses. The DC of this check equals the opponent&#146;s AC. If the check succeeds, your next attack against that opponent (which must be made no later than your next turn) is treated as a touch attack.\n\nIf you use a ranged weapon to deliver the attack, your opponent must be within 30 feet of you in order for you to benefit from the trick.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Standard, 1/encounter, Spot vs foe&apos;s AC, next att (before end next turn) is touch." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMental"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Spot 12 ranks required."><![CDATA[#skillranks[kSpot] >= 12]]></exprreq>
    </thing>
  <thing id="stSuddDraw" name="Sudden Draw [Manipulation]" description="You can quickly draw a hidden weapon to make a deadly strike.\n\n{b}Prerequisite{/b}: Sleight of Hand 8 ranks, Quick Draw.\n\n{b}Benefit{/b}: If an opponent provokes an attack of opportunity from you, you can draw a weapon that you have successfully concealed using Sleight of Hand (PH 81) as an immediate action to deliver the attack of opportunity with that weapon. That opponent is treated as flat-footed against the attack with the concealed weapon.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Immediate, 1/enc, when foe provokes AoO, he is flat footed as att w/ hidden weap." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Sleight of Hand 8 ranks required."><![CDATA[#skillranks[kSleight] >= 8]]></exprreq>
    <exprreq message="Quick Draw required."><![CDATA[#hasfeat[fQuickDraw] <> 0]]></exprreq>
    </thing>
  <thing id="stSwifConc" name="Swift Concentration [Mental]" description="You can maintain your mental focus while attending to another task.\n\n{b}Prerequisite{/b}: Concentration 12 ranks.\n\n{b}Benefit{/b}: You can maintain concentration on a spell or similar effect as a swift action.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, maintain concentration on spell as swift instead of standard action." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMental"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Concentration 12 ranks required."><![CDATA[#skillranks[kConcent] >= 12]]></exprreq>
    </thing>
  <thing id="stTimeMisd" name="Timely Misdirection [Interaction]" description="You can divert an opponent&#146;s attention to avoid its attacks.\n\n{b}Prerequisite{/b}: Bluff 8 ranks.\n\n{b}Benefit{/b}: If you succeed on a Bluff check to feint in combat (PH 68), your opponent can&#146;t make any attacks of opportunity against you until the start of its next turn. This effect is in addition to the normal benefits of a successful feint.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, foe who is feinted can&apos;t make AoO vs you until it&apos;s next turn." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STInteract"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Bluff 8 ranks required."><![CDATA[#skillranks[kBluff] >= 8]]></exprreq>
    </thing>
  <thing id="stTumCrawl" name="Tumbling Crawl [Movement]" description="You can safely roll away from danger.\n\n{b}Prerequisite{/b}: Tumble 5 ranks.\n\n{b}Benefit{/b}: By succeeding on a DC 15 Tumble check, you can crawl 5 feet as a move action without provoking attacks of opportunity. Crawling normally provokes attacks of opportunity from any attackers who threaten you at any point during your crawl (PH 142).\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="Move, 1/encounter, Tumble DC15 to crawl 5 ft without AoO." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Tumble 5 ranks required."><![CDATA[#skillranks[kTumble] >= 5]]></exprreq>
    </thing>
  <thing id="stTwisChar" name="Twisted Charge [Movement]" description="You can charge in a crooked line.\n\n{b}Prerequisite{/b}: Balance 5 ranks, Tumble 5 ranks.\n\n{b}Benefit{/b}: When you charge, you can make one turn of up to 90 degrees during your movement. You can&#146;t move more than your speed as part of this charge. All other restrictions on charges still apply, and you must have line of sight to the opponent at the start of your turn.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, on charge turn up to 90 deg once, must see foe at start of charge." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Tumble 5 ranks required."><![CDATA[#skillranks[kTumble] >= 5]]></exprreq>
    <exprreq message="Balance 5 ranks required."><![CDATA[#skillranks[kBalance] >= 5]]></exprreq>
    </thing>
  <thing id="stUpHill" name="Up the Hill [Movement]" description="You can move quickly up a slope.\n\n{b}Prerequisite{/b}: Balance 5 ranks, Jump 5 ranks.\n\n{b}Benefit{/b}: You can move up a steep slope or stairs at your normal speed instead of at half speed. This effect lasts for 1 round.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, move up stairs/steep slope at full speed for 1 round." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Jump 5 ranks required."><![CDATA[#skillranks[kJump] >= 5]]></exprreq>
    <exprreq message="Balance 5 ranks required."><![CDATA[#skillranks[kBalance] >= 5]]></exprreq>
    </thing>
  <thing id="stWalkWall" name="Walk the Walls [Movement]" description="You can run straight up a wall for a few seconds.\n\n{b}Prerequisite{/b}: Climb 12 ranks, Tumble 5 ranks.\n\n{b}Benefit{/b}: You can move up a wall without making a Climb check. Each 5 feet of vertical movement costs you 4 squares of movement, and you must begin and end your turn on a horizontal surface.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, move up wall at &#188; speed without chk, must end on horiz surface." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Tumble 5 ranks required."><![CDATA[#skillranks[kTumble] >= 5]]></exprreq>
    <exprreq message="Climb 12 ranks required."><![CDATA[#skillranks[kClimb] >= 12]]></exprreq>
    </thing>
  <thing id="stWallJump" name="Wall Jumper [Movement]" description="There&#146;s no better way to end a tough climb than by leaping from the wall.\n\n{b}Prerequisite{/b}: Climb 5 ranks, Jump 5 ranks.\n\n{b}Benefit{/b}: If you have succeeded on a Climb check to ascend or descend a wall during this or your previous turn, you can leap horizontally from that wall as if you had a running start.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, if climbed this/prev round, leap horiz from wall as though ran 20 ft." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMove"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Jump 5 ranks required."><![CDATA[#skillranks[kJump] >= 5]]></exprreq>
    <exprreq message="Climb 5 ranks required."><![CDATA[#skillranks[kClimb] >= 5]]></exprreq>
    </thing>
  <thing id="stWhipClim" name="Whip Climber [Manipulation]" description="You can use a whip as a grappling hook.\n\n{b}Prerequisite{/b}: Use Rope 5 ranks, proficiency with the whip.\n\n{b}Benefit{/b}: You can use a whip as a makeshift grappling hook, lashing it around a protrusion or other firm, weight bearing object in order to climb a wall or swing across a chasm. You make Climb checks using the whip as if it were a normal rope. Using this feat requires a Use Rope check as normal for securing a grappling hook (PH 86) but takes only a move action.\n\n{b}Source{/b}: Complete Scoundrel" compset="SkillTrick" summary="1/encounter, use whip as grappling hook, Use Rope to secure is only a move action." uniqueness="unique">
    <fieldval field="hTotal" value="1"/>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="User" tag="STMani"/>
    <tag group="AbilType" tag="Extra"/>
    <exprreq message="Proficiency with Whip required."><![CDATA[tagis[WepProf.wWhip] <> 0]]></exprreq>
    <exprreq message="Use Rope 5 ranks required."><![CDATA[#skillranks[kUseRope] >= 5]]></exprreq>
    </thing>
  <thing id="kSklTrick2" name="Skill Tricks" description="Every 2 points put into Skill Tricks allows you to learn a new Skill Trick. When you add at least 2 points to this skill, a new Skill Tricks table appears on the Skills tab.\n\nYou may have a maximum number of skill tricks equal to half your character level of hit dice (rounded up).\n\n{b}Source{/b}: Complete Scoundrel" compset="Skill" replaces="kSklTrick" uniqueness="unique">
    <comment><![CDATA[validif (hero.child[xSkilTrick].field[Value].value >= hero.child[kSklTrick2].field[kUserRanks].value)

~ Loop through all skills
var result as number
foreach pick in hero where "thingid.kSklTrick2"

~ If this skill has more than 5 ranks, that's a problem
if (each.field[kUserRanks].value > hero.child[xSkilTrick].field[Value].value) then

~ We've found an invalid skill, so we don't need to go on.
done
endif

nexteach]]></comment>
    <usesource source="CompScound"/>
    <tag group="Helper" tag="ExtraSkill" name="ExtraSkill" abbrev="ExtraSkill"/>
    <bootstrap thing="xSkilTrick"></bootstrap>
    <eval phase="PostAttr" priority="20000">herofield[tSklTricks].value += round(field[kModValue].value, 0, -1)</eval>
    <evalrule phase="Validation" priority="10000" message="Maximum of HD/2 skill tricks allowed."><![CDATA[   @valid = 1
   if (hero.child[xSkilTrick].field[Value].value < hero.child[kSklTrick2].field[kUserRanks].value) then
   @valid = 0
   perform hero.child[kSklTrick2].assign[Helper.SklErRanks]
   endif]]></evalrule>
    </thing>
  <thing id="xSkilTrick" name="Skill Tricks Maximum" compset="Special" uniqueness="unique">
    <usesource source="CompScound"/>
    <eval phase="PostLevel" priority="9000">call CalcValue

field[Value].value = herofield[tHitDice].value/2
field[Value].value = round(field[Value].value, 0, 1)</eval>
    </thing>
  <thing id="cHelpSwS" name="Spellwarp Sniper" compset="ClassHelp" uniqueness="unique">
    <comment>Need to add text, possibly adjust the get this bonus feat to reflect if you already got it....</comment>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cAbbr" value="SwS"/>
    <fieldval field="cHDSides" value="6"/>
    <arrayval field="cSpecial" index="2" value="Extended summoning"/>
    <arrayval field="cSpecial" index="3" value="Contingent conjuration"/>
    <arrayval field="cSpecial" index="4" value="Planar cohort"/>
    <arrayval field="cSpell" index="0" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpell" index="1" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpell" index="2" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpell" index="3" value="+1 level of existing spellcasting class"/>
    <arrayval field="cSpell" index="4" value="+1 level of existing spellcasting class"/>
    <arrayval field="cMagLevTot" index="0" value="1"/>
    <arrayval field="cMagLevTot" index="1" value="2"/>
    <arrayval field="cMagLevTot" index="2" value="3"/>
    <arrayval field="cMagLevTot" index="3" value="4"/>
    <arrayval field="cMagLevTot" index="4" value="5"/>
    <arrayval field="cSpecial" index="0" value="Improved ally"/>
    <arrayval field="cSpecial" index="1" value="Augment summoning"/>
    <arrayval field="cBonFtTot" index="2" value="1"/>
    <usesource source="CompScound"/>
    <tag group="cFort" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cRef" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cWill" tag="Good" name="Good" abbrev="Good"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="kConcent" name="Concentration" abbrev="Concentration"/>
    <tag group="ClassSkill" tag="kSpellcr" name="Spellcraft" abbrev="Spellcraft"/>
    <tag group="Classes" tag="SpelwarpS" name="Spellwarp Sniper" abbrev="Thaumaturgist"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="ClassSkill" tag="kHide"/>
    <tag group="fInclude" tag="fPrecShot"/>
    <tag group="ClassSkill" tag="kIntim"/>
    <tag group="ClassSkill" tag="kKnowArcan"/>
    <tag group="ClassSkill" tag="kMoveSil"/>
    <tag group="ClassSkill" tag="kSpot"/>
    <tag group="fInclude" tag="fFarShot"/>
    <tag group="fInclude" tag="fImpPrec"/>
    <tag group="fInclude" tag="fManyshot"/>
    <tag group="fInclude" tag="fRapidShot"/>
    <tag group="fInclude" tag="fShotRun"/>
    <tag group="fInclude" tag="fAquaShot"/>
    <tag group="fInclude" tag="fCoordShot"/>
    <tag group="fInclude" tag="fDeadEye"/>
    <tag group="fInclude" tag="fDeadeyeSh"/>
    <tag group="fInclude" tag="fDefArchry"/>
    <tag group="fInclude" tag="fimpRapSho"/>
    <tag group="fInclude" tag="fPeneShot"/>
    <tag group="fInclude" tag="fPlunShot"/>
    <tag group="fInclude" tag="fPlungShot"/>
    <tag group="fInclude" tag="fRngDisarm"/>
    <tag group="fInclude" tag="fRngPin"/>
    <tag group="fInclude" tag="fRangeReca"/>
    <tag group="fInclude" tag="fRngSunder"/>
    <tag group="fInclude" tag="fReadyShot"/>
    <tag group="fInclude" tag="fSharpShot"/>
    <tag group="fInclude" tag="fWoodArch"/>
    <bootstrap thing="cSwSSuRay1"></bootstrap>
    <bootstrap thing="cSwSSuRay2"></bootstrap>
    <bootstrap thing="cSwSSpelWa"></bootstrap>
    <bootstrap thing="cSwSPreSho"></bootstrap>
    <bootstrap thing="cSwSRayMas"></bootstrap>
    <evalrule phase="UserPostLv" priority="10000" message="Must add Precise Shot!"><![CDATA[    validif (field[cTotalLev].value < 3)
    validif (#hasfeat[fPrecShot] <> 0)]]></evalrule>
    </thing>
  <thing id="cSpelwarpS" name="Spellwarp Sniper" description="&#147;{i}Oppose me, and I shall show you whole new universes of pain.{/i}&#148;\n&#151;Tessa Senchan, master spellwarp sniper\n\nThe spellwarp sniper contorts spells, changing area effects into rays that deliver precise, devastating attacks.\n\n{b}BECOMING A SPELLWARP SNIPER{/b}\nEvery spellwarp sniper has at least one level of rogue, ninja, spellthief, or some other class that grants the sneak attack or sudden strike class feature, which is a prerequisite for the prestige class. At her heart, however, a spellwarp sniper is a spellcaster of respectable skill, usually of arcane origin. Occasionally a divine caster (such as a cleric dedicated to a deity of destruction) enters this class.\n\n{b}Source{/b}: Complete Scoundrel" compset="ClassLevel" maxlimit="5">
    <fieldval field="cHitDice" value="6"/>
    <usesource source="CompScound"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="Helper" tag="Prestige"/>
    <bootstrap thing="cHelpSwS"></bootstrap>
    <link linkage="helper" thing="cHelpSwS"/>
    <exprreq message="Concentration 8 ranks required."><![CDATA[#skillranks[kConcent] >= 8]]></exprreq>
    <exprreq message="Spellcraft 8 ranks required."><![CDATA[#skillranks[kSpellcr] >= 8]]></exprreq>
    <exprreq message="Point Blank Shot required."><![CDATA[#hasfeat[fPointBlnk] <> 0]]></exprreq>
    <exprreq message="Sneak attack or Sudden Strike +1d6 required."><![CDATA[hero.childfound[xSneakAtt].field[Value].value + hero.childfound[xSudStrike].field[Value].value >= 1]]></exprreq>
    <prereq message="Ability to cast 3rd level spells required.">
      <validate><![CDATA[      
        @valid = 0
        if (tagcount[Hero.Arcane] >= 3 + 1) then
          @valid = 1
        elseif (tagcount[Hero.Divine] >= 3 + 1) then
          @valid = 1
          endif]]></validate>
      </prereq>
    </thing>
  <thing id="cSwSSpelWa" name="Spellwarp" description="You can alter the form of certain area spells into rays as you cast them. As a free action, you can warp a 1st level area spell with instantaneous duration and a range greater than touch. The spell&apos;s level, components, range, and damage (if any) remain unchanged. However the spells area entry is replaced with the effect entry of &quot;ray&quot;.\n\nThe spell acts in all ways as a ray, and is considered a ray for the purpose of effects that modify or depend on rays (such as the other abilities of this prestige class). You must suceed on a ranged touch attack to affect an opponent with the spell. Even if the original spell allowed a reflex save to reduce or negate the effects, the ray does not. However if the original spell allowed a Fortitude or Will save to reduce or negate the spell&apos;s effect, the save still applies.\n\nYou must decide to warp the spell as you cast it. You do not need to prepare it as a warped spell. You can apply metamagic feats as normal to the spell, as long as they can affect ray spells.\n\nEach time you advance a level in this prestige class, the maximum level of spell you can affect increases by one. For example, a 3rd-level spellwarp sniper can warp spells of up to 3rd level." compset="ClSpecial" summary="Instant area spl becomes ray (range touch), no Ref save, otherwise same." sortorder="1">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpSwS"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[      var sudden as number
      sudden = field[xTotalLev].value
      field[livename].text = "Spellwarp (Level " & sudden & ")"]]></eval>
    </thing>
  <thing id="cSwSSuRay1" name="Sudden Raystrike +1d6" description="If you can catch an opponent when he is unable to defend himself effectively from your ray attack, you can strike a vital spot for extra damage. Whenever the target of one of your ray spells is denied a Dexterity bonus to AC (whether the target actually has a Dexterity bonus or not), you deal an extra 1d6 damage with your ray spell. If your ray spell does not deal hit point damage, this extra damage doesn&apos;t apply. \n\nAt 4th level, the extra damage increases to 2d6. If you get a sneak attack or sudden strike bonus from another source, (such as rogue or ninja levels), the bonuses on damage stack whenever both abilities would apply to the same target.\n\nThis damage only applies to targets within 30 feet. Creatures with concealment, creatures without discernable anatomies, and creatures immune to extra damage from critical hits are all immune to your sudden raystrikes." compset="ClSpecial" summary="+1d6 to your Sudden Strike damage when using rays." sortorder="2">
    <tag group="ClSpecWhen" tag="2"/>
    <tag group="SpecSource" tag="cHelpSwS"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[      ~ Add our level + 1 / 2 to our sneak attack damage.
      var sudden as number
      sudden = field[xTotalLev].value / 2
      sudden = round(sudden, 0, -1)

      doneif (sudden = 0)

      field[livename].text = "Sudden Raystrike +" & sudden & "d6"
      field[xSumm].text = "+" & sudden & "d6 to your Sudden Strike damage when using rays."]]></eval>
    </thing>
  <thing id="cSwSPreSho" name="Precise Shot" description="You gain Precise Shot as a bonus feat. If you already have precise shot, you can select any other feat that has Point Blank Shot as a prerequisite. so long as you meet all prerequisites for that feat." compset="ClSpecial" summary="Gain precise shot, if already have gain another with point blank shot as pre-req." sortorder="3">
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSwS"/>
    </thing>
  <thing id="cSwSSuRay2" name="Sudden Raystrike +2d6" description="Your Sudden Raystrike damage increases to +2d6." compset="ClSpecial" sortorder="4">
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="SpecSource" tag="cHelpSwS"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cSwSRayMas" name="Ray Mastery" description="At 5th level, you attain unequaled control over your ray spells. This control manifests in three ways.\n\n&#149; You can apply the extra damage from the sudden raystrike ability (as well as any additional sneak attack or sudden strike damage from other sources) to ray attacks against a target within 60 feet, instead of 30 feet.\n\n&#149; You can deliver a coup de grace with a ray spell that deals hit point damage. You must be adjacent to your target to deliver the coup de grace.\n\n&#149; Once per day, you can empower a single ray spell, as though with the Empower spell feat, without any adjustment to the spells level or casting time. This effect applies equally to spells that are already rays and those you warp into rays." compset="ClSpecial" summary="1/day empower ray for free, rays precision dam to 60 ft &amp; can coup de grace." sortorder="5">
    <fieldval field="hTotal" value="1"/>
    <tag group="SpecSource" tag="cHelpSwS"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="ClSpecWhen" tag="5"/>
    </thing>
  <thing id="cHelpMoM" name="Master of Masks" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="MoM"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecName" value="Persona Masks"/>
    <arrayval field="cMagLevTot" index="3" value="2"/>
    <arrayval field="cMagLevTot" index="6" value="3"/>
    <arrayval field="cMagLevTot" index="8" value="4"/>
    <arrayval field="cCustTot" index="0" value="2"/>
    <arrayval field="cCustTot" index="1" value="3"/>
    <arrayval field="cCustTot" index="2" value="4"/>
    <arrayval field="cCustTot" index="3" value="4"/>
    <arrayval field="cCustTot" index="4" value="5"/>
    <arrayval field="cCustTot" index="5" value="5"/>
    <arrayval field="cCustTot" index="6" value="6"/>
    <arrayval field="cCustTot" index="7" value="6"/>
    <arrayval field="cCustTot" index="8" value="7"/>
    <arrayval field="cCustTot" index="9" value="7"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <usesource source="CompScound"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Good"/>
    <tag group="ClassSkill" tag="kSpeakLang"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="Classes" tag="MasterMsk" name="Master of Masks"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="kAppraise"/>
    <tag group="ClassSkill" tag="kBluff"/>
    <tag group="ClassSkill" tag="kDisguise"/>
    <tag group="ClassSkill" tag="kForgery"/>
    <tag group="ClassSkill" tag="kSleight"/>
    <bootstrap thing="cMMMskSpec"></bootstrap>
    <bootstrap thing="cMMMnyFac">
      <autotag group="ClSpecWhen" tag="5"/>
      <assignval field="livename" value="Many Faces (2, move)"/>
      </bootstrap>
    <bootstrap thing="cMMMnyFac">
      <autotag group="ClSpecWhen" tag="8"/>
      <assignval field="livename" value="Many Faces (3, swift)"/>
      </bootstrap>
    <bootstrap thing="cMMMnyFac">
      <autotag group="ClSpecWhen" tag="10"/>
      <assignval field="livename" value="Many Faces (4, immediate)"/>
      </bootstrap>
    <bootstrap thing="cMMHidMsk"></bootstrap>
    <bootstrap thing="cMMPerMsk"></bootstrap>
    </thing>
  <thing id="cMasterMsk" name="Master of Masks" description="{b}Special Requirement{/b}: Must have successfully impersonated an individual, fooling even that person&#146;s friends and associates.\n\n{i}&#147;Every creature is but a role.&#148;{/i}\n                   &#151;Beriel, Comedian of Calamity and Tragedian of Triumph\n\nBelief and perception shape reality. In worlds where religions derive might from the faith of believers and where amazing magic sways the mind, those who command the senses hold great power. In such an environment, the master of masks takes center stage. Wearer of a thousand faces, with an identity as fluid as that of a crowd of strangers, this thespian of possibilities decides what is real and what can be.\n\n{b}Becoming a Master of Masks{/b}\nA master of masks must be a consummate actor. Anyone capable of shifting from role to role convincingly might enter the prestige class. Many are bards, who are the most obviously talented in the performing arts. Particularly theatrical rogues or those who specialize in disguise also sometimes become masters of masks, as do some multiclass sorcerers or wizards&#151;especially those with a fondness for illusions. Characters of a more martial bent or serious personality usually see acting as frivolous and do not pursue the class.\n\n{b}Source{/b}: Complete Scoundrel" compset="ClassLevel" maxlimit="10">
    <usesource source="CompScound"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpMoM"></bootstrap>
    <link linkage="helper" thing="cHelpMoM"/>
    <exprreq message="Bluff 8 ranks required"><![CDATA[#skillranks[kBluff] >= 8]]></exprreq>
    <exprreq message="Disguise 8 ranks required"><![CDATA[#skillranks[kDisguise] >= 8]]></exprreq>
    <exprreq message="Perform (act) 8 ranks required"><![CDATA[#skillranks[kPerfAct] >= 8]]></exprreq>
    <prereq message="Any four languages required">
      <validate><![CDATA[var test as number

foreach pick in hero from BaseLang
 test += 1
nexteach

validif (test >= 4)]]></validate>
      </prereq>
    </thing>
  <thing id="cMMMskSpec" name="Mask Specialist" description="Starting at 3rd level, you innately enhance the abilities of any magic mask you wear (such as the {i}mask of the skull{/i}, DMG 262). If the mask creates an effect that requires a saving throw, the save DC increases by 2. If the mask grants a bonus on skill checks, that bonus is increased by 2. Otherwise, the mask&#146;s caster level is treated as two higher.\n\nThis ability has no effect on the persona masks you create and use." compset="ClSpecial" summary="Enhance the abilities of magical masks you wear.">
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cMMMnyFac" name="Many Faces" description="At 5th level, you can wear more than one persona mask simultaneously. You can use the abilities of only one mask at a time, but you can switch between masks more quickly.\n\nWhile wearing a persona mask, you can don a second without taking off the first. The appearance and benefit of the second replace those of the first. As a move action, you can have the first mask appear instead, granting its effect in place of the other&#146;s.\n\nAt 8th level, you can wear up to three masks simultaneously and can switch masks as a swift action.\n\nAt 10th level, you can wear up to four masks simultaneously and can switch masks as an immediate action.\n\nWhile wearing multiple persona masks in this way, you can remove any worn mask as a move action (regardless of which one is active)." compset="ClSpecial" summary="Wear more than one mask and switch between them.">
    <tag group="SpecSource" tag="cHelpMoM"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xMMMnyFace">
      <containerreq phase="First" priority="10000"><![CDATA[count:Classes.MasterMsk >= 5]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="xMMMnyFace" name="Many Faces" description="At 5th level, you can wear more than one persona mask simultaneously. You can use the abilities of only one mask at a time, but you can switch between masks more quickly.\n\nWhile wearing a persona mask, you can don a second without taking off the first. The appearance and benefit of the second replace those of the first. As a move action, you can have the first mask appear instead, granting its effect in place of the other&#146;s.\n\nAt 8th level, you can wear up to three masks simultaneously and can switch masks as a swift action.\n\nAt 10th level, you can wear up to four masks simultaneously and can switch masks as an immediate action.\n\nWhile wearing multiple persona masks in this way, you can remove any worn mask as a move action (regardless of which one is active)." compset="Special" summary="Wear more than one mask and switch between them." uniqueness="unique">
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="12000"><![CDATA[if (#levelcount[MasterMsk] >= 10) then
 field[livename].text = field[name].text & " (4, immediate)"
elseif (#levelcount[MasterMsk] >= 8) then
 field[livename].text = field[name].text & " (4, immediate)"
else
 field[livename].text = field[name].text & " (4, immediate)"
endif]]></eval>
    </thing>
  <thing id="cMMHidMsk" name="Hidden Mask" description="Beginning at 6th level, you can make any mask you wear become invisible (or return an invisible mask to visibility). Activating or deactivating this ability requires a swift action. The mask&#146;s benefit applies regardless of whether it is visible." compset="ClSpecial" summary="Render your mask invisible with a swift action.">
    <tag group="ClSpecWhen" tag="6"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cMMPerMsk" name="Persona Masks" description="You gain the ability to craft potent magical masks, each of which allows you to take on a different persona and gain some aspect of that creature or archetypal character. At 1st level, you learn to create and use two masks selected from those described below. At 2nd level, and at every odd-numbered level thereafter, you can create and use one more mask from the list.\n\nCreating a new persona mask requires 8 hours of work and costs 100 gp. You can use only persona masks that you have crafted. No one else (not even another master of masks) can benefit from a persona mask that you create.\n\nTo gain the benefit of a mask, you merely wear it. Putting on a mask is a standard action, and removing one is a move action. Once it is worn, the mask&#146;s benefit immediately applies. Your master of masks level is your caster level for any spell-like abilities produced by a mask.\n\nIn addition to its other benefits, a mask conceals your alignment, replacing it (for the purpose of detection spells or abilities) with an alignment appropriate to the mask. You still retain your normal alignment for all other purposes (such as if a paladin uses smite evil against you).\n\nOne or more persona masks can be worn at the same time, occupying the eye lenses/goggles body slot." compset="ClSpecial" summary="Create potent magical masks that allow you to take on a new persona.">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="DispOnly"/>
    </thing>
  <thing id="cMMAngel" name="Angel" description="The image of an androgynous face with eyes serenely upturned to the heavens forms this mask, carved from flawless alabaster. Cultic runes adorn the forehead and cheeks, and its edges are ringed by downy feathers.\n\nAs an immediate action, you can use {i}feather fall{/i} as a spell-like ability any number of times per day, but only on yourself.\n\nOnce per day as a swift action, you can use {i}fly{/I} as a spell-like ability; the effect lasts for 5 rounds. As you advance in the master of masks class, you can use this ability more often: twice per day at 4th level, three times per day at 7th level, and four times per day at 10th level.\n\nYour alignment appears to be lawful good while you wear an angel mask." compset="CustomSpec" summary="Your alignment appears to be lawful good while you wear an angel mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskAngel"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMArchmag" name="Archmage" description="This mask of deep purple fluorite is sculpted in the image of a heavily wrinkled old man. A roughly circular tangle of arcane runes appears where the visage&#146;s mouth should be.\n\nYou can use each of these spell-like abilities once per day: {i}charm person{/i}, {i}dancing lights{/i}, {i}detect magic{/i}, and {i}magic missile{/i}. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: 4th level, {i}invisibility{/i} and {i}scorching ray{/i}; 7th level, {i}lightning bolt{/i} and {i}slow{/i}; and 10th level, {i}dimension door{/i} and {i}ice storm{/I}.\n\nYour caster level is treated as two higher for the purpose of casting arcane spells (up to a maximum of your character level). If you have no arcane spellcasting ability, this effect grants you no benefit.\n\nYour alignment appears to be chaotic good while you wear an archmage mask." compset="CustomSpec" summary="Your alignment appears to be chaotic good while you wear an archmage mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskArchm"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMAssassi" name="Assassin" description="Hardened black leather and metal clasps create the disturbing aspect of the assassin. A jagged, cruel slit forms the opening for the mouth, and the mask&#146;s edges are worn and stained.\n\nYou can deliver a sneak attack that deals an extra 1d6 points of damage when you are flanking an opponent or at any time when the target would be denied its Dexterity bonus (see the rogue class feature, PH 50). As you advance in the master of masks class, your sneak attack becomes more devastating: This extra damage improves to 2d6 points at 4th level, 3d6 at 7th level, and 4d6 at 10th level. If you get a sneak attack bonus from another source (such as rogue levels), the bonuses on damage stack.\n\nIn addition, you gain a +2 competence bonus on Hide and Move Silently checks. This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be lawful evil while you wear an assassin mask." compset="CustomSpec" summary="Your alignment appears to be lawful evil while you wear an assassin mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskAssas"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMDemon" name="Demon" description="This obsidian mask bears the visage of a darkly handsome fiend. Small, black horns adorn the demon&#146;s forehead, and its black ears rise to points. Its smiling mouth shows rows of sharp teeth.\n\nOnce per day, you can use {i}summon monster III{/i} as a spell-like ability, only to summon creatures of chaotic evil alignment. As you advance in the master of masks class, you can summon increasingly powerful creatures: At 4th level, you can instead use {i}summon monster IV{/i}; at 7th level, {i}summon monster V{/i}; and at 10th level, {i}summon monster VI{/i}.\n\nYour alignment appears to be chaotic evil while you wear a demon mask." compset="CustomSpec" summary="Your alignment appears to be chaotic evil while you wear a demon mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskDemon"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMDragon" name="Dragon" description="This multihued mask of precious metals and scintillating gemstones forms the terrible visage of a snarling wyrm. A sunburst of metallic and bejeweled scales flares out around the reptilian face.\n\nThree times per day you can breathe a cone of fire as a standard action. The cone is 30 feet long and deals 2d8 points of fire damage. A successful Reflex save (DC 10 + your master of masks level + your Cha modifier) halves the damage dealt. Once you use this ability, you can&#146;t use it again for 1d4 rounds. As you advance in the class, you can deal additional damage with this ability: 4d8 points at 4th level, 6d8 at 7th level, and 10d8 at 10th level.\n\nYour alignment appears to be neutral evil while you wear a dragon mask." compset="CustomSpec" summary="Your alignment appears to be neutral evil while you wear a dragon mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskDrago"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMFaceles" name="Faceless" description="Only a pair of empty eyeholes break this otherwise featureless oval, porcelain mask.\n\nYou gain a +5 competence bonus on saves against mindaffecting spells and abilities. You are protected from divination effects as if by a {i}nondetection{/i} spell; the DC of the caster level check is 15 + your master of masks level.\n\nEven if the {i}nondetection{/i} effect is overcome, your alignment appears to be neutral while you wear a faceless mask." compset="CustomSpec" summary="Your alignment appears to be neutral while you wear a faceless mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskFacel"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMGladiat" name="Gladiator" description="This wyvern-hide mask is shaped like the face of a grim warrior. Scars cover its surface, and silver chainmail rings surround its outer edge.\n\nYou gain proficiency with all martial and exotic weapons.\n\nYou also gain a +1 competence bonus on attack rolls and weapon damage rolls. As you advance in the master of masks class, you become more expert in weapon use: This bonus improves to +2 at 4th level, +3 at 7th level, and +4 at 10th level.\n\nYour alignment appears to be neutral while you wear a gladiator mask." compset="CustomSpec" summary="Your alignment appears to be neutral while you wear a gladiator mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskGladi"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMHPriest" name="High Priest" description="This mask of rose porphyry has a wide mouth open in song, but instead of eyes it has slits twisted into runes (these do not restrict your vision).\n\nYou can use each of the following spell-like abilities once per day: {i}bless{/i}, {i}cure light wounds{/i}, {i}protection from evil{/i}, and {i}sanctuary{/i}. As you advance in the class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}aid{/i} and {i}lesser restoration{/i}; at 7th level, {i}cure serious wounds{/i} and {i}remove curse{/i}; and at 10th level, {i}death ward{/i} and {i}neutralize poison{/i}.\n\nYour caster level is treated as two higher for the purpose of casting divine spells (up to a maximum of your character level). If you have no divine spellcasting ability, this effect grants you no benefit.\n\nYour alignment appears to be neutral good while you wear a high priest mask." compset="CustomSpec" summary="Your alignment appears to be neutral good while you wear a high priest mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskHighP"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMJester" name="Jester" description="Gaudy ribbons, tinkling bells, and a bobbing cockscomb adorn this leather mask. Brightly hued eyeshadow, lipstick, and alternating red, black, and white diamonds flamboyantly paint the form&#146;s angular features.\n\nYou gain a +2 competence bonus on Balance, Perform, Sleight of Hand, and Tumble checks. As you advance in the master of masks class, you become more proficient with these skills: This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be chaotic neutral while you wear a jester mask." compset="CustomSpec" summary="Your alignment appears to be chaotic neutral while you wear a jester mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskJeste"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMLich" name="Lich" description="This mask is made of poorly cured, purplish skin stretched over yellowed bone. Bloodless cuts and old bruises mar its surface, and tufts of long, white hair sprout from its wrinkled brow.\n\nOnce per day you can use {i}cause fear{/i} and {i}detect undead{/i} as spell-like abilities. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}false life{/I}; at 7th level, {i}halt undead{/i}; and at 10th level, fear.\n\nAdditionally, you gain resistance to cold 10.\n\nYour alignment appears to be neutral evil while you wear a lich mask. Furthermore, you register as an undead creature with Hit Dice equal to your character level to any form of magical divination (such as {i}detect undead{/i})." compset="CustomSpec" summary="Your alignment appears to be neutral evil while you wear a lich mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskLich"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMLord" name="Lord" description="A swirling mixture of gleaming copper and silver forms the regal countenance of a smiling man. A gem-studded diadem adorns its brow, and stamped across its surface are layered images of coins.\n\nOnce per day, you can use {i}remove fear{/i} as a spell-like ability. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}eagle&#146;s splendor{/i}; at 7th level, {i}heroism{/i}; and at 10th level, {i}dispel chaos{/i}.\n\nIn addition, you gain a +2 competence bonus on Diplomacy and Gather Information checks. This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be lawful neutral while you wear a lord mask." compset="CustomSpec" summary="Your alignment appears to be lawful neutral while you wear a lord mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskLord"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="cMMSavage" name="Savage" description="Bright, flaking warpaint streaks this battered wooden image of a snarling, fang-toothed wild man.\n\nYour hands transform into claws, granting you two primary natural weapon attacks, each dealing 1d4 points of damage (assuming you are Medium), plus your Strength modifier. You are considered to be proficient with your natural weapons. Your claws overcome damage reduction as if they were magic weapons.\n\nAs you advance in the master of masks class, you can deal more damage with your claws: 1d6 points at 4th level, 1d8 at 7th level, and 2d6 at 10th level.\n\nYour alignment appears to be chaotic neutral while you wear a savage mask." compset="CustomSpec" summary="Your alignment appears to be chaotic neutral while you wear a savage mask." uniqueness="useronce">
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpMoM"/>
    <bootstrap thing="ioMskSavag"></bootstrap>
    <eval phase="PreLevel" priority="1000">if (field[hIsOn1].value = 0) then
 perform assign[Helper.SpecUp]
endif</eval>
    </thing>
  <thing id="ioMskAngel" name="Angel Mask" description="The image of an androgynous face with eyes serenely upturned to the heavens forms this mask, carved from flawless alabaster. Cultic runes adorn the forehead and cheeks, and its edges are ringed by downy feathers.\n\nAs an immediate action, you can use {i}feather fall{/i} as a spell-like ability any number of times per day, but only on yourself.\n\nOnce per day as a swift action, you can use {i}fly{/I} as a spell-like ability; the effect lasts for 5 rounds. As you advance in the master of masks class, you can use this ability more often: twice per day at 4th level, three times per day at 7th level, and four times per day at 10th level.\n\nYour alignment appears to be lawful good while you wear an angel mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Helper" tag="Helper"/>
    <bootstrap thing="xMskFly">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskArchm" name="Archmage Mask" description="This mask of deep purple fluorite is sculpted in the image of a heavily wrinkled old man. A roughly circular tangle of arcane runes appears where the visage&#146;s mouth should be.\n\nYou can use each of these spell-like abilities once per day: {i}charm person{/i}, {i}dancing lights{/i}, {i}detect magic{/i}, and {i}magic missile{/i}. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: 4th level, {i}invisibility{/i} and {i}scorching ray{/i}; 7th level, {i}lightning bolt{/i} and {i}slow{/i}; and 10th level, {i}dimension door{/i} and {i}ice storm{/I}.\n\nYour caster level is treated as two higher for the purpose of casting arcane spells (up to a maximum of your character level). If you have no arcane spellcasting ability, this effect grants you no benefit.\n\nYour alignment appears to be chaotic good while you wear an archmage mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskChPers">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDanLig">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDetMag">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskMagMis">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskInvisi">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskScoRay">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskLiBolt">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskSlow">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDimDoo">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskIceSto">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskAssas" name="Assassin Mask" description="Hardened black leather and metal clasps create the disturbing aspect of the assassin. A jagged, cruel slit forms the opening for the mouth, and the mask&#146;s edges are worn and stained.\n\nYou can deliver a sneak attack that deals an extra 1d6 points of damage when you are flanking an opponent or at any time when the target would be denied its Dexterity bonus (see the rogue class feature, PH 50). As you advance in the master of masks class, your sneak attack becomes more devastating: This extra damage improves to 2d6 points at 4th level, 3d6 at 7th level, and 4d6 at 10th level. If you get a sneak attack bonus from another source (such as rogue levels), the bonuses on damage stack.\n\nIn addition, you gain a +2 competence bonus on Hide and Move Silently checks. This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be lawful evil while you wear an assassin mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xSneakAtt">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="12000"><![CDATA[doneif (field[gIsEquip].value = 0)

if (#levelcount[MasterMsk] >= 10) then
 hero.childfound[xSneakAtt].field[Value].value += 4
 field[Value].value = 8
elseif (#levelcount[MasterMsk] >= 7) then
 hero.childfound[xSneakAtt].field[Value].value += 3
 field[Value].value = 6
elseif (#levelcount[MasterMsk] >= 4) then
 hero.childfound[xSneakAtt].field[Value].value += 2
 field[Value].value = 4
else
 hero.childfound[xSneakAtt].field[Value].value += 1
 field[Value].value = 2
endif

 #competencebonus[hero.child[kHide], field[Value].value]
 #competencebonus[hero.child[kMoveSil], field[Value].value]]]></eval>
    </thing>
  <thing id="ioMskDemon" name="Demon Mask" description="This obsidian mask bears the visage of a darkly handsome fiend. Small, black horns adorn the demon&#146;s forehead, and its black ears rise to points. Its smiling mouth shows rows of sharp teeth.\n\nOnce per day, you can use {i}summon monster III{/i} as a spell-like ability, only to summon creatures of chaotic evil alignment. As you advance in the master of masks class, you can summon increasingly powerful creatures: At 4th level, you can instead use {i}summon monster IV{/i}; at 7th level, {i}summon monster V{/i}; and at 10th level, {i}summon monster VI{/i}.\n\nYour alignment appears to be chaotic evil while you wear a demon mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskSumMon">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskDrago" name="Dragon Mask" description="This multihued mask of precious metals and scintillating gemstones forms the terrible visage of a snarling wyrm. A sunburst of metallic and bejeweled scales flares out around the reptilian face.\n\nThree times per day you can breathe a cone of fire as a standard action. The cone is 30 feet long and deals 2d8 points of fire damage. A successful Reflex save (DC 10 + your master of masks level + your Cha modifier) halves the damage dealt. Once you use this ability, you can&#146;t use it again for 1d4 rounds. As you advance in the class, you can deal additional damage with this ability: 4d8 points at 4th level, 6d8 at 7th level, and 10d8 at 10th level.\n\nYour alignment appears to be neutral evil while you wear a dragon mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskConFir">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskFacel" name="Faceless Mask" description="Only a pair of empty eyeholes break this otherwise featureless oval, porcelain mask.\n\nYou gain a +5 competence bonus on saves against mindaffecting spells and abilities. You are protected from divination effects as if by a {i}nondetection{/i} spell; the DC of the caster level check is 15 + your master of masks level.\n\nEven if the {i}nondetection{/i} effect is overcome, your alignment appears to be neutral while you wear a faceless mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskFacele">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskGladi" name="Gladiator Mask" description="This wyvern-hide mask is shaped like the face of a grim warrior. Scars cover its surface, and silver chainmail rings surround its outer edge.\n\nYou gain proficiency with all martial and exotic weapons.\n\nYou also gain a +1 competence bonus on attack rolls and weapon damage rolls. As you advance in the master of masks class, you become more expert in weapon use: This bonus improves to +2 at 4th level, +3 at 7th level, and +4 at 10th level.\n\nYour alignment appears to be neutral while you wear a gladiator mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <eval phase="PostLevel" priority="12000"><![CDATA[doneif (field[gIsEquip].value = 0)

if (#levelcount[MasterMsk] >= 10) then
 field[Value].value = 4
elseif (#levelcount[MasterMsk] >= 7) then
 field[Value].value = 3
elseif (#levelcount[MasterMsk] >= 4) then
 field[Value].value = 2
else
 field[Value].value = 1
endif]]></eval>
    <eval phase="PostAttr" priority="15000" index="2">doneif (field[gIsEquip].value = 0)

foreach pick in hero from BaseWep
 #competencebonus[eachpick, field[Value].value]
nexteach</eval>
    </thing>
  <thing id="ioMskHighP" name="High Priest Mask" description="This mask of rose porphyry has a wide mouth open in song, but instead of eyes it has slits twisted into runes (these do not restrict your vision).\n\nYou can use each of the following spell-like abilities once per day: {i}bless{/i}, {i}cure light wounds{/i}, {i}protection from evil{/i}, and {i}sanctuary{/i}. As you advance in the class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}aid{/i} and {i}lesser restoration{/i}; at 7th level, {i}cure serious wounds{/i} and {i}remove curse{/i}; and at 10th level, {i}death ward{/i} and {i}neutralize poison{/i}.\n\nYour caster level is treated as two higher for the purpose of casting divine spells (up to a maximum of your character level). If you have no divine spellcasting ability, this effect grants you no benefit.\n\nYour alignment appears to be neutral good while you wear a high priest mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskBless">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskCuLiWo">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskProEvi">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskSanctu">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskAid">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskLesRes">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskCuSeWo">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskRemCur">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDeaWar">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskNeuPoi">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskJeste" name="Jester Mask" description="Gaudy ribbons, tinkling bells, and a bobbing cockscomb adorn this leather mask. Brightly hued eyeshadow, lipstick, and alternating red, black, and white diamonds flamboyantly paint the form&#146;s angular features.\n\nYou gain a +2 competence bonus on Balance, Perform, Sleight of Hand, and Tumble checks. As you advance in the master of masks class, you become more proficient with these skills: This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be chaotic neutral while you wear a jester mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <eval phase="PostLevel" priority="12000"><![CDATA[doneif (field[gIsEquip].value = 0)

if (#levelcount[MasterMsk] >= 10) then
 field[Value].value = 8
elseif (#levelcount[MasterMsk] >= 7) then
 field[Value].value = 6
elseif (#levelcount[MasterMsk] >= 4) then
 field[Value].value = 4
else
 field[Value].value = 2
endif

 #competencebonus[hero.child[kBalance], field[Value].value]
 #competencebonus[hero.child[kSleight], field[Value].value]
 #competencebonus[hero.child[kTumble], field[Value].value]
 foreach pick in hero from BaseSkill where "Helper.SkCatPerf"
  #competencebonus[eachpick, field[Value].value]
 nexteach]]></eval>
    </thing>
  <thing id="ioMskLich" name="Lich Mask" description="This mask is made of poorly cured, purplish skin stretched over yellowed bone. Bloodless cuts and old bruises mar its surface, and tufts of long, white hair sprout from its wrinkled brow.\n\nOnce per day you can use {i}cause fear{/i} and {i}detect undead{/i} as spell-like abilities. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}false life{/I}; at 7th level, {i}halt undead{/i}; and at 10th level, {i}fear{/i}.\n\nAdditionally, you gain resistance to cold 10.\n\nYour alignment appears to be neutral evil while you wear a lich mask. Furthermore, you register as an undead creature with Hit Dice equal to your character level to any form of magical divination (such as {i}detect undead{/i})." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xDamRsCold">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      <assignval field="Value" value="10"/>
      </bootstrap>
    <bootstrap thing="xMskCauFea">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDetUnd">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskFalLif">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskHalUnd">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskFear">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    </thing>
  <thing id="ioMskLord" name="Lord Mask" description="A swirling mixture of gleaming copper and silver forms the regal countenance of a smiling man. A gem-studded diadem adorns its brow, and stamped across its surface are layered images of coins.\n\nOnce per day, you can use {i}remove fear{/i} as a spell-like ability. As you advance in the master of masks class, you can use additional spell-like abilities, each once per day: At 4th level, you can use {i}eagle&#146;s splendor{/i}; at 7th level, {i}heroism{/i}; and at 10th level, {i}dispel chaos{/i}.\n\nIn addition, you gain a +2 competence bonus on Diplomacy and Gather Information checks. This bonus improves to +4 at 4th level, +6 at 7th level, and +8 at 10th level.\n\nYour alignment appears to be lawful neutral while you wear a lord mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="xMskRemFea">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskEagSpl">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 4]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskHerois">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="xMskDisCha">
      <containerreq phase="First" priority="10000"><![CDATA[fieldval:gIsEquip <> 0 & count:Classes.MasterMsk >= 10]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="12000"><![CDATA[doneif (field[gIsEquip].value = 0)

if (#levelcount[MasterMsk] >= 10) then
 field[Value].value = 8
elseif (#levelcount[MasterMsk] >= 7) then
 field[Value].value = 6
elseif (#levelcount[MasterMsk] >= 4) then
 field[Value].value = 4
else
 field[Value].value = 2
endif

 #competencebonus[hero.child[kDiplomacy], field[Value].value]
 #competencebonus[hero.child[kGatherInf], field[Value].value]]]></eval>
    </thing>
  <thing id="ioMskSavag" name="Savage Mask" description="Bright, flaking warpaint streaks this battered wooden image of a snarling, fang-toothed wild man.\n\nYour hands transform into claws, granting you two primary natural weapon attacks, each dealing 1d4 points of damage (assuming you are Medium), plus your Strength modifier. You are considered to be proficient with your natural weapons. Your claws overcome damage reduction as if they were magic weapons.\n\nAs you advance in the master of masks class, you can deal more damage with your claws: 1d6 points at 4th level, 1d8 at 7th level, and 2d6 at 10th level.\n\nYour alignment appears to be chaotic neutral while you wear a savage mask." compset="Wondrous">
    <usesource source="CompScound"/>
    <tag group="Helper" tag="EquipMag"/>
    <tag group="Hero" tag="EqpEyes"/>
    <tag group="Helper" tag="NoSelect"/>
    <bootstrap thing="wClaw">
      <containerreq phase="First" priority="500"><![CDATA[fieldval:gIsEquip <> 0]]></containerreq>
      <autotag group="Value" tag="2"/>
      <autotag group="Helper" tag="NatPrimary"/>
      </bootstrap>
    <eval phase="First" priority="1000"><![CDATA[doneif (field[gIsEquip].value = 0)

if (#levelcount[MasterMsk] >= 10) then
 perform container.child[wClaw].assign[wMain.2d6_104]
elseif (#levelcount[MasterMsk] >= 7) then
 perform container.child[wClaw].assign[wMain.1d8_6]
elseif (#levelcount[MasterMsk] >= 4) then
 perform container.child[wClaw].assign[wMain.1d6_5]
else
 perform container.child[wClaw].assign[wMain.1d4_4]
endif]]></eval>
    </thing>
  <thing id="xMskFly" name="Fly" description="You can use {i}fly{/I} as a spell-like ability; the effect lasts for 5 rounds." compset="Special">
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="SpellLike"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[if (#levelcount[MasterMsk] >= 10) then
 field[hTotal].value = 4
elseif (#levelcount[MasterMsk] >= 7) then
 field[hTotal].value = 3
elseif (#levelcount[MasterMsk] >= 4) then
 field[hTotal].value = 2
else
 field[hTotal].value = 1
endif]]></eval>
    </thing>
  <thing id="xMskChPers" name="Charm Person" description="You can use {i}charm person{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDanLig" name="Dancing Lights" description="You can use {i}dancing lights{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDetMag" name="Detect Magic" description="You can use {i}detect magic{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskMagMis" name="Magic Missile" description="You can use {i}magic missile{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskInvisi" name="Invisibility" description="You can use {i}invisibility{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskScoRay" name="Scorching Ray" description="You can use {i}scorching ray{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskLiBolt" name="Lightning Bolt" description="You can use {i}lightning bolt{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskSlow" name="Slow" description="You can use {i}slow{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDimDoo" name="Dimension Door" description="You can use {i}dimension door{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskIceSto" name="Ice Storm" description="You can use {i}ice storm{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskSumMon" name="Summon Monster" compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[if (#levelcount[MasterMsk] >= 10) then
 field[livename].text = field[name].text & " VI"
 field[CustDesc].text = "You can use {i}Summon Monster VI{/I} as a spell-like ability."
elseif (#levelcount[MasterMsk] >= 7) then
 field[livename].text = field[name].text & " V"
 field[CustDesc].text = "You can use {i}Summon Monster V{/I} as a spell-like ability."
elseif (#levelcount[MasterMsk] >= 4) then
 field[livename].text = field[name].text & " IV"
 field[CustDesc].text = "You can use {i}Summon Monster IV{/I} as a spell-like ability."
else
 field[livename].text = field[name].text & " III"
 field[CustDesc].text = "You can use {i}Summon Monster III{/I} as a spell-like ability."
endif]]></eval>
    </thing>
  <thing id="xMskConFir" name="Cone of Fire" description="Three times per day you can breathe a cone of fire as a standard action. The cone is 30 feet long. A successful Reflex save halves the damage dealt. Once you use this ability, you can&#146;t use it again for 1d4 rounds." compset="Special">
    <fieldval field="hTotal" value="3"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[if (#levelcount[MasterMsk] >= 10) then
 field[Value].value = 10
elseif (#levelcount[MasterMsk] >= 7) then
 field[Value].value = 6
elseif (#levelcount[MasterMsk] >= 4) then
 field[Value].value = 4
else
 field[Value].value = 2
endif]]></eval>
    <eval phase="PostAttr" priority="1000" index="2"><![CDATA[var DC as number
DC = 10 + #levelcount[MasterMsk] + hero.child[aCHA].field[aModBonus].value

field[livename].text = field[name].text & " (" & field[Value].value & "d8, DC" & DC & ")"]]></eval>
    </thing>
  <thing id="xMskFacele" name="Faceless Mask" description="You gain a +5 competence bonus on saves against mindaffecting spells and abilities. You are protected from divination effects as if by a {i}nondetection{/i} spell; the DC of the caster level check is 15 + your master of masks level." compset="Special" summary="+5 competence bonus on saves against mind-affecting spells and abiltiies.">
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostLevel" priority="1000"><![CDATA[var DC as number
DC = 15 + #levelcount[MasterMsk]

field[livename].text = field[name].text & " (DC" & DC & ")"]]></eval>
    </thing>
  <thing id="xMskBless" name="Bless" description="You can use {i}bless{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskProEvi" name="Protection from Evil" description="You can use {i}protection from evil{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskCuLiWo" name="Cure Light Wounds" description="You can use {i}cure light wounds{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskSanctu" name="Sanctuary" description="You can use {i}sanctuary{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskAid" name="Aid" description="You can use {i}aid{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskLesRes" name="Lesser Restoration" description="You can use {i}lesser restoration{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskCuSeWo" name="Cure Serious Wounds" description="You can use {i}cure serious wounds{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskRemCur" name="Remove Curse" description="You can use {i}remove curse{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDeaWar" name="Death Ward" description="You can use {i}death ward{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskNeuPoi" name="Neutralize Poison" description="You can use {i}neutralize poison{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskCauFea" name="Cause Fear" description="You can use {i}cause fear{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDetUnd" name="Detect Undead" description="You can use {i}detect undead{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskFalLif" name="False Life" description="You can use {i}false life{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskHalUnd" name="Halt Undead" description="You can use {i}halt undead{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskFear" name="Fear" description="You can use {i}fear{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskRemFea" name="Remove Fear" description="You can use {i}remove fear{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskEagSpl" name="Eagle&apos;s Splendor" description="You can use {i}eagle&apos;s splendor{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskHerois" name="Heroism" description="You can use {i}heroism{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="xMskDisCha" name="Dispel Chaos" description="You can use {i}dispel chaos{/I} as a spell-like ability." compset="Special">
    <fieldval field="hTotal" value="1"/>
    <tag group="AbilType" tag="SpellLike"/>
    <tag group="Helper" tag="ShowCharge"/>
    </thing>
  <thing id="cHelpClD" name="Cloaked Dancer" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="ClD"/>
    <fieldval field="cSkills" value="6"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="3" value="2"/>
    <usesource source="CompScound"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="Classes" tag="CloakDanc" name="Cloaked Dancer"/>
    <tag group="cRef" tag="Good"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="kAppraise"/>
    <tag group="ClassSkill" tag="kBalance"/>
    <tag group="ClassSkill" tag="kBluff"/>
    <tag group="ClassSkill" tag="kClimb"/>
    <tag group="ClassSkill" tag="kConcent"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kDisguise"/>
    <tag group="ClassSkill" tag="kEscape"/>
    <tag group="ClassSkill" tag="kGatherInf"/>
    <tag group="ClassSkill" tag="kJump"/>
    <tag group="ClassSkill" tag="kSenseMot"/>
    <tag group="ClassSkill" tag="kSleight"/>
    <tag group="ClassSkill" tag="kSpeakLang"/>
    <tag group="ClassSkill" tag="kSwim"/>
    <tag group="ClassSkill" tag="kTumble"/>
    <tag group="ClassSkill" tag="kUseMagic"/>
    <tag group="ClassSkill" tag="kUseRope"/>
    <bootstrap thing="cCDEDbegda"></bootstrap>
    <bootstrap thing="cCDEDweada"></bootstrap>
    <bootstrap thing="cCDEDfrida"></bootstrap>
    <bootstrap thing="cCDSurStri">
      <autotag group="ClSpecWhen" tag="2"/>
      <assignval field="livename" value="Surprise Strike +1d6"/>
      </bootstrap>
    <bootstrap thing="cCDSurStri">
      <autotag group="ClSpecWhen" tag="4"/>
      <assignval field="livename" value="Surprise Strike +2d6"/>
      </bootstrap>
    </thing>
  <thing id="cCloakDanc" name="Cloaked Dancer" description="{i}&#147;Watch me. Watch my dance. Ignore my hands. Ignore your death.&#148;{/i}\n                 &#151;Mina Longacre, reciting the cloaked dancer&#146;s mantra\n\nThe cloaked dancer dances into the hearts and minds of her audience, beguiling those around her with boundless charm and careful dance moves, leaving her victims in a state of ecstasy even as she kills them.\n\n{b}Becoming a Cloaked Dancer{/b}\nBards most often and most easily become cloaked dancers, although a substantial number of rogues and some monks also enter the prestige class. Ninjas and spellthieves occasionally travel the path of the cloaked dancer, although they have difficulty qualifying unless they multiclass, usually with a few levels of bard." compset="ClassLevel" maxlimit="5">
    <usesource source="CompScound"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpClD"></bootstrap>
    <link linkage="helper" thing="cHelpClD"/>
    <exprreq message="Hide 5 ranks required"><![CDATA[#skillranks[kHide] >= 5]]></exprreq>
    <exprreq message="Perform (dance) 10 ranks required"><![CDATA[#skillranks[kPerfDance] >= 10]]></exprreq>
    <exprreq message="Sleight of Hand 5 ranks required"><![CDATA[#skillranks[kSleight] >= 5]]></exprreq>
    </thing>
  <thing id="cCDEDbegda" name="Enchanting Dance (beguiling dance)" description="A cloaked dancer with 10 or more ranks in Perform (dance) can use her enchanting dance to distract her enemies. Whenever you start or maintain a beguiling dance, all enemies within 30 feet who can see you must succeed on a Will save or be dazed for 1 round. Creatures that fail this save also have their attitude improved by one step for as long as you maintain the dance (see Influencing NPC Attitudes, PH 74). This attitude adjustment does not prevent any subsequent attitude changes. For example, an enemy that becomes indifferent toward you as a result of this effect still turns hostile if you then attack it." compset="ClSpecial" summary="Distract your enemies with a beguiling dance.">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xCDEnchDan"></bootstrap>
    <eval phase="PostLevel" priority="12000"><![CDATA[if (#skillranks[kPerfDance] < 10) then
 perform delete[Helper.ShowSpec]
endif]]></eval>
    </thing>
  <thing id="cCDEDweada" name="Enchanting Dance (wearying dance)" description="A 3rd-level cloaked dancer with 12 or more ranks in Perform (dance) can use her enchanting dance to tire her enemies. Whenever you start or maintain a wearying dance, all enemies within 30 feet who can see you must succeed on a Will save or be fatigued for as long as you maintain the dance. Creatures failing this save that are already fatigued become exhausted." compset="ClSpecial" summary="Fatigue your enemies with a wearying dance.">
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="12000"><![CDATA[if (#skillranks[kPerfDance] < 12) then
 perform delete[Helper.ShowSpec]
endif]]></eval>
    </thing>
  <thing id="cCDEDfrida" name="Enchanting Dance (frightful dance)" description="A 5th-level cloaked dancer with 14 or more ranks in Perform (dance) can use her enchanting dance to scare her enemies. Whenever you start or maintain a frightful dance, all enemies within 30 feet who can see you must succeed on a Will save or be shaken for as long as you maintain the dance. Creatures failing this save that are already shaken become frightened, and those that are already frightened become panicked." compset="ClSpecial" summary="Scare your enemies with a frightening dance.">
    <tag group="ClSpecWhen" tag="5"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="12000"><![CDATA[if (#skillranks[kPerfDance] < 14) then
 perform delete[Helper.ShowSpec]
endif]]></eval>
    </thing>
  <thing id="xCDEnchDan" name="Enchanting Dance" description="Once per day per cloaked dancer level, you can use your dance to produce supernatural effects on those who observe you. Each ability requires both a minimum cloaked dancer level and a minimum number of ranks in the Perform (dance) skill to qualify; if you do not have the required number of ranks, you do not gain the enchanting dance ability until you acquire them. This ability can be used only if you are wearing light armor or no armor and carrying no more than a light load. Enchanting dance is an enchantment (compulsion), mind-affecting ability.\n\nStarting an enchanting dance effect is a standard action. You must concentrate each round to maintain the dance; no dance can be maintained for more rounds than your cloaked dancer level + your Con modifier (minimum 1 round).\n\nThe save DC for your enchanting dance effects is 10 + your cloaked dancer level + your Cha modifier. A creature can&#146;t be affected again by your enchanting dance effect for 24 hours whether or not it succeeds on the saving throw." compset="Special" summary="Enchant your foes with fluid movements of dance.">
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostLevel" priority="5100">field[hTotal].value = #levelcount[CloakDanc]</eval>
    <eval phase="PostAttr" priority="12000" index="2"><![CDATA[var DC as number
DC = 10 + #levelcount[CloakDanc] + hero.child[aCHA].field[aModBonus].value

var rnds as number
rnds = #levelcount[CloakDanc] + hero.child[aCON].field[aModBonus].value
rnds = maximum(rnds,1)

field[livename].text = field[name].text & " (" & rnds & " rnds) (DC" & DC & ")"]]></eval>
    </thing>
  <thing id="cCDSurStri" name="Surprise Strike" description="Beginning at 2nd level, you can make a particularly effective attack against creatures distracted by your dance. As a full-round action, you can maintain your enchanting dance and make a melee attack with a light weapon, dealing an extra 1d6 points of damage. At 4th level, the extra damage you deal increases to 2d6.\n\nThe extra damage from the surprise strike ability stacks with the extra damage from sneak attack whenever both would apply to the same target.\n\nA target under the effect of your enchanting dance is considered flat-footed against the attack. Any creature that is not vulnerable to extra damage from sneak attacks is immune to this effect.\n\nThis ability counts as sudden strike for the purpose of meeting prerequisites or using ambush feats (page 71)." compset="ClSpecial" summary="Surprise enemies distracted by your dance.">
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="SpecUp"/>
    <bootstrap thing="xCDSurStri">
      <containerreq phase="First" priority="10000"><![CDATA[count:Classes.CloakDanc >= 2]]></containerreq>
      </bootstrap>
    <eval phase="PostLevel" priority="1000"><![CDATA[if (tagis[Helper.ShowSpec] <> 0) then
 hero.child[xCDSurStri].field[Value].value += 1
endif]]></eval>
    </thing>
  <thing id="xCDSurStri" name="Surprise Strike" description="Beginning at 2nd level, you can make a particularly effective attack against creatures distracted by your dance. As a full-round action, you can maintain your enchanting dance and make a melee attack with a light weapon, dealing an extra 1d6 points of damage. At 4th level, the extra damage you deal increases to 2d6.\n\nThe extra damage from the surprise strike ability stacks with the extra damage from sneak attack whenever both would apply to the same target.\n\nA target under the effect of your enchanting dance is considered flat-footed against the attack. Any creature that is not vulnerable to extra damage from sneak attacks is immune to this effect.\n\nThis ability counts as sudden strike for the purpose of meeting prerequisites or using ambush feats (page 71)." compset="Special" summary="Surprise enemies distracted by your dance." uniqueness="unique">
    <tag group="SpecSource" tag="cHelpClD"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="Final" priority="12000" index="2"><![CDATA[field[livename].text = field[name].text & " +" & field[Value].value & "d6"]]></eval>
    </thing>
  </document>
