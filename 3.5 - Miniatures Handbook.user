<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <fileinfo>
    <info_history>v1.0 - 10/16/2010
-Created New
-Added Conjuration Heal CL Bonus(thingid.zzConjHeal)</info_history>
    <info_todo>1) Make it so that the Celestial Unicorn is the only valid animal companion option.</info_todo>
    </fileinfo>
  <thing id="zzConjHeal" name="Conjuration Heal CL Bonus" description="Add this thing to a class that has Conjuration Healing spells.  Feats and Magic items can adjust this by adding a bonus or negative to the Value field.  This Value then holds any adjustment to the caster level for the specific school of magic." compset="Special" uniqueness="unique">
    <comment>Currently this is used for the Healer Class.</comment>
    </thing>
  <thing id="cHealer" name="Healer" description="The hurts of the world are manifold. Minor accidents are common and usually easily dealt with. However, when conflict and all-out warfare occur, they leave misery and hurt in their wake that can stagger the imagination. While good-aligned clerics are called upon to heal, their complex obligations and abilities often get in the way of pure solace and remediation. Not so the healer. One of the healer&#146;s great purposes in life is to provide protection, and failing that, healing to all good people who require her aid.\n\nEmpathetic, a healer is adept both at detecting the ailments of allies and understanding the coarse, unruly thoughts of beasts. Her way with animals wins her friends among otherwise savage creatures of the wild.\n\n{B}Adventures:{/b} The healer provides aid to members of her adventuring company, the soldiers of her religion, or the alliance to which she is pledged. When a battlefield is strewn with wounded allies or an expedition team&#146;s members are sorely hurt, a healer cures the injuries of the faithful and those who have allied themselves with the side of good. A healer might accept a commission to escort a company or warband on a dangerous mission, making herself available to cast divine protection and offer divine healing. The healer is much revered for her services, and she may ask her companions for daily praise to her deity&#151;or at least an equal share in any reward garnered after the successful conclusion of the adventure or military action." compset="ClassLevel" maxlimit="20">
    <usesource source="MinHand"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpHlr"></bootstrap>
    <link linkage="helper" thing="cHelpHlr"/>
    </thing>
  <thing id="sHlrCreWat" name="Create Water" description="This spell generates wholesome, drinkable water {b}(up to 2 gallons of water/level){/b}, just like clean rain water. Water can be created in an area as small as will actually contain the liquid, or in an area three times as large&#151;possibly creating a downpour or filling many small receptacles.\n\n{i}Note{/i}: Conjuration spells can&#146;t create substances or objects within a creature. Water weighs about 8 pounds per gallon. One cubic foot of water contains roughly 8 gallons and weighs about 60 pounds." compset="Spell" summary="Creates 2 gallons/level of pure water.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Creation" name="Creation" abbrev="Creation"/>
    <tag group="sSubschool" tag="Water" name="Water" abbrev="Water"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCurMin" name="Cure Minor Wounds" description="This spell functions like {i}cure light wounds{/i} , except that it cures only 1 point of damage." compset="Spell" summary="Cures 1 point of damage.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <eval phase="Render"><![CDATA[var bonus as number
var Augment as number
Augment = 0
bonus = 1
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

field[livename].text = field[thingname].text & " " & bonus &"hp"]]></eval>
    </thing>
  <thing id="sHlrDeatWa" name="Deathwatch" description="Using the foul sight granted by the powers of unlife, you can determine the condition of creatures near death within the spell&#146;s range {b}(30 ft cone shaped emanation){/b}. You instantly know whether each creature within the area is dead, fragile (alive and wounded, with 3 or fewer hit points left), fighting off death (alive with 4 or more hit points), undead, or neither alive nor dead (such as a construct).\n\n{i}Deathwatch{/i} sees through any spell or ability that allows creatures to feign death." compset="Spell" summary="Reveals how near death subjects within 30 ft. are.">
    <fieldval field="sRange" value="30 ft"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="0"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="Evil" name="Evil" abbrev="Evil"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrDetMag" name="Detect Magic" description="You detect magical auras {b}in a 60 ft cone shaped emanation{/b}. The amount of information revealed depends on how long you study a particular area or subject.\n\n{i}1st Round{/i}: Presence or absence of magical auras.\n{i}2nd Round{/i}: Number of different magical auras and the power of the most potent aura.\n{i}3rd Round{/i}: The strength and location of each aura. If the items or creatures bearing the auras are in line of sight, you can make Spellcraft skill checks to determine the school of magic involved in each. (Make one check per aura; DC 15 + spell level, or 15 + half caster level for a nonspell effect.)\n\nMagical areas, multiple types of magic, or strong local magical emanations may distort or conceal weaker auras.\n\nDetect Magic\n{b}&#151;&#151;&#151;&#151;&#151;&#151;&#151;&#151;&#151; Aura Power &#151;&#151;&#151;&#151;&#151;&#151;&#151;&#151;&#151;\nSpell or Object                      Faint   Moderate Strong Overwhelming{/b}\nFunctioning spell (spell level) 3rd &gt;     4&#150;6           7&#150;9       10+ (deity-level)\nMagic item (caster level)        5th &gt;     6&#150;11          12&#150;20   21+ (artifact)\n\n{i}Aura Strength{/i}: An aura&#146;s power depends on a spell&#146;s functioning spell level or an item&#146;s caster level. If an aura falls into more than one category, {i}detect magic{/i} indicates the stronger of the two.\n\n{i}Lingering Aura{/i}: A magical aura lingers after its original source dissipates (in the case of a spell) or is destroyed (in the case of a magic item). If {i}detect magic{/i} is cast and directed at such a location, the spell indicates an aura strength of dim (even weaker than a faint aura). How long the aura lingers at this dim level depends on its original power:\n\n{b}Duration of\nOriginal Strength  Lingering Aura{/b}\nFaint 1d6 rounds\nModerate 1d6 minutes\nStrong 1d6&#215;10 minutes\nOverwhelming 1d6 days\n\nOutsiders and elementals are not magical in themselves, but if they are summoned, the conjuration spell registers.\n\nEach round, you can turn to detect magic in a new area. The spell can penetrate barriers, but 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt blocks it.\n\n{i}Detect magic{/i} can be made permanent with a {i}permanency{/i} spell." compset="Spell" summary="Detects spells and magic items within 60 ft.">
    <fieldval field="sRange" value="60 ft"/>
    <fieldval field="sDuration" value="Concentration, up to 1 minute/level (D)"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Concent" name="Concentration" abbrev="Concentration"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrDetPoi" name="Detect Poison" description="You determine whether a creature, object, or area {b}(a 5 ft cube){/b} has been poisoned or is poisonous. You can determine the exact type of poison with a DC 20 Wisdom check. A character with the Craft (alchemy) skill may try a DC 20 Craft (alchemy) check if the Wisdom check fails, or may try the Craft (alchemy) check prior to the Wisdom check.\n\nThe spell can penetrate barriers, but 1 foot of stone, 1 inch of common metal, a thin sheet of lead, or 3 feet of wood or dirt blocks it." compset="Spell" summary="Detects poison in one creature or small object.">
    <comment>3 3 5 6 55</comment>
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrLight" name="Light" description="This spell causes an object to glow like a torch, shedding bright light in a 20-foot radius (and dim light for an additional 20 feet) from the point you touch. The effect is immobile, but it can be cast on a movable object. Light taken into an area of magical {i}darkness{/i} does not function.\n\nA light spell (one with the light descriptor) counters and dispels a darkness spell (one with the darkness descriptor) of an equal or lower level.\n\n{i}Arcane Material Component{/i}: A firefly or a piece of phosphorescent moss." compset="Spell" summary="Object shines like a torch.">
    <comment>66 7 9</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="10 minutes/level (D)"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Evocation" name="Evocation" abbrev="Evoc"/>
    <tag group="sSubschool" tag="Light" name="Light" abbrev="Light"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrMendin" name="Mending" description="{i}Mending{/i} repairs small breaks or tears in objects {b}(of up to 1 lb.){/b} (but not warps, such as might be caused by a {i}warp wood{/i} spell). It will weld broken metallic objects such as a ring, a chain link, a medallion, or a slender dagger, providing but one break exists. Ceramic or wooden objects with multiple breaks can be invisibly rejoined to be as strong as new. A hole in a leather sack or a wineskin is completely healed over by {i}mending{/i}. The spell can repair a magic item, but the item&#146;s magical abilities are not restored. (For restoring a broken magic item&#146;s abilities, see the item creation feats in Chapter 5: Feats.) The spell cannot mend broken magic rods, staffs, or wands, nor does it affect creatures (including constructs)." compset="Spell" summary="Makes minor repairs on an object.">
    <comment>6 9 7 8 1111</comment>
    <fieldval field="sRange" value="10 ft"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless, Object)"/>
    <fieldval field="sResist" value="Yes (Harmless, Object)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrPuFoDr" name="Purify Food and Drink" description="This spell makes spoiled, rotten, poisonous, or otherwise contaminated food and water {b}(up to 1 cu. ft./level){/b} pure and suitable for eating and drinking. This spell does not prevent subsequent natural decay or spoilage. Unholy water and similar food and drink of significance is spoiled by {i}purify food and drink{/i}, but the spell has no effect on creatures of any type nor upon magic potions.\n\n{i}Note{/i}: Water weighs about 8 pounds per gallon. One cubic foot of water contains roughly 8 gallons and weighs about 60 pounds." compset="Spell" summary="Purifies 1 cu. ft./level of food or water.">
    <fieldval field="sRange" value="10 ft"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Object)"/>
    <fieldval field="sResist" value="Yes (object)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrReaMag" name="Read Magic" description="By means of {i}read magic{/i}, you can decipher magical inscriptions on objects&#151;books, scrolls, weapons, and the like&#151;that would otherwise be unintelligible. This deciphering does not normally invoke the magic contained in the writing, although it may do so in the case of a cursed scroll. Furthermore, once the spell is cast and you have read the magical inscription, you are thereafter able to read that particular writing without recourse to the use of {i}read magic{/i}. You can read at the rate of one page (250 words) per minute. The spell allows you to identify a {i}glyph of warding{/i} with a DC 13 Spellcraft check, a {i}greater glyph of warding{/i} with a DC 16 Spellcraft check, or any {i}symbol{/i} spell with a Spellcraft check (DC 10 + spell level).\n\n{i}Read magic{/i} can be made permanent with a {i}permanency{/i} spell.\n\n{i}Focus{/i}: A clear crystal or mineral prism." compset="Spell" summary="Read scrolls and spellbooks.">
    <comment>13 9 10 12</comment>
    <fieldval field="sRange" value="Personal"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="N/A"/>
    <fieldval field="sResist" value="-"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="0" name="0" abbrev="0"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="NA" name="N/A" abbrev="N/A"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="F" name="Focus" abbrev="{ref s_F}F{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrBleWat" name="Bless Water" description="This transmutation imbues a flask (1 pint) of water with positive energy, turning it into holy water (page 128).\n\n{i}Material Component{/i}: 5 pounds of powdered silver (worth 25 gp)." compset="Spell" summary="Makes holy water.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes (object)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="Good" name="Good" abbrev="Good"/>
    <tag group="sCastTime" tag="Minute1" name="1 Minute(s)" abbrev="Minute1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrCuLiWo" name="Cure Light Wounds" description="When laying your hand upon a living creature, you channel positive energy that cures 1d8 points of damage +1 point per caster level (maximum +5).\n\nSince undead are powered by negative energy, this spell deals damage to them instead of curing their wounds. An undead creature can apply spell resistance, and can attempt a Will save to take half damage." compset="Spell" summary="Cures 1d8 damage +1/level (max +5).">
    <comment>3 1 6 6 2 4 3</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="User" tag="CureDice" name="Cure Wounds Dice"/>
    <tag group="Value" tag="5" name="Maximum bonus"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrCuMoWo" name="Cure Moderate Wounds" description="This spell functions like {i}cure light wounds{/i}, except that it cures 2d8 points of damage +1 point per caster level (maximum +10)." compset="Spell" summary="Cures 2d8 damage +1/level (max +10).">
    <comment>7 7 2 0 1</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="Value" tag="10" name="Max Bonus"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="cHlrHealHa" name="Healing Hands" description="Whenever a healer casts a spell that cures hit point damage, she adds her Charisma modifier to the amount of damage healed. For instance, if a 5th-level healer with an 18 Charisma casts cure light wounds, she cures 1d8+5 points of damage normally, plus an additional 4 points of damage due to her Charisma bonus. This bonus applies only to spells of the healing subschool that she casts as a healer, not to those that she may have by virtue of levels in another class." compset="ClSpecial">
    <usesource source="MinHand"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="1"/>
    </thing>
  <thing id="cHlrSkFoHe" name="Skill Focus (Heal)" description="A healer&#146;s focused training grants her this bonus feat at 2nd level. If she already has that feat, she may choose a different one." compset="ClSpecial">
    <fieldval field="usrCandid1" value="User.PickFeat"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="2"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xBonFeaHlr"></bootstrap>
    <bootstrap thing="xBonSkFHea"></bootstrap>
    <eval phase="First"><![CDATA[~ First 100
    if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.assign[User.BonFeatAct]
    endif]]></eval>
    </thing>
  <thing id="cHlrClePar" name="Cleanse Paralysis" description="A healer deals with certain kinds of maladies so often that eventually she can cure them without resorting to a spell. At 3rd level, a healer gains the ability to cleanse paralysis once per day, as if casting a remove paralysis spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrCleDis" name="Cleanse Disease" description="At 4th level, a healer gains the ability to cleanse disease once per day, as if casting a remove disease spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrCleFea" name="Cleanse Fear" description="At 5th level, a healer gains the ability to cleanse poison once per day, as if casting a remove fear spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="5"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrClePoi" name="Cleanse Poison" description="At 6th level, a healer gains the ability to cleanse poison once per day, as if casting a neutralize poison spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="6"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrEffHea" name="Effortless Healing" description="At 7th level, a healer has learned to cast spells of the healing subschool with minimal effort. She may cast such spells without provoking attacks of opportunity. This ability applies only to spells of the healing subschool that she casts as a healer, not to those that she may have by virtue of levels in another class." compset="ClSpecial">
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="7"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="cHlrCleBli" name="Cleanse Blindness" description="At 9th level, a healer gains the ability to cleanse blindness once per day, as if casting a remove blindness/deafness spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="9"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrCleSpi" name="Cleanse Spirit" description="At 10th level, a healer gains the ability to restore a creature to health once per day, as if casting a greater restoration spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="10"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrClePet" name="Cleanse Petrification" description="At 13th level, a healer gains the ability to restore a petrified creature to health once per day, as if casting a stone to flesh spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="13"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrNewLim" name="New Limb" description="At 15th level, a healer gains the ability to regrow a creature&#146;s lost or damaged body part once per day, as if casting a regenerate spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="15"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrNewLif" name="New Life" description="Once per week, a 20th-level healer can bring a dead creature back to life, as if casting a true resurrection spell." compset="ClSpecial">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="20"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="cHlrUniCom" name="Unicorn companion" description="When a healer attains 8th level, the deities recognize her devotion and grant her a celestial unicorn companion as her mount and aid. The unicorn, a symbol of healing and purity, serves the healer willingly and unswervingly. Once per day, as a full-round action, the healer may magically call her companion from the celestial realms in which it resides. The companion immediately appears adjacent to the healer and remains for 2 hours per healer level. It may be dismissed at any time as a free action. The companion is the same creature each time it is called, though the healer may release a particular companion from service to gain a companion of a different kind. Each time the companion is called, it appears in full health, regardless of any damage it may have taken previously. The companion also appears wearing or carrying any gear is had when it was last dismissed. Calling a companion is a conjuration (calling) effect." compset="ClSpecial">
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="cHelpHlr"/>
    <tag group="ClSpecWhen" tag="8"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="First" priority="498"></eval>
    </thing>
  <thing id="sHlrGoodBe" name="Goodberry" description="Casting {i}goodberry{/i} upon a handful of freshly picked berries makes 2d4 of them magical. You (as well as any other druid of 3rd or higher level) can immediately discern which berries are affected. Each transmuted berry provides nourishment as if it were a normal meal for a Medium creature. The berry also cures 1 point of damage when eaten, subject to a maximum of 8 points of such curing in any 24-hour period." compset="Spell" summary="2d4 berries each cure 1 hp (max 8 hp/24 hours).">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 day/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="Yes"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Day" name="1+ Days" abbrev="1+ Days"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHrlProtEv" name="Protection from Evil" description="This spell wards a creature from attacks by evil creatures, from mental control, and from summoned creatures. It creates a magical barrier around the subject at a distance of 1 foot. The barrier moves with the subject and has three major effects.\n\nFirst, the subject gains a +2 deflection bonus to AC and a +2 resistance bonus on saves. Both these bonuses apply against attacks made or effects created by evil creatures.\n\nSecond, the barrier blocks any attempt to possess the warded creature (by a {i}magic jar{/i} attack, for example) or to exercise mental control over the creature (including enchantment (charm) effects and enchantment (compulsion) effects that grant the caster ongoing control over the subject, such as {i}dominate person{/i}). The protection does not prevent such effects from targeting the protected creature, but it suppresses the effect for the duration of the {i}protection from evil{/i} effect. If the {i}protection from evil{/i} effect ends before the effect granting mental control does, the would be controller would then be able to mentally command the controlled creature. Likewise, the barrier keeps out a possessing life force but does not expel one if it is in place before the spell is cast. This second effect works regardless of alignment.\n\nThird, the spell prevents bodily contact by summoned creatures. This causes the natural weapon attacks of such creatures to fail and the creatures to recoil if such attacks require touching the warded creature. Good summoned creatures are immune to this effect. The protection against contact by summoned creatures ends if the warded creature makes an attack against or tries to force the barrier against the blocked creature. Spell resistance can allow a creature to overcome this protection and touch the warded creature.\n\n{i}Arcane Material Component{/i}: A little powdered silver with which you trace a 3 foot diameter circle on the floor (or ground) around the creature to be warded." compset="Spell" summary="+2 to AC and saves, counter mind control, hedge out elementals and outsiders.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 minute/level (D)"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Special"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="Good" name="Good" abbrev="Good"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrRemFea" name="Remove Fear" description="You instill courage in the subject, granting it a +4 morale bonus against {i}fear{/i} effects for 10 minutes. If the subject is under the influence of a {i}fear{/i} effect when receiving the spell, that effect is suppressed for the duration of the spell. {b}It affects one creature, plus one additional creature per four levels, no two of which can be more than 30 ft. apart.{/b}\n\n{i}Remove fear{/i} counters and dispels {i}cause fear{/i}." compset="Spell" summary="Suppresses fear or gives +4 on saves against fear for one subject + one per four levels.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="10 minutes; See Text"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrRemPar" name="Remove Paralysis" description="You can free one or more creatures from the effects of any temporary paralysis or related magic, including a ghoul&#146;s touch or a slow spell. If the spell is cast on one creature, the paralysis is negated. If cast on two creatures, each receives another save with a +4 resistance bonus against the effect that afflicts it. If cast on three or four creatures, each receives another save with a +2 resistance bonus.\n\nThe spell does not restore ability scores reduced by penalties, damage, or drain." compset="Spell" summary="Frees one or more creatures from paralysis or slow effect.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="1"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrSatctu" name="Sanctuary" description="Any opponent attempting to strike or otherwise directly attack the warded creature, even with a targeted spell, must attempt a Will save. If the save succeeds, the opponent can attack normally and is unaffected by that casting of the spell. If the save fails, the opponent can&#146;t follow through with the attack, that part of its action is lost, and it can&#146;t directly attack the warded creature for the duration of the spell. Those not attempting to attack the subject remain unaffected. This spell does not prevent the warded creature from being attacked or affected by area or effect spells. The subject cannot attack without breaking the spell but may use non attack spells or otherwise act. This allows a warded cleric to heal wounds, for example, or to cast a {i}bless{/i} spell, perform an {i}augury{/i}, summon creatures, and so on." compset="Spell" summary="Opponents can&apos;t attack you, and you can&apos;t attack.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 round/level"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrSpeAni" name="Speak with Animals" description="You can comprehend and communicate with animals. You are able to ask questions of and receive answers from animals, although the spell doesn&#146;t make them any more friendly or cooperative than normal. Furthermore, wary and cunning animals are likely to be terse and evasive, while the more stupid ones make inane comments. If an animal is friendly toward you, it may do some favor or service for you (as determined by the DM)." compset="Spell" summary="You can communicate with animals.">
    <comment>27 18 17</comment>
    <fieldval field="sRange" value="Personal"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="-"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCalEmo" name="Calm Emotions" description="This spell calms agitated creatures. You have no control over the affected creatures, but {i}calm emotions{/i} can stop raging creatures from fighting or joyous ones from reveling. Creatures so affected cannot take violent actions (although they can defend themselves) or do anything destructive. Any aggressive action against or damage dealt to a calmed creature immediately breaks the spell on all calmed creatures.\n\nThis spell automatically suppresses (but does not dispel) any morale bonuses granted by spells such as {i}bless{/i}, {i}good hope{/i}, and {i}rage{/i}, as well as negating a bard&#146;s ability to inspire courage or a barbarian&#146;s rage ability. It also suppresses any fear effects and removes the {i}confused{/i} condition from all targets. While the spell lasts, a suppressed spell or effect has no effect. When the {i}calm emotions{/i} spell ends, the original spell or effect takes hold of the creature again, provided that its duration has not expired in the meantime." compset="Spell" summary="Calms creatures, negating emotion effects.">
    <fieldval field="sRange" value="Medium (100 ft.+10 ft./level)"/>
    <fieldval field="sDuration" value="Concentration, up to 1 round/level (D)"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Medium" name="Medium" abbrev="{ref s_Medium}Med{ref}"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Enchant" name="Enchantment" abbrev="Ench"/>
    <tag group="sSubschool" tag="Compulsion" name="Compulsion" abbrev="Compulsion"/>
    <tag group="sSubschool" tag="MindAffect" name="Mind-Affecting" abbrev="MindAffect"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrDelPoi" name="Delay Poison" description="The subject becomes temporarily immune to poison. Any poison in its system or any poison to which it is exposed during the spell&#146;s duration does not affect the subject until the spell&#146;s duration has expired. {i}Delay poison{/i} does not cure any damage that poison may have already done." compset="Spell" summary="Stops poison from harming subject for 1 hour/level.">
    <comment>7 10 10 7 1 4</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 hour/level"/>
    <fieldval field="sSave" value="Fortitude Negates"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="FortNeg" name="Fortitude Negates" abbrev="Fortitude Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrGenRep" name="Gentle Repose" description="You preserve the remains of a dead creature so that they do not decay. Doing so effectively extends the time limit on raising that creature from the dead (see {i}raise dead{/i}). Days spent under the influence of this spell don&#146;t count against the time limit. Additionally, this spell makes transporting a fallen comrade more pleasant.\n\nThe spell also works on severed body parts and the like.\n\n{i}Arcane Material Component{/i}: A pinch of salt, and a copper piece for each eye the corpse has (or had)." compset="Spell" summary="Preserves one corpse.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 day/level"/>
    <fieldval field="sSave" value="Will Negates (Object)"/>
    <fieldval field="sResist" value="Yes (object)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Day" name="1+ Days" abbrev="1+ Days"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrRemBld" name="Remove Blindness/Deafness" description="{i}Remove blindness/deafness{/i} cures blindness or deafness (your choice), whether the effect is normal or magical in nature. The spell does not restore ears or eyes that have been lost, but it repairs them if they are damaged.\n\n{i}Remove blindness/deafness{/i} counters and dispels {i}blindness/deafness{/i}." compset="Spell" summary="Cures normal or magical conditions.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Fortitude Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="FortNeg" name="Fortitude Negates" abbrev="Fortitude Negates"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrRemDis" name="Remove Disease" description="{i}Remove disease{/i} cures all diseases that the subject is suffering from. The spell also kills parasites, including green slime and others. Certain special diseases may not be countered by this spell or may be countered only by a caster of a certain level or higher.\n\n{i}Note{/i}: Since the spell&#146;s duration is instantaneous, it does not prevent reinfection after a new exposure to the same disease at a later date." compset="Spell" summary="Cures all diseases affecting subject.">
    <comment>9 26 13 8</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Fortitude Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="FortNeg" name="Fortitude Negates" abbrev="Fortitude Negates"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrResLes" name="Restoration, Lesser" description="{i}Lesser restoration{/i} dispels any magical effects reducing one of the subject&#146;s ability scores (such as {i}ray of enfeeblement{/i}) or cures 1d4 points of temporary ability damage to one of the subject&#146;s ability scores (such as from a shadow&#146;s touch or from poison). It also eliminates any fatigue suffered by the character, and improves an exhausted condition to fatigued. It does not restore permanent ability drain." compset="Spell" summary="Dispels magical ability penalty or repairs 1d4 ability damage.">
    <comment>22 18 14</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Round3" name="3 Round(s)" abbrev="Round3"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCloWou" name="Close Wounds" description="This spell cures 1d4 points of damage +1 point per caster level (maximum +5).\n\nIf you cast this spell immediately after the subject takes damage, it effectively prevents the damage. It would keep alive someone who had just dropped to &#150;10 hit points, for example, leaving the character at negative hit points but stable.\n\nUsed against an undead creature, {i}close wounds{/i} deals damage instead of curing the creature (which takes half damage if it makes a Will saving throw)." compset="Spell" summary="Cure 1d4 damage +1/level, even on another&#146;s turn.">
    <fieldval field="sRange" value="Close (25 ft. + 5 ft./2 levels)"/>
    <fieldval field="sSave" value="Will half (harmless); see text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Immediate" name="Immediate" abbrev="Immediate"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="5" name="Max Bonus"/>
    <tag group="User" tag="CureDice" name="Number of Cure Dice"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d4+" & bonus]]></eval>
    </thing>
  <thing id="sHlrCrFoWa" name="Create Food and Water" description="The food that this spell creates {b}(enough to sustain three humans or one horse/level for 24 hours){/b} is simple fare of your choice&#151;highly nourishing, if rather bland. Food so created decays and becomes inedible within 24 hours, although it can be kept fresh for another 24 hours by casting a {i}purify food and water{/i} spell on it. The water created by this spell is just like clean rain water, and it doesn&#146;t go bad as the food does." compset="Spell" summary="Feeds three humans (or one horse)/level.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="24 hours; See Text"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Creation" name="Creation" abbrev="Creation"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCuSeWo" name="Cure Serious Wounds" description="This spell functions like {i}cure light wounds{/i}, except that it cures 3d8 points of damage +1 point per caster level (maximum +15)." compset="Spell" summary="Cures 3d8 damage +1/level (max +15).">
    <comment>5 6 5 1 2</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="15"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrNeuPoi" name="Neutralize Poison" description="You detoxify any sort of venom in the creature or object touched. A poisoned creature suffers no additional effects from the poison, and any temporary effects are ended, but the spell does not reverse instantaneous effects, such as hit point damage, temporary ability damage, or effects that don&#146;t go away on their own. For example, if a poison has dealt 3 points of Constitution damage to a character and threatens to deal more damage later, this spell prevents the future damage but does not repair the damage already done. The creature is immune to any poison it is exposed to during the duration of the spell. Unlike with {i}delay poison{/i}, such effects aren&#146;t postponed until after the duration&#151;the creature need not make any saves against poison effects applied to it during the length of the spell.\n\nThis spell can instead neutralize the poison in a poisonous creature or object for the duration of the spell, at the caster&#146;s option.\n\n{i}Arcane Material Component{/i}: A bit of charcoal." compset="Spell" summary="Immunizes subject against poison, detoxifies venom in or on subject.">
    <comment>7 12 14 8 7 5</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless, Object)"/>
    <fieldval field="sResist" value="Yes (Harmless, Object)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrRemCur" name="Remove Curse" description="{i}Remove curse{/i} instantaneously removes all curses on an object or a creature. {i}Remove curse{/i} does not remove the curse from a cursed shield, weapon, or suit of armor, although the spell typically enables the creature afflicted with any such cursed item to remove and get rid of it. Certain special curses may not be countered by this spell or may be countered only by a caster of a certain level or higher.\n\n{i}Remove curse{/i} counters and dispels {i}bestow curse{/i}." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrRestor" name="Restoration" description="This spell functions like {i}lesser restoration{/i}, except that it also dispels negative levels and restores one experience level to a creature who has had a level drained. The drained level is restored only if the time since the creature lost the level is equal to or less than one day per caster level. Thus, if a 10th-level character has been struck by a wight and drained to 9th level, {i}restoration{/i} brings the character up to exactly the minimum number of experience points necessary to restore him to 10th level (45,000 XP), gaining him an additional Hit Die and level functions accordingly.\n\n{i}Restoration{/i} cures all temporary ability damage, and it restores all points permanently drained from a single ability score (your choice if more than one is drained). It also eliminates any fatigue or exhaustion suffered by the target.\n\n{i}Restoration{/i} does not restore levels or Constitution points lost due to death.\n\n{i}Material Component{/i}: Diamond dust worth 100 gp that is sprinkled over the target." compset="Spell" summary="Restores level and ability score drains.">
    <comment>8</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Round3" name="3 Round(s)" abbrev="Round3"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrStatus" name="Status" description="When you need to keep track of comrades who may get separated, {i}status{/i} allows you to mentally monitor their relative positions and general condition. You are aware of direction and distance to the creatures and any conditions affecting them: unharmed, wounded, disabled, staggered, unconscious, dying, nauseated, panicked, stunned, poisoned, diseased, {i}confused{/i}, or the like. Once the spell has been cast upon the subjects {b}(up to one living creature per three levels){/b}, the distance between them and the caster does not affect the spell as long as they are on the same plane of existence. If a subject leaves the plane, or if it dies, the spell ceases to function for it." compset="Spell" summary="Monitors condition, position of allies.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 hour/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCuCrWo" name="Cure Critical Wounds" description="This spell functions like {i}cure light wounds{/i}, except that it cures 4d8 points of damage +1 point per caster level (maximum +20)." compset="Spell" summary="Cures 4d8 damage +1/level (max +20).">
    <comment>1 2 7

04/04/2011 Updated Spell to Healer class instead of Cleric class.</comment>
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="20"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrDeaWar" name="Death Ward" description="The subject is immune to all death spells, magical death effects, energy drain, and any negative energy effects (such as from {i}inflict{/i} spells or {i}chill touch{/i}).\n\nThis spell doesn&#146;t remove negative levels that the subject has already gained, nor does it affect the saving throw necessary 24 hours after gaining a negative level.\n\n{i}Death ward{/i} does not protect against other sorts of attacks, such as hit point loss, poison, or petrification, even if those attacks might be lethal." compset="Spell" summary="Grants immunity to death spells and negative energy effects.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrFreMov" name="Freedom of Movement" description="This spell enables you or a creature you touch to move and attack normally for the duration of the spell, even under the influence of magic that usually impedes movement, such as paralysis, {i}solid fog{/i}, {i}slow{/i}, and {i}web{/i}. The subject automatically succeeds on any grapple check made to resist a grapple attempt, as well as on grapple checks or Escape Artist checks made to escape a grapple or a pin.\n\nThe spell also allows the subject to move and attack normally while underwater, even with slashing weapons such as axes and swords or with bludgeoning weapons such as flails, hammers, and maces, provided that the weapon is wielded in the hand rather than hurled. The {i}freedom of movement{/i} spell does not, however, allow water breathing.\n\n{i}Material Component{/i}: A leather thong, bound around the arm or a similar appendage." compset="Spell" summary="Subject moves normally despite impediments.">
    <comment>2 1 5 9 8 3</comment>
    <fieldval field="sRange" value="Personal or touch"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="sHlrCuLwMa" name="Cure Light Wounds, Mass" description="You channel positive energy to cure 1d8 points of damage +1 point per caster level (maximum +25) {b}(to one creature/level, no two of which can be more than 30 ft. apart){/b}.\n\nLike other {i}cure{/i} spells, {i}mass cure light wounds{/i} deals damage to undead in its area rather than curing them. Each affected undead may attempt a Will save for half damage." compset="Spell" summary="Cures 1d8 damage +1/level for many creatures.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="4"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="User" tag="CureDice"/>
    <tag group="Value" tag="25"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrPanace" name="Panacea" description="This spell channels positive energy into a creature to wipe away its afflictions. It immediately ends any of the following conditions affecting the subject: blinded, {i}confused{/i}, dazed, dazzled, deafened, diseased, exhausted, fatigued, frightened, nauseated, panicked, paralyzed, shaken, sickened, and stunned. It negates sleep effects and the effect of the {i}feeblemind{/i} spell, and ends any additional effects from poison, as the {i}neutralize poison{/i} spell. It also cures 1d8 points of damage + 1 point per caster level (maximum +20).\n\n{i}Panacea{/i} does not remove ability damage, negative levels, or drained levels.\n\nUsed against an undead creature, {i}panacea{/i} deals damage instead of curing the creature (which takes half damage if it makes a Will saving throw), but it has no other effect." compset="Spell" summary="Removes most afflictions.">
    <fieldval field="sSave" value="Will half (harmless); see text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="4"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    </thing>
  <thing id="sHlrAtonem" name="Atonement" description="This spell removes the burden of evil acts or misdeeds from the subject. The creature seeking atonement must be truly repentant and desirous of setting right its misdeeds. If the atoning creature committed the evil act unwittingly or under some form of compulsion, {i}atonement{/i} operates normally at no cost to you. However, in the case of a creature atoning for deliberate misdeeds and acts of a knowing and willful nature, you must intercede with your deity (requiring you to expend 500 XP) in order to expunge the subject&#146;s burden. Many casters first assign a subject of this sort a quest (see {i}geas/quest{/i}) or similar penance to determine whether the creature is truly contrite before casting the {i}atonement{/i} spell on its behalf.\n\n{i}Atonement{/i} may be cast for one of several purposes, depending on the version selected.\n\n{i}Reverse Magical Alignment Change{/i}: If a creature has had its alignment magically changed, {i}atonement returns its alignment to its original status at no cost in experience points.\n\n{i}Restore Class{/i}: A paladin who has lost her class features due to committing an evil act may have her paladinhood restored to her by this spell.\n\n{i}Restore Cleric or Druid Spell Powers{/i}: A cleric or druid who has lost the ability to cast spells by incurring the anger of his or her deity may regain that ability by seeking {i}atonement{/i} from another cleric of the same deity or another druid. If the transgression was intentional, the casting cleric loses 500 XP for his intercession. If the transgression was unintentional, he does not lose XP.\n\n{i}Redemption or Temptation{/i}: You may cast this spell upon a creature of an opposing alignment in order to offer it a chance to change its alignment to match yours. The prospective subject must be present for the entire casting process. Upon completion of the spell, the subject freely chooses whether it retains its original alignment or acquiesces to your offer and changes to your alignment. No duress, compulsion, or magical influence can force the subject to take advantage of the opportunity offered if it is unwilling to abandon its old alignment. This use of the spell does not work on outsiders or any creature incapable of changing its alignment naturally.\n\nThough the spell description refers to evil acts, {i}atonement{/i} can also be used on any creature that has performed acts against its alignment, whether those acts are evil, good, chaotic, or lawful.\n\n{i}Note{/i}: Normally, changing alignment is up to the player (for PCs) or the DM (for NPCs). This use of {i}atonement{/i} simply offers a believable way for a character to change his or her alignment drastically, suddenly, and definitively.\n\n{i}Material Component{/i}: Burning incense.\n\n{i}Focus{/i}: In addition to your holy symbol or normal divine focus, you need a set of prayer beads (or other prayer device, such as a prayer wheel or prayer book) worth at least 500 gp.\n\n{i}XP Cost{/i}: When cast for the benefit of a creature whose guilt was the result of deliberate acts, the cost to you is 500 XP per casting (see above)." compset="Spell" summary="Removes burden of misdeeds from subject.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="Yes"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sComp" tag="XP" name="XP Cost" abbrev="{ref s_XP}XP{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5" name="5" abbrev="5"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Hour1" name="1 Hour(s)" abbrev="Hour1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="F" name="Focus" abbrev="{ref s_F}F{ref}"/>
    </thing>
  <thing id="sHlrBreEnc" name="Break Enchantment" description="This spell frees victims {b}(up to one creature per level, all within 30 ft. of each other){/b} from enchantments, transmutations, and curses. {i}Break enchantment{/i} can reverse even an instantaneous effect, such as {i}flesh to stone{/i}. For each such effect, you make a caster level check (1d20 + caster level, maximum +15) against a DC of 11 + caster level of the effect. Success means that the creature is free of the spell, curse, or effect. For a cursed magic item, the DC is 25. If the spell is one that cannot be dispelled by {i}dispel magic{/i}, {i}break enchantment{/i} works only if that spell is 5th level or lower. For instance, {i}bestow curse{/i} cannot be dispelled by {i}dispel magic{/i}, but {i}break enchantment{/i} can dispel it.\n\nIf the effect comes from some permanent magic item, such as a cursed sword, {i}break enchantment{/i} does not remove the curse from the item, but it does frees the victim from the item&#146;s effects. For example, a cursed item can change the alignment of its user. {i}Break enchantment{/i} allows the victim to be rid of the item and negates the alignment change, but the item&#146;s curse is intact and affects the next creature to pick up the item&#151;even if it&#146;s the recent recipient of the {i}break enchantment{/i} spell." compset="Spell" summary="Frees subjects from enchantments, alterations, curses, and petrification.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Special; See Text"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5" name="5" abbrev="5"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Minute1" name="1 Minute(s)" abbrev="Minute1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrCuMoWM" name="Cure Moderate Wounds, Mass" description="This spell functions like {i}mass cure light wounds{/i}, except that it cures 2d8 points of damage +1 point per caster level (maximum +30)." compset="Spell" summary="Cures 2d8 damage +1/level for many creatures.">
    <comment>sBrd60004sClr60007sDrd70004</comment>
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="30"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrRaiDea" name="Raise Dead" description="You restore life to a deceased creature. You can raise a creature that has been dead for no longer than one day per caster level. In addition, the subject&#146;s soul must be free and willing to return (see Bringing Back the Dead, page 171). If the subject&#146;s soul is not willing to return, the spell does not work; therefore, a subject that wants to return receives no saving throw.\n\nComing back from the dead is an ordeal. The subject of the spell loses one level (or 1 Hit Die) when it is raised, just as if it had lost a level or a Hit Die to an energy draining creature. If the subject is 1st level, it loses 2 points of Constitution instead (if this would reduce its Con to 0 or less, it can&#146;t be raised). This level/HD loss or Constitution loss cannot be repaired by any means. A character who died with spells prepared has a 50% chance of losing any given spell upon being raised, in addition to losing spells for losing a level. A spellcasting creature that doesn&#146;t prepare spells (such as a sorcerer) has a 50% chance of losing any given unused spell slot as if it had been used to cast a spell, in addition to losing spell slots for losing a level.\n\nA raised creature has a number of hit points equal to its current Hit Dice. Any ability scores damaged to 0 are raised to 1. Normal poison and normal disease are cured in the process of raising the subject, but magical diseases and curses are not undone. While the spell closes mortal wounds and repairs lethal damage of most kinds, the body of the creature to be raised must be whole. Otherwise, missing parts are still missing when the creature is brought back to life. None of the dead creature&#146;s equipment or possessions are affected in any way by this spell.\n\nA creature who has been turned into an undead creature or killed by a death effect can&#146;t be raised by this spell. Constructs, elementals, outsiders, and undead creatures can&#146;t be raised. The spell cannot bring back a creature that has died of old age.\n\n{i}Material Component{/i}: Diamonds worth a total of least 5,000 gp." compset="Spell" summary="Restores life to subject who died as long as one day/level ago.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Special; See Text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5" name="5" abbrev="5"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Minute1" name="1 Minute(s)" abbrev="Minute1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="sHlrRevivi" name="Revivify" description="{i}Revivify{/i} miraculously restores life to a recently deceased creature. However, the spell must be cast within 1 round of the victim&apos;s death. Before the soul of the deceased has completely left the body, this spell halts its journey while repairing somewhat the damage to the body. This spell functions like {i}raise dead{/i} (PH 268), except that the raised creature receives no level loss, no Constitution loss, and no loss of spells. The creature has -1 hit points (but is stable).\n\n{i}Material Component{/i}: Diamonds worth at least 1,000 gp." compset="Spell" summary="Restore recently dead to life with no level loss.">
    <fieldval field="sSave" value="None; see text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5" name="5" abbrev="5"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    </thing>
  <thing id="sHlrStoFle" name="Stone to Flesh" description="This spell restores a petrified creature to its normal state, restoring life and goods. The creature must make a DC 15 Fortitude save to survive the process. Any petrified creature, regardless of size, can be restored.\n\nThe spell also can convert a mass of stone into a fleshy substance. Such flesh is inert and lacking a vital life force unless a life force or magical energy is available. (For example, this spell would turn a stone golem into a flesh golem, but an ordinary statue would become a corpse.) You can affect an object that fits within a cylinder from 1 foot to 3 feet in diameter and up to 10 feet long or a cylinder of up to those dimensions in a larger mass of stone.\n\n{i}Material Component{/i}: A pinch of earth and a drop of blood." compset="Spell" summary="Restores petrified creature.">
    <fieldval field="sRange" value="Medium (100 ft.+10 ft./level)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Fortitude Negates; See Text"/>
    <fieldval field="sResist" value="Yes"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="5"/>
    <tag group="sRange" tag="Medium" name="Medium" abbrev="{ref s_Medium}Med{ref}"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="FortNeg" name="Fortitude Negates" abbrev="Fortitude Negates"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrTruSee" name="True Seeing" description="You confer on the subject the ability to see all things as they actually are. The subject sees through normal and magical darkness, notices secret doors hidden by magic, sees the exact locations of creatures or objects under {i}blur{/i} or {i}displacement{/i} effects, sees invisible creatures or objects normally, sees through illusions, and sees the true form of polymorphed, changed, or transmuted things. Further, the subject can focus its vision to see into the Ethereal Plane (but not into extradimensional spaces). The range of true seeing conferred is 120 feet.\n\n{i}True seeing{/i}, however, does not penetrate solid objects. It in no way confers X-ray vision or its equivalent. It does not negate concealment, including that caused by fog and the like. {i}True seeing{/i} does not help the viewer see through mundane disguises, spot creatures who are simply hiding, or notice secret doors hidden by mundane means. In addition, the spell effects cannot be further enhanced with known magic, so one cannot use {i}true seeing{/i} through a crystal ball or in conjunction with {i}clairaudience/clairvoyance{/i}.\n\n{i}Material Component{/i}: An ointment for the eyes that costs 250 gp and is made from mushroom powder, saffron, and fat." compset="Spell" summary="Lets you see all things as they really are.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="5" name="5" abbrev="5"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrResGre" name="Restoration, Greater" description="This spell functions like {i}lesser restoration{/i}, except that it dispels all negative levels afflicting the healed creature. This effect also reverses level drains by a force or creature, restoring the creature to the highest level it had previously attained. The drained levels are restored only if the time since the creature lost the level is no more than one week per caster level.\n\n{i}Greater restoration{/i} also dispels all magical effects penalizing the creature&#146;s abilities, cures all temporary ability damage, and restores all points permanently drained from all ability scores. It also eliminates fatigue and exhaustion, and removes all forms of insanity, {i}confusion{/i}, and similar mental effects. {i}Greater restoration{/i} does not restore levels or Constitution points lost due to death.\n\n{i}XP Cost{/i}: 500 XP." compset="Spell" summary="As restoration, plus restores all levels and ability scores.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="XP" name="XP Cost" abbrev="{ref s_XP}XP{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="6"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrHeal" name="Heal" description="{i}Heal{/i} enables you to channel positive energy into a creature to wipe away injury and afflictions. It immediately ends any and all of the following adverse conditions affecting the Target: ability damage, blinded, {i}confused{/i}, dazed, dazzled, deafened, diseased, exhausted, fatigued, {i}feebleminded{/i}, insanity, nauseated, sickened, stunned, and poisoned. It also cures 10 hit points of damage per level of the caster, to a maximum of 150 points at 15th level.\n\n{i}Heal{/i} does not remove negative levels, restore permanently drained levels, or restore permanently drained ability score points.\n\nIf used against an undead creature, {i}heal{/i} instead acts like {i}harm{/i}." compset="Spell" summary="Cures 10 points/level of damage, all diseases and mental conditions.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="6" name="6" abbrev="6"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="150"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var CL as number
var searchexpr as string
var sValue as string

~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL) * 10

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & bonus & "hp"]]></eval>
    </thing>
  <thing id="sHlrHerFea" name="Heroes&apos; Feast" description="You bring forth a great feast, including a magnificent table, chairs, service, and food and drink. The feast takes 1 hour to consume, and the beneficial effects do not set in until this hour is over. Every creature {b}(up to one creature/level){/b} partaking of the feast is cured of all diseases, sickness, and nausea; becomes immune to poison for 12 hours; and gains 1d8 temporary hit points +1 point per two caster levels (maximum +10) after imbibing the nectar-like beverage that is part of the feast. The ambrosial food that is consumed grants each creature that partakes a +1 morale bonus on attack rolls and Will saves and immunity to fear effects for 12 hours.\n\nIf the feast is interrupted for any reason, the spell is ruined and all effects of the spell are negated." compset="Spell" summary="Food for one creature/level cures and grants combat bonuses.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="1 hour plus 12 hours; special"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sLevel" tag="6" name="6" abbrev="6"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Creation" name="Creation" abbrev="Creation"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrCuSeWM" name="Cure Serious Wounds, Mass" description="This spell functions like {i}mass cure light wounds{/i}, except that it cures 3d8 points of damage +1 point per caster level (maximum +35)." compset="Spell" summary="Cures 3d8 damage +1/level for many creatures.">
    <comment>sClr70002sDrd80002</comment>
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="6"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="Value" tag="35"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var Dice as number
var CL as number
var searchexpr as string
var sValue as string

~Set the number of d8 dice to show
Dice = tagcount[User.CureDice]
~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL)

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & Dice & "d8+" & bonus]]></eval>
    </thing>
  <thing id="sHlrRegene" name="Regenerate" description="The subject&#146;s severed body members (fingers, toes, hands, feet, arms, legs, tails, or even heads of multiheaded creatures), broken bones, and ruined organs grow back. After the spell is cast, the physical regeneration is complete in 1 round if the severed members are present and touching the creature. It takes 2d10 rounds otherwise.\n\n{i}Regenerate{/i} also cures 4d8 points of damage +1 point per caster level (maximum +35), rids the subject of exhaustion and/or fatigue, and eliminates all nonlethal damage the subject has taken. It has no effect on nonliving creatures (including undead)." compset="Spell" summary="Subject&apos;s severed limbs grow back, cures 4d8 damage +1/level (max +35).">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Fortitude Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="6"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="FortNeg" name="Fortitude Negates" abbrev="Fortitude Negates"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Round3" name="3 Round(s)" abbrev="Round3"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrCuCrWM" name="Cure Critical Wounds, Mass" description="This spell functions like {i}mass cure light wounds{/i}, except that it cures 4d8 points of damage +1 point per caster level (maximum +40)." compset="Spell" summary="Cures 4d8 damage +1/level for many creatures.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Half"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="7"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillHalf" name="Will Half" abbrev="Will Half"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="User" tag="CureDice"/>
    <tag group="Value" tag="40"/>
    </thing>
  <thing id="sHlrRepuls" name="Repulsion" description="An invisible, mobile field {b}(an emanation up to 10 ft. radius/level){/b} surrounds you and prevents creatures from approaching you. You decide how big the field is at the time of casting (to the limit your level allows). Any creature within or entering the field must attempt a save. If it fails, it becomes unable to move toward you for the duration of the spell. Repelled creatures&#146; actions are not otherwise restricted. They can fight other creatures and can cast spells and attack you with ranged weapons. If you move closer to an affected creature, nothing happens. (The creature is not forced back.) The creature is free to make melee attacks against you if you come within reach. If a repelled creature moves away from you and then tries to turn back toward you, it cannot move any closer if it is still within the spell&#146;s area.\n\n{i}Arcane Focus{/i}: A pair of small iron bars attached to two small canine statuettes, one black and one white, the whole array worth 50 gp." compset="Spell" summary="Creatures can&apos;t approach you.">
    <fieldval field="sRange" value="10 ft./level"/>
    <fieldval field="sDuration" value="1 round/level (D)"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="7" name="7" abbrev="7"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="ForDF" name="Focus or Divine Focus" abbrev="{ref s_F}F{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrResurr" name="Resurrection" description="This spell functions like {i}raise dead{/i}, except that you are able to restore life and complete strength to any deceased creature. The condition of the remains is not a factor. So long as some small portion of the creature&#146;s body still exists, it can be resurrected, but the portion receiving the spell must have been part of the creature&#146;s body at the time of death. (The remains of a creature hit by a {i}disintegrate{/i} spell count as a small portion of its body.) The creature can have been dead no longer than 10 years per caster level.\n\nUpon completion of the spell, the creature is immediately restored to full hit points, vigor, and health, with no loss of prepared spells. However, the subject loses one level, or 2 points of Constitution if the subject was 1st level. (If this reduction would bring its Con to 0 or lower, it can&#146;t be resurrected). This level loss or Constitution loss cannot be repaired by any means.\n\nYou can resurrect someone killed by a death effect or someone who has been turned into an undead creature and then destroyed. You cannot resurrect someone who has died of old age. Constructs, elementals, outsiders, and undead creatures can&#146;t be resurrected.\n\n{i}Material Component{/i}: A sprinkle of holy water and diamonds worth a total of at least 10,000 gp." compset="Spell" summary="Fully restore dead subject.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Special; See Text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="7" name="7" abbrev="7"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="sHlrDisLoc" name="Discern Location" description="A {i}discern location{/i} spell is among the most powerful means of locating creatures or objects. Nothing short of a {i}mind blank{/i} spell or the direct intervention of a deity keeps you from learning the exact location of a single individual or object. {i}Discern location{/i} circumvents normal means of protection from scrying or location. The spell reveals the name of the creature or object&#146;s location (place, name, business name, building name, or the like), community, county (or similar political division), country, continent, and the plane of existence where the target lies.\n\nTo find a creature with the spell, you must have seen the creature or have some item that once belonged to it. To find an object, you must have touched it at least once." compset="Spell" summary="Reveals exact location of creature or object.">
    <fieldval field="sRange" value="Unlimited"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="8" name="8" abbrev="8"/>
    <tag group="sRange" tag="Unlimited" name="Unlimited" abbrev="{ref s_Unlim}Unl{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrHolyAu" name="Holy Aura" description="A brilliant divine radiance surrounds the subjects {b}(up to one creature/level in a 20-ft. radius burst centered on you){/b}, protecting them from attacks, granting them resistance to spells cast by evil creatures, and causing evil creatures to become blinded when they strike the subjects. This abjuration has four effects.\n\nFirst, each warded creature gains a +4 deflection bonus to AC and a +4 resistance bonus on saves. Unlike {i}protection from evil{/i}, this benefit applies against all attacks, not just against attacks by evil creatures.\n\nSecond, each warded creature gains spell resistance 25 against evil spells and spells cast by evil creatures.\n\nThird, the abjuration blocks possession and mental influence, just as {i}protection from evil{/i} does.\n\nFinally, if an evil creature succeeds on a melee attack against a warded creature, the offending attacker is blinded (Fortitude save negates, as {i}blindness/deafness{/i}, but against {i}holy aura{/i}&#146;s save DC).\n\n{i}Focus{/i}: A tiny reliquary containing some sacred relic, such as a scrap of cloth from a saint&#146;s robe or a piece of parchment from a holy text. The reliquary costs at least 500 gp." compset="Spell" summary="+4 to AC, +4 resistance, and SR 25 against evil spells.">
    <fieldval field="sRange" value="20 ft"/>
    <fieldval field="sDuration" value="1 round/level (D)"/>
    <fieldval field="sSave" value="Special; See Text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="8" name="8" abbrev="8"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="Good" name="Good" abbrev="Good"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="F" name="Focus" abbrev="{ref s_F}F{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrHealMa" name="Heal, Mass" description="This spell functions like {i}heal{/i}, except as noted above. The maximum number of hit points restored to each creature is 250. {b}It can affect one or more creatures in range, no two of which can be more than 30 ft. apart.{/b}" compset="Spell" summary="As heal, but with several subjects.">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="8"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="Value" tag="150"/>
    <eval phase="Render"><![CDATA[var bonus as number
var MaxCL as number
var CL as number
var searchexpr as string
var sValue as string

~Set the maximum Caster Level bonus set by the Value Tag
sValue = tagids[Value.?,"|"]
sValue = replace(sValue,"Value.","      ",0) 
MaxCL = sValue

~Get the Caster Level of the Class attached to THIS spell
searchexpr = tagids[SpellType.?,"|"]
searchexpr = replace(searchexpr,"SpellType","thingid",0) 
foreach pick in hero where searchexpr
   CL = eachpick.field[cMagicLev].value
nexteach
~Add in Caster Level bonus to Conjuration Heal spells
CL += hero.childfound[zzConjHeal].field[Value].value 

~Set the correct CL bonus to the cure spell
bonus = minimum(CL,MaxCL) * 10

~Check to see if we have Augment Healing feat and add bonus
If (#hasfeat[fAugHeal] <> 0) then
   bonus += 2 * field[sLevel].value
endif

~If we are healer we get to add in our charsima bonus
If (#levelcount[Healer] <> 0) then
   bonus += hero.child[aCHA].field[aModBonus].value
endif

~Set the live name of this spell bonus
field[livename].text = field[thingname].text & " " & bonus & "hp"]]></eval>
    </thing>
  <thing id="sHlrForesi" name="Foresight" description="This spell grants you a powerful sixth sense in relation to yourself or another. Once {i}foresight{/i} is cast, you receive instantaneous warnings of impending danger or harm to the subject of the spell. Thus, if you are the subject of the spell, you would be warned in advance if a rogue were about to attempt a sneak attack on you, or if a creature were about to leap out from a hiding place, or if an attacker were specifically targeting you with a spell or ranged weapon. You are never surprised or flat-footed. In addition, the spell gives you a general idea of what action you might take to best protect yourself&#151;duck, jump right, close your eyes, and so on&#151;and gives you a +2 insight bonus to AC and Reflex saves. This insight bonus is lost whenever you would lose a Dexterity bonus to AC.\n\nWhen another creature is the subject of the spell, you receive warnings about that creature. You must communicate what you learn to the other creature for the warning to be useful, and the creature can be caught unprepared in the absence of such a warning. Shouting a warning, yanking a person back, and even telepathically communicating (via an appropriate spell) can all be accomplished before some danger befalls the subject, provided you act on the warning without delay. The subject, however, does not gain the insight bonus to AC and Reflex saves.\n\n{i}Arcane Material Component{/i}: A hummingbird&#146;s feather." compset="Spell" summary="&#147;Sixth sense&#148; warns of impending danger.">
    <fieldval field="sRange" value="Personal or touch"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="None or Will Negates (Harmless)"/>
    <fieldval field="sResist" value="No or Yes (Harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="9"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Divination" name="Divination" abbrev="Div"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sHlrGate" name="Gate" description="Casting a {i}gate{/i} spell has two effects. First, it creates an interdimensional connection between your plane of existence and a plane you specify, allowing travel between those two planes in either direction.\n\nSecond, you may then call a particular individual or kind of being through the {i}gate{/i}. The {i}gate{/i} itself is a circular hoop or disk from 5 to 20 feet in diameter (caster&#146;s choice), oriented in the direction you desire when it comes into existence (typically vertical and facing you). It is a two dimensional window looking into the plane you specified when casting the spell, and anyone or anything that moves through is shunted instantly to the other side.\n\nA {i}gate{/i} has a front and a back. Creatures moving through the {i}gate{/i} from the front are transported to the other plane; creatures moving through it from the back are not.\n\n{i}Planar Travel{/i}: As a mode of planar travel, a {i}gate{/i} spell functions much like a {i}plane shift{/i} spell, except that the {i}gate{/i} opens precisely at the point you desire (a creation effect). Deities and other beings who rule a planar realm can prevent a {i}gate{/i} from opening in their presence or personal demesnes if they so desire. Travelers need not join hands with you&#151;anyone who chooses to step through the portal is transported. A {i}gate{/i} cannot be opened to another point on the same plane; the spell works only for interplanar travel.\n\nYou could position a {i}gate{/i} in a hallway in order to absorb any attack or force coming at you by shunting it to another plane. Whether the denizens of that plane appreciate this tactic is, of course, another matter.\n\nYou may hold the gate open only for a brief time (no more than 1 round per caster level), and you must concentrate on doing so, or else the interplanar connection is severed.\n\n{i}Calling Creatures{/i}: The second effect of the gate spell is to call an extraplanar creature to your aid (a calling effect). By naming a particular being or kind of being as you cast the spell, you cause the gate to open in the immediate vicinity of the desired creature and pull the subject through, willing or unwilling. Deities and unique beings are under no compulsion to come through the {i}gate{/i}, although they may choose to do so of their own accord. This use of the spell creates a {i}gate{/i} that remains open just long enough to transport the called creatures. This use of the spell has an XP cost (see below).\n\nIf you choose to call a kind of creature instead of a known individual&#151;for instance, a bearded devil or a ghaele eladrin&#151;you may call either a single creature (of any HD) or several creatures. You can call and control several creatures as long as their HD total does not exceed your caster level. In the case of a single creature, you can control it if its HD do not exceed twice your caster level. A single creature with more HD than twice your caster level can&#146;t be controlled. Deities and unique beings cannot be controlled in any event. An uncontrolled being acts as it pleases, making the calling of such creatures rather dangerous. An uncontrolled being may return to its home plane at any time.\n\nA controlled creature can be commanded to perform a service for you. Such services fall into two categories: immediate tasks and contractual service. Fighting for you in a single battle or taking any other actions that can be accomplished within 1 round per caster level counts as an immediate task; you need not make any agreement or pay any reward for the creature&#146;s help. The creature departs at the end of the spell.\n\nIf you choose to exact a longer or more involved form of service from a called creature, you must offer some fair trade in return for that service. The service exacted must be reasonable with respect to the promised favor or reward; see the {i}lesser planar ally{/i} spell for appropriate rewards. (Some creatures may want their payment in &#147;livestock&#148; rather than in coin, which could involve complications.) Immediately upon completion of the service, the being is transported to your vicinity, and you must then and there turn over the promised reward. After this is done, the creature is instantly freed to return to its own plane.\n\nFailure to fulfill the promise to the letter results in your being subjected to service by the creature or by its liege and master, at the very least. At worst, the creature or its kin may attack you.\n\n{i}Note{/i}: When you use a calling spell such as gate to call an air, chaotic, earth, evil, fire, good, lawful, or water creature, it becomes a spell of that type. For example, {i}gate{/i} is a chaotic and evil spell when you cast it to call a demon.\n\n{i}XP Cost{/i}: 1,000 XP (only for the {i}calling creatures{/i} function)." compset="Spell" summary="Connects two planes for travel or summoning.">
    <fieldval field="sRange" value="Medium (100 ft.+10 ft./level)"/>
    <fieldval field="sDuration" value="Instantaneous or Concentration; See Text"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="XP" name="XP Cost" abbrev="{ref s_XP}XP{ref}"/>
    <tag group="sDuration" tag="Concent" name="Concentration" abbrev="Concentration"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sDuration" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sLevel" tag="9" name="9" abbrev="9"/>
    <tag group="sRange" tag="Medium" name="Medium" abbrev="{ref s_Medium}Med{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="CreaOrCall" name="Creation or Calling" abbrev="CreaOrCall"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sHlrTruRes" name="True Resurrection" description="This spell functions like {i}raise dead{/i}, except that you can resurrect a creature that has been dead for as long as 10 years per caster level. This spell can even bring back creatures whose bodies have been destroyed, provided that you unambiguously identify the deceased in some fashion (reciting the deceased&#146;s time and place of birth or death is the most common method).\n\nUpon completion of the spell, the creature is immediately restored to full hit points, vigor, and health, with no loss of level (or Constitution points) or prepared spells.\n\nYou can revive someone killed by a death effect or someone who has been turned into an undead creature and then destroyed. This spell can also resurrect elementals or outsiders, but it can&#146;t resurrect constructs or undead creatures.\n\nEven {i}true resurrection{/i} can&#146;t restore to life a creature who has died of old age.\n\n{i}Material Component{/i}: A sprinkle of holy water and diamonds worth a total of at least 25,000 gp." compset="Spell" summary="As resurrection, plus remains aren&apos;t needed.">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="Special; See Text"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    <tag group="sLevel" tag="9" name="9" abbrev="9"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="Special" name="Special" abbrev="Special"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Healing" name="Healing" abbrev="Healing"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="HlrSpells"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="rUnicornCe" name="Celestial Unicorn" compset="Race">
    <fieldval field="rSTR" value="10"/>
    <fieldval field="rDEX" value="7"/>
    <fieldval field="rCON" value="11"/>
    <fieldval field="rWIS" value="11"/>
    <fieldval field="rCHA" value="14"/>
    <fieldval field="rSpeed" value="60"/>
    <fieldval field="rFeat" value="-2"/>
    <fieldval field="rHitDice" value="4"/>
    <fieldval field="rHPStart" value="22"/>
    <fieldval field="rInfHit" value="4d10"/>
    <fieldval field="rAttack" value="4"/>
    <fieldval field="rFort" value="3"/>
    <fieldval field="rRef" value="3"/>
    <fieldval field="rWill" value="1"/>
    <fieldval field="rSkillPlus" value="2"/>
    <fieldval field="rAC" value="6"/>
    <fieldval field="rCR" value="1.0"/>
    <fieldval field="rSpace" value="10"/>
    <fieldval field="rNumHands" value="0"/>
    <usesource source="MinHand"/>
    <tag group="RaceType" tag="NPC" name="NPC Race" abbrev="NPC Race"/>
    <tag group="Type" tag="Animal" name="Animal" abbrev="Animal"/>
    <tag group="Alignment" tag="NeutralGE" name="Neutral" abbrev="N"/>
    <tag group="Alignment" tag="NeutralLC" name="Neutral" abbrev="N"/>
    <tag group="ClassSkill" tag="kListen" name="Listen" abbrev="Listen"/>
    <tag group="ClassSkill" tag="kSpot" name="Spot" abbrev="Spot"/>
    <tag group="CompIs" tag="cAnimComp" name="Animal Companion" abbrev="Animal Companion"/>
    <tag group="Helper" tag="NotHum" name="NotHum" abbrev="NotHum"/>
    <tag group="Helper" tag="Quadruped" name="Quadruped" abbrev="Quadruped"/>
    <tag group="Hero" tag="NoDefComm" name="NoDefComm" abbrev="NoDefComm"/>
    <tag group="RaceSize" tag="Large1" name="Large" abbrev="Large"/>
    <tag group="Race" tag="typMagBeas"/>
    <tag group="SpecSource" tag="Celestial"/>
    <bootstrap thing="wHooves">
      <autotag group="wMain" tag="1d6_5"/>
      <autotag group="Value" tag="2"/>
      </bootstrap>
    <bootstrap thing="fAle"></bootstrap>
    <bootstrap thing="xCelSmite2"></bootstrap>
    <bootstrap thing="wGore">
      <autotag group="wMain" tag="1d8_6"/>
      <autotag group="Helper" tag="NatPrimary"/>
      <assignval field="livename" value="Horn"/>
      </bootstrap>
    <bootstrap thing="xDamRsAcid"></bootstrap>
    <bootstrap thing="xDamRsCold"></bootstrap>
    <bootstrap thing="xDamRsElec"></bootstrap>
    <bootstrap thing="xSplRs">
      <autotag group="Value" tag="9"/>
      </bootstrap>
    <bootstrap thing="fAlertness"></bootstrap>
    <bootstrap thing="xScent2"></bootstrap>
    <bootstrap thing="rLowLight"></bootstrap>
    <bootstrap thing="fSkillFoc"></bootstrap>
    <bootstrap thing="xDamRdMag">
      <autotag group="Value" tag="5"/>
      </bootstrap>
    <bootstrap thing="raUniHorn"></bootstrap>
    <bootstrap thing="rHAMagicCi"></bootstrap>
    <bootstrap thing="raWildEmpa"></bootstrap>
    <bootstrap thing="xImmCharm"></bootstrap>
    <bootstrap thing="xImmPois"></bootstrap>
    <eval phase="First" priority="5000">var index as number
      index = field[cClsIndex].value

      hero.child[kListen].field[kInnate].arrayvalue[index] += 3
      hero.child[kSpot].field[kInnate].arrayvalue[index] += 3</eval>
    </thing>
  <thing id="raUniHorn" name="Magic Horn" description="The horn is a +3 magic weapon, though its power fades if removed from the unicorn." compset="Special">
    <usesource source="MinHand"/>
    <tag group="SpecSource" tag="rUnicornCe"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PostAttr" priority="5000">hero.childfound[wGore].field[wBonus].value += 3</eval>
    </thing>
  <thing id="raWildEmpa" name="Wild Empathy" description="Roll 1d20 + unicorn level + Charisma modifier like a Diplomacy check to try and improve the attitude of an animal." compset="Special">
    <usesource source="MinHand"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowSpec"/>
    </thing>
  <thing id="cHelpHlr" name="Healer" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Hlr"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cAnimStart" value="8"/>
    <arrayval field="cCastTot" index="0" column="1" value="3"/>
    <arrayval field="cCastTot" index="1" value="4"/>
    <arrayval field="cCastTot" index="1" column="1" value="4"/>
    <arrayval field="cCastTot" index="2" value="5"/>
    <arrayval field="cCastTot" index="2" column="1" value="4"/>
    <arrayval field="cCastTot" index="2" column="2" value="3"/>
    <arrayval field="cCastTot" index="3" value="5"/>
    <arrayval field="cCastTot" index="3" column="1" value="4"/>
    <arrayval field="cCastTot" index="3" column="2" value="4"/>
    <arrayval field="cCastTot" index="4" value="5"/>
    <arrayval field="cCastTot" index="4" column="1" value="5"/>
    <arrayval field="cCastTot" index="4" column="2" value="4"/>
    <arrayval field="cCastTot" index="4" column="3" value="3"/>
    <arrayval field="cCastTot" index="5" value="5"/>
    <arrayval field="cCastTot" index="5" column="1" value="5"/>
    <arrayval field="cCastTot" index="5" column="2" value="4"/>
    <arrayval field="cCastTot" index="5" column="3" value="4"/>
    <arrayval field="cCastTot" index="6" value="6"/>
    <arrayval field="cCastTot" index="6" column="1" value="5"/>
    <arrayval field="cCastTot" index="6" column="2" value="5"/>
    <arrayval field="cCastTot" index="6" column="3" value="4"/>
    <arrayval field="cCastTot" index="6" column="4" value="3"/>
    <arrayval field="cCastTot" index="7" value="6"/>
    <arrayval field="cCastTot" index="7" column="1" value="5"/>
    <arrayval field="cCastTot" index="7" column="2" value="5"/>
    <arrayval field="cCastTot" index="7" column="3" value="4"/>
    <arrayval field="cCastTot" index="7" column="4" value="4"/>
    <arrayval field="cCastTot" index="8" value="6"/>
    <arrayval field="cCastTot" index="8" column="1" value="6"/>
    <arrayval field="cCastTot" index="8" column="2" value="5"/>
    <arrayval field="cCastTot" index="8" column="3" value="5"/>
    <arrayval field="cCastTot" index="8" column="4" value="4"/>
    <arrayval field="cCastTot" index="8" column="5" value="3"/>
    <arrayval field="cCastTot" index="9" value="6"/>
    <arrayval field="cCastTot" index="9" column="1" value="6"/>
    <arrayval field="cCastTot" index="9" column="2" value="5"/>
    <arrayval field="cCastTot" index="9" column="3" value="5"/>
    <arrayval field="cCastTot" index="9" column="4" value="4"/>
    <arrayval field="cCastTot" index="9" column="5" value="4"/>
    <arrayval field="cCastTot" index="10" value="6"/>
    <arrayval field="cCastTot" index="10" column="1" value="6"/>
    <arrayval field="cCastTot" index="10" column="2" value="6"/>
    <arrayval field="cCastTot" index="10" column="3" value="5"/>
    <arrayval field="cCastTot" index="10" column="4" value="5"/>
    <arrayval field="cCastTot" index="10" column="5" value="4"/>
    <arrayval field="cCastTot" index="10" column="6" value="3"/>
    <arrayval field="cCastTot" index="11" value="6"/>
    <arrayval field="cCastTot" index="11" column="1" value="6"/>
    <arrayval field="cCastTot" index="11" column="2" value="6"/>
    <arrayval field="cCastTot" index="11" column="3" value="5"/>
    <arrayval field="cCastTot" index="11" column="4" value="5"/>
    <arrayval field="cCastTot" index="11" column="5" value="4"/>
    <arrayval field="cCastTot" index="11" column="6" value="4"/>
    <arrayval field="cCastTot" index="12" value="6"/>
    <arrayval field="cCastTot" index="12" column="1" value="6"/>
    <arrayval field="cCastTot" index="12" column="2" value="6"/>
    <arrayval field="cCastTot" index="12" column="3" value="6"/>
    <arrayval field="cCastTot" index="12" column="4" value="5"/>
    <arrayval field="cCastTot" index="12" column="5" value="5"/>
    <arrayval field="cCastTot" index="12" column="6" value="4"/>
    <arrayval field="cCastTot" index="12" column="7" value="3"/>
    <arrayval field="cCastTot" index="13" value="6"/>
    <arrayval field="cCastTot" index="13" column="1" value="6"/>
    <arrayval field="cCastTot" index="13" column="2" value="6"/>
    <arrayval field="cCastTot" index="13" column="3" value="6"/>
    <arrayval field="cCastTot" index="13" column="4" value="5"/>
    <arrayval field="cCastTot" index="13" column="5" value="5"/>
    <arrayval field="cCastTot" index="13" column="6" value="4"/>
    <arrayval field="cCastTot" index="13" column="7" value="4"/>
    <arrayval field="cCastTot" index="14" value="6"/>
    <arrayval field="cCastTot" index="14" column="1" value="6"/>
    <arrayval field="cCastTot" index="14" column="2" value="6"/>
    <arrayval field="cCastTot" index="14" column="3" value="6"/>
    <arrayval field="cCastTot" index="14" column="4" value="6"/>
    <arrayval field="cCastTot" index="14" column="5" value="5"/>
    <arrayval field="cCastTot" index="14" column="6" value="5"/>
    <arrayval field="cCastTot" index="14" column="7" value="4"/>
    <arrayval field="cCastTot" index="14" column="8" value="3"/>
    <arrayval field="cCastTot" index="15" value="6"/>
    <arrayval field="cCastTot" index="15" column="1" value="6"/>
    <arrayval field="cCastTot" index="15" column="2" value="6"/>
    <arrayval field="cCastTot" index="15" column="3" value="6"/>
    <arrayval field="cCastTot" index="15" column="4" value="6"/>
    <arrayval field="cCastTot" index="15" column="5" value="5"/>
    <arrayval field="cCastTot" index="15" column="6" value="5"/>
    <arrayval field="cCastTot" index="15" column="7" value="4"/>
    <arrayval field="cCastTot" index="15" column="8" value="4"/>
    <arrayval field="cCastTot" index="16" value="6"/>
    <arrayval field="cCastTot" index="16" column="1" value="6"/>
    <arrayval field="cCastTot" index="16" column="2" value="6"/>
    <arrayval field="cCastTot" index="16" column="3" value="6"/>
    <arrayval field="cCastTot" index="16" column="4" value="6"/>
    <arrayval field="cCastTot" index="16" column="5" value="6"/>
    <arrayval field="cCastTot" index="16" column="6" value="5"/>
    <arrayval field="cCastTot" index="16" column="7" value="5"/>
    <arrayval field="cCastTot" index="16" column="8" value="4"/>
    <arrayval field="cCastTot" index="16" column="9" value="3"/>
    <arrayval field="cCastTot" index="17" value="6"/>
    <arrayval field="cCastTot" index="17" column="1" value="6"/>
    <arrayval field="cCastTot" index="17" column="2" value="6"/>
    <arrayval field="cCastTot" index="17" column="3" value="6"/>
    <arrayval field="cCastTot" index="17" column="4" value="6"/>
    <arrayval field="cCastTot" index="17" column="5" value="6"/>
    <arrayval field="cCastTot" index="17" column="6" value="5"/>
    <arrayval field="cCastTot" index="17" column="7" value="5"/>
    <arrayval field="cCastTot" index="17" column="8" value="4"/>
    <arrayval field="cCastTot" index="17" column="9" value="4"/>
    <arrayval field="cCastTot" index="18" value="6"/>
    <arrayval field="cCastTot" index="18" column="1" value="6"/>
    <arrayval field="cCastTot" index="18" column="2" value="6"/>
    <arrayval field="cCastTot" index="18" column="3" value="6"/>
    <arrayval field="cCastTot" index="18" column="4" value="6"/>
    <arrayval field="cCastTot" index="18" column="5" value="6"/>
    <arrayval field="cCastTot" index="18" column="6" value="6"/>
    <arrayval field="cCastTot" index="18" column="7" value="5"/>
    <arrayval field="cCastTot" index="18" column="8" value="5"/>
    <arrayval field="cCastTot" index="18" column="9" value="4"/>
    <arrayval field="cCastTot" index="19" value="6"/>
    <arrayval field="cCastTot" index="19" column="1" value="6"/>
    <arrayval field="cCastTot" index="19" column="2" value="6"/>
    <arrayval field="cCastTot" index="19" column="3" value="6"/>
    <arrayval field="cCastTot" index="19" column="4" value="6"/>
    <arrayval field="cCastTot" index="19" column="5" value="6"/>
    <arrayval field="cCastTot" index="19" column="6" value="6"/>
    <arrayval field="cCastTot" index="19" column="7" value="5"/>
    <arrayval field="cCastTot" index="19" column="8" value="5"/>
    <arrayval field="cCastTot" index="19" column="9" value="4"/>
    <arrayval field="cCastTot" index="0" value="4"/>
    <usesource source="MinHand" parent="p35" name="Miniatures Handbook"/>
    <tag group="cAttack" tag="Poor"/>
    <tag group="AgeColumn" tag="3"/>
    <tag group="cFort" tag="Good"/>
    <tag group="ClassSkill" tag="Craft"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="kConcent"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kHandleAnm"/>
    <tag group="ClassSkill" tag="kKnowNat"/>
    <tag group="ClassSkill" tag="kKnowRel"/>
    <tag group="ClassSkill" tag="kSenseMot"/>
    <tag group="ClassSkill" tag="kSpellcr"/>
    <tag group="ClassSkill" tag="kSurvival"/>
    <tag group="CasterType" tag="MemAll"/>
    <tag group="sClass" tag="HlrSpells" name="Healer" abbrev="Healer"/>
    <tag group="CasterSrc" tag="Divine"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="psiClDisc" tag="None"/>
    <tag group="ClassSkill" tag="kHeal"/>
    <tag group="Classes" tag="Healer" name="Healer"/>
    <bootstrap thing="cAnimClass"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="cHlrHealHa"></bootstrap>
    <bootstrap thing="cHlrSkFoHe"></bootstrap>
    <bootstrap thing="cHlrClePar"></bootstrap>
    <bootstrap thing="cHlrCleDis"></bootstrap>
    <bootstrap thing="cHlrCleFea"></bootstrap>
    <bootstrap thing="cHlrClePoi"></bootstrap>
    <bootstrap thing="cHlrEffHea"></bootstrap>
    <bootstrap thing="cHlrCleBli"></bootstrap>
    <bootstrap thing="cHlrCleSpi"></bootstrap>
    <bootstrap thing="cHlrClePet"></bootstrap>
    <bootstrap thing="cHlrNewLim"></bootstrap>
    <bootstrap thing="cHlrNewLif"></bootstrap>
    <bootstrap thing="cHlrUniCom"></bootstrap>
    <bootstrap thing="zzConjHeal"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <link linkage="maxsplattr" thing="aWIS"/>
    <link linkage="spellattr" thing="aWIS"/>
    <eval phase="First" priority="498"><![CDATA[~Only do stuff if the animal companion is live
if (hero.childlives[cAnimComp] <> 0) then
  var aLvl as number
  ~As the healer is custom we need to adjust the number of HD
  ~the unicorn gets by different amounts based on level
  if (field[cTotalLev].value = 8) then
     aLvl = 7
  elseif (field[cTotalLev].value = 9) then
     aLvl = 8
  elseif (field[cTotalLev].value = 10) then
     aLvl = 9
  elseif (field[cTotalLev].value = 11) then
     aLvl = 10
  elseif (field[cTotalLev].value = 12) then
     aLvl = 9
  elseif (field[cTotalLev].value = 13) then
     aLvl = 10
  elseif (field[cTotalLev].value = 14) then
     aLvl = 11
  elseif (field[cTotalLev].value = 15) then
     aLvl = 9
  elseif (field[cTotalLev].value = 16) then
     aLvl = 10
  elseif (field[cTotalLev].value = 17) then
     aLvl = 11
  elseif (field[cTotalLev].value = 18) then
     aLvl = 9
  elseif (field[cTotalLev].value = 19) then
     aLvl = 10
  elseif (field[cTotalLev].value = 20) then
     aLvl = 11
  endif
  ~ Adjust animal companion correctly based on level.
  hero.childfound[cAnimClass].field[CompClLev].value -= aLvl
  hero.childfound[cAnimComp].field[CompLevBas].value -= aLvl
  hero.childfound[cAnimComp].field[CompLevel].value -= aLvl
endif]]></eval>
    </thing>
  <thing id="xBonSkFHea" name="Skill Focus: Heal" compset="Special">
    <comment>Eval if User tag present</comment>
    <tag group="User" tag="PickFeat" name="Pick Feat" abbrev="Pick Feat"/>
    <eval phase="First" priority="497"><![CDATA[  if (tagis[User.BonFeatAct] <> 0) then
    doneif (hero.child[kHeal].tagis[Helper.SkillFocus] <> 0)
    hero.child[kHeal].field[Bonus].value += 3
    perform hero.child[kHeal].assign[Helper.SkillFocus]
  endif]]></eval>
    </thing>
  <thing id="xBonFeaHlr" name="Other Feat" compset="Special">
    <comment>Eval if User tag present</comment>
    <tag group="User" tag="PickFeat" name="Pick Feat" abbrev="Pick Feat"/>
    <eval phase="First" priority="497"><![CDATA[  if (tagis[User.BonFeatAct] <> 0) then
    hero.childfound[cHelpHlr].field[cBonFtMax].value += 1
  endif]]></eval>
    </thing>
  <thing id="cMarshal" name="Marshal" description="Sometimes it is not enough to be a conquering warrior, a champion of all that&apos;s right, an experienced sellsword, or an elite foot soldier. Sometimes the circumstances require a solid commander of soldiers and situations. Sometimes the circumstances demand a marshal.\n\nMarshals inspire trust in those they lead. They earn that trust by slogging through harsh landscapes, dangerous battlefields, and haunted catacombs along with those under their command. With a look, they can see where to best deploy their resources or come up with a sneaky ruse to fool their enemies. A marshal has a tactician&apos;s mind, a cartographer&apos;s overview of the disputed landscape (or dungeon warren), and a way with words that can inspire battle-hardened fighters to give it their all when melee breaks out.\n\n{b}Adventures{/b}: Whether leading troops or a company of adventurers, marshals accept commissions in return for their service. Once a commission is accepted, most marshals feel honor bound to see the contract through to its end. If the choice is between honoring the commission and the survival of his company, though, many a marshal will break the commission and lead his forces to a new patron in distant lands.\n\n{b}Characteristics{/b}: Trained in the basics of fighting, marshals possess a general knowledge of weapons and armor. Their real strength is their ability to lead those who follow them to success they might not otherwise reach in combat. Marshals make passable warriors themselves, when personal danger finds them.\n\n{b}Alignment{/b}: Marshals may be of any alignment. Good-aligned marshals are often crusading leaders who seek out and fight evil. Lawful-aligned marshals accept commissions from people who face invasion by foreign aggressors. Chaotic-aligned marshals lead mercenaries to wherever the pay is best. Evil-aligned marshals tend to lead forces of foreign aggressors set on invasion and plunder.\n\n{b}Religion{/b}: Marshals often worship Heironeous (god of valor) or Kord (god of strength). Some worship St. Cuthbert (god of retribution), Hextor (god of tyranny), or Erythnul (god of slaughter).\n\n{b}Background{/b}: Marshals come to their profession through study and desire. Most have had formal training in a noble&apos;s army, where they were given positions of authority. Others have trained in formal academies, preparing themselves for careers as a military officers. Marshals see others of their class as part of a special group, especially those they have studied with. Even enemy marshals can be afforded some respect, though the enemy&apos;s forces must be crushed all the same.\n\n{b}Races{/b}: Human marshals often follow in the footsteps of their parents, who served as officers in earlier wars, conflicts, or mercenary companies. Dwarf marshals are trained to lead strike teams that protect the underground dwarven kingdoms. Elf marshals rarely enroll in military academies, though half-elves often do. Half-orc marshals fight an uphill battle in trying to garner respect in mixed-race units.\n\nAmong the brutal humanoids, few manage to enroll in the academies where the elite skills of command are taught.\n\n{b}Other Classes{/b}: The marshal relies on the other classes in all ways. It is his job to support a team, magnifying the strengths of each member for success in battles or forays into dangerous cavern complexes.\n\n{b}Role{/b}: In most adventuring parties, the marshal serves as the lead tactician, while his comrades support him with spells, ranged attacks, and other effects. However, once a plan is in motion, most marshals enter the melee to assure victory.\n\n{b}Abilities{/b}: Charisma is especially important for marshals because it improves their standing with those they lead, as well as permitting them to magnify the efforts of the group. Constitution is important for a marshal&apos;s staying power. Intelligence is important for the many skills required by marshals to complete their commissions." compset="ClassLevel" maxlimit="20">
    <usesource source="MinHand"/>
    <tag group="ClassType" tag="Normal"/>
    <bootstrap thing="cHelpMrs"></bootstrap>
    <link linkage="helper" thing="cHelpMrs"/>
    </thing>
  <thing id="cMrsMiAura" name="Minor Aura" description="The marshal exerts an effect on allies in his vicinity. He can learn to produce different effects, or auras, over the course of his career. The marshal may project one minor aura and (starting at 2nd level) one major aura at a time.\n\nProjecting an aura is a swift action (see Chapter 2: Magic). The aura remains in effect until the marshal uses a free action to dismiss it or activates another aura of the same kind (major or minor). A marshal can have an aura active continually; thus, an aura can be in effect at the start of a combat encounter even before the marshal takes his first turn.\n\nActivating an aura involves haranguing, ordering, directing, encouraging, cajoling, or calming allies. A marshal sizes up the enemy, allies, and the terrain, then gives allies the direction that they can use to do their best.\n\nUnless otherwise noted, a marshal&apos;s aura affects all allies within 60 feet (including himself) who can hear the marshal. An ally must have an Intelligence score of 3 or higher and be able to understand the marshal&apos;s language to gain the bonus. A marshal&apos;s aura is dismissed if he is dazed, unconscious, stunned, paralyzed, or otherwise unable to be heard or understood by his allies.\n\nA marshal begins play knowing one minor aura of his choice. As his marshal level increases, he gains access to new auras, as indicated on Table 1-5: The Marshal.\n\nAll bonuses granted by a marshal&apos;s auras are circumstance bonuses that do not stack with each other." compset="ClSpecial" summary="Swift, project one minor aura at a time, affecting self &amp; allies in 60 ft who hear.">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="Helper" tag="DispOnly"/>
    </thing>
  <thing id="cMrsBonFea" name="Bonus Feat" description="Because a marshal has a way with people, he gains Skill Focus (Diplomacy) as a bonus feat. If the marshal already has the feat, he can choose a different one." compset="ClSpecial" summary="Gain Skill Focus: Diplomacy or another feat.">
    <comment>Selection of Special (Done)</comment>
    <fieldval field="usrCandid1" value="User.PickFeat"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="User" tag="BonFeatAct" name="Bonus Feat Activation"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <bootstrap thing="xBonFeaSkF"></bootstrap>
    <bootstrap thing="xBonFeaOth"></bootstrap>
    <eval phase="First"><![CDATA[~ First 100
    if (field[usrChosen1].ischosen <> 0) then
        perform field[usrChosen1].chosen.assign[User.BonFeatAct]
    endif]]></eval>
    </thing>
  <thing id="cMrsGrMoAc" name="Grant Move Action (1/day)" description="Starting at 4th level, a marshal can direct and motivate his allies to act immediately. Once per day, as a standard action, he may grant an extra move action to any or all of his allies within 30 feet (but not to himself ). Each of the affected allies takes this extra move action immediately, acting in their current initiative order. This extra action does not affect the allies&apos; initiative count; the round continues normally after the marshal&apos;s turn is over. (This may mean, for example, that an ally whose initiative count immediately follows the marshal&apos;s may get an extra move action from the marshal, followed directly by a full round worth of actions on the ally&apos;s turn.)\n\nAt 8th level, a marshal gains the ability to grant an extra move action to his allies twice per day. The frequency increases to three times per day at 12th level, four times per day at 16th level, and five times per day at 20th level.\n\nA character can take only one extra move action per round. (In other words, two marshals can&apos;t use this ability on the same ally in the same round.) If an ally chooses not to take the extra move action, it is lost." compset="ClSpecial" summary="Standard, any and all allies (not self) in 30 ft may instantly take a move action.">
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
  ~ Determine our charges
  var charge as number
  charge = maximum(round(field[xTotalLev].value/4, 0, -1), 1)

  field[hTotal].value += charge
  field[livename].text = "Grant Move Action (" & field[hTotal].value & "/day)"]]></eval>
    </thing>
  <thing id="cMrsAccStr" name="Minor Aura: Accurate Strike" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on rolls made to confirm critical hits." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to confirm critical hits." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to confirm crits."]]></eval>
    </thing>
  <thing id="cMrsDemFor" name="Minor Aura: Demand Fortitude" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Fortitude saves." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Fort saves." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Fort saves."

     if (field[hIsOn1].value <> 0) then 
      container.child[vFort].field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
     endif]]></eval>
    </thing>
  <thing id="cMrsArtWar" name="Minor Aura: Art of War" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on disarm, trip, bull rush, and sunder attempts." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bon to disarm, trip, bull rush, and sunder." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to disarm, trip, bull rush and sunder."]]></eval>
    </thing>
  <thing id="cMrsDetCas" name="Minor Aura: Determined Caster" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on rolls to overcome spell resistance." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to overcome SR." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to overcome SR."

      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our classes with spellcasting
        foreach pick in hero from BaseClHelp where "CasterSrc.Arcane|CasterSrc.Divine"

          ~ Add Cha bon to Spell pen.
         each.field[cOverSplRs].value += hero.child[aCHA].field[aModBonus].value
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsForWil" name="Minor Aura: Force of Will" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Will saves." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Will saves." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Will saves."

     if (field[hIsOn1].value <> 0) then 
      container.child[vWill].field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
     endif]]></eval>
    </thing>
  <thing id="cMrsMasOpp" name="Minor Aura: Master of Opportunity" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus to Armor Class against attacks of opportunity." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to AC vs AoO." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to AC vs AoO."]]></eval>
    </thing>
  <thing id="cMrsWatEye" name="Minor Aura: Watchful Eye" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Reflex saves." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Ref saves." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Ref saves."

     if (field[hIsOn1].value <> 0) then 
      container.child[vRef].field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
     endif]]></eval>
    </thing>
  <thing id="cMrsOvrTop" name="Minor Aura: Over the Top" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on damage rolls when charging." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to damage when charging." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to dam when charging."]]></eval>
    </thing>
  <thing id="cMrsMotStr" name="Minor Aura: Motivate Strength" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Strength checks and Strength-based skill checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Str checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Str checks & skills."


      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Strength attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aSTR] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsMotInt" name="Minor Aura: Motivate Intelligence" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Intelligence checks and Intelligence- based skill checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Int checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Int checks & skills."


      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Charisma attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aINT] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsMotDex" name="Minor Aura: Motivate Dexterity" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Dexterity checks, Dexterity-based skill checks, and initiative checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Dex checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Dex checks (including init) & skills."


      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Dexterity attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aDEX] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

      hero.child[Initiative].field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
     endif]]></eval>
    </thing>
  <thing id="cMrsMotCon" name="Minor Aura: Motivate Constitution" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Constitution checks and Constitution-based skill checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Con checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Con checks & skills."


      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Constitution attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aCON] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsMotCha" name="Minor Aura: Motivate Charisma" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Charisma checks and Charisma based skill checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Cha checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="ShowCharge"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Cha checks & skills."

      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Charisma attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aCHA] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsMotWis" name="Minor Aura: Motivate Wisdom" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on Wisdom checks and Wisdom-based skill checks." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to Wis checks and skills." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to Wis checks & skills."


      if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our skills
        foreach pick in hero from BaseSkill

          ~ If this skill has a linkage to the Wisdom attribute, give it a circumstance bonus.
          if (eachpick.islinkage[skillattr] <> 0) then
            if (eachpick.linkage[skillattr].tagis[thingid.aWIS] <> 0) then
              each.field[ModCirc].value += hero.child[aCHA].field[aModBonus].value
            endif
          endif
       nexteach

     endif]]></eval>
    </thing>
  <thing id="cMrsMasTac" name="Minor Aura: Master of Tactics" description="This minor aura lets allies add the marshal&apos;s Charisma modifier as a bonus on damage rolls when flanking." compset="CustomSpec" summary="Swift, allies in 60 ft gain Cha mod as circ bonus to damage when flanking." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="UserPostAt"><![CDATA[  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[aCHA].field[aModBonus].value & " circ bon to dam when flanking."]]></eval>
    </thing>
  <thing id="cMrsHarSol" name="Major Aura: Hardy Soldiers" description="The marshal&apos;s allies gain damage reduction equal to the amount of bonus the aura provides. For example, if the marshal is 10th level, everyone affected gains DR 2/-." compset="CustomSpec" summary="Swift, allies in 60 ft gain DR/-." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xDamRd"></bootstrap>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Hardy Soldiers +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain DR" & hero.child[cMrsMaAura].field[Value].value & "/-."

     if (field[hIsOn1].value <> 0) then
      hero.child[xDamRd].field[Value].value = maximum(hero.child[xDamRd].field[Value].value, hero.child[cMrsMaAura].field[Value].value)
     endif]]></eval>
    </thing>
  <thing id="cMrsMotArd" name="Major Aura: Motivate Ardor" description="The marshal&apos;s allies gain the listed bonus on damage rolls." compset="CustomSpec" summary="Swift, allies in 60 ft gain circ bonus to damage." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Motivate Ardor +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[cMrsMaAura].field[Value].value & " circ bon to damage."

    if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our weapons
      foreach pick in hero from BaseWep
        ~ Add a damage bonus
        each.field[wDamBonus].value += hero.child[cMrsMaAura].field[Value].value
      nexteach
    endif]]></eval>
    </thing>
  <thing id="cMrsMotAtt" name="Major Aura: Motivate Attack" description="The marshal&apos;s allies gain the listed bonus on melee attack rolls." compset="CustomSpec" summary="Swift, allies in 60 ft gain circ bonus to melee attack." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Motivate Attack +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[cMrsMaAura].field[Value].value & " circ bon melee attacks."

    if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our weapons
      foreach pick in hero from BaseWep
        ~ Add an att bonus
        each.field[wAttBonus].value += hero.child[cMrsMaAura].field[Value].value
        ~ Add an att penalty
        each.field[wAttRanged].value -= hero.child[cMrsMaAura].field[Value].value
      nexteach
    endif]]></eval>
    </thing>
  <thing id="cMrsMotAC" name="Major Aura: Motivate Care" description="The marshal&apos;s allies gain the listed bonus to Armor Class." compset="CustomSpec" summary="Swift, allies in 60 ft gain circ bonus to AC." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Motivate Care +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[cMrsMaAura].field[Value].value & " circ bon Armor Class."

     if (field[hIsOn1].value <> 0) then 
      container.child[ArmorClass].field[ModCirc].value += hero.child[cMrsMaAura].field[Value].value
     endif]]></eval>
    </thing>
  <thing id="cMrsMotUrg" name="Major Aura: Motivate Urgency" description="The marshal&apos;s allies&apos; base land speed is increased by a number of feet equal to 5x the amount of bonus the aura provides. For example, the allies of a 10th-level marshal (+2 major aura) add 10 feet to their base land speed." compset="CustomSpec" summary="Swift, allies in 60 ft gain bonus to base land speed." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="Final"><![CDATA[  field[livename].text = "Major Aura: Motivate Urgency +" & hero.child[cMrsMaAura].field[Value].value & ""

   var bonus as number
   bonus = hero.child[cMrsMaAura].field[Value].value*5

  field[xSumm].text = "Swift, allies in 60 ft gain +" & bonus & " bonus to base land speed."

     if (field[hIsOn1].value <> 0) then 
      ~ Add to our base speed.
      hero.child[Speed].field[tSpeed].value += bonus
     endif]]></eval>
    </thing>
  <thing id="cMrsResTro" name="Major Aura: Resilient Troops" description="The marshal&apos;s allies gain the listed bonus on all saves." compset="CustomSpec" summary="Swift, allies in 60 ft gain circ bonus to all saves." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Resilient Troops +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[cMrsMaAura].field[Value].value & " circ bon to all saves."

     if (field[hIsOn1].value <> 0) then 
      container.child[vFort].field[ModCirc].value += hero.child[cMrsMaAura].field[Value].value
      container.child[vRef].field[ModCirc].value += hero.child[cMrsMaAura].field[Value].value
      container.child[vWill].field[ModCirc].value += hero.child[cMrsMaAura].field[Value].value
     endif]]></eval>
    </thing>
  <thing id="cMrsSteHnd" name="Major Aura: Steady Hand" description="The marshal&apos;s allies gain the listed bonus on ranged attack rolls." compset="CustomSpec" summary="Swift, allies in 60 ft gain circ bonus to ranged attack." uniqueness="useronce">
    <fieldval field="hName1" value="Active"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="Helper" tag="Secondary"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="AbilType" tag="Extra"/>
    <eval phase="PostLevel" priority="15000"><![CDATA[  field[livename].text = "Major Aura: Steady Hand +" & hero.child[cMrsMaAura].field[Value].value & ""
  field[xSumm].text = "Swift, allies in 60 ft gain +" & hero.child[cMrsMaAura].field[Value].value & " circ bon ranged attacks."

    if (field[hIsOn1].value <> 0) then
        ~ Iterate through all our weapons
      foreach pick in hero from BaseWep
        ~ Add a damage bonus
        each.field[wAttRanged].value += hero.child[cMrsMaAura].field[Value].value
      nexteach
    endif]]></eval>
    </thing>
  <thing id="xBonFeaSkF" name="Skill Focus: Diplomacy" compset="Special">
    <comment>Eval if User tag present</comment>
    <tag group="User" tag="PickFeat" name="Pick Feat"/>
    <eval phase="First" priority="497"><![CDATA[  if (tagis[User.BonFeatAct] <> 0) then
    doneif (hero.child[kDiplomacy].tagis[Helper.SkillFocus] <> 0)
    hero.child[kDiplomacy].field[Bonus].value += 3
    perform hero.child[kDiplomacy].assign[Helper.SkillFocus]
  endif]]></eval>
    </thing>
  <thing id="xBonFeaOth" name="Other Feat" compset="Special">
    <comment>Eval if User tag present</comment>
    <tag group="User" tag="PickFeat"/>
    <eval phase="First" priority="497"><![CDATA[  if (tagis[User.BonFeatAct] <> 0) then
    hero.childfound[cHelpMrs].field[cBonFtMax].value += 1
  endif]]></eval>
    </thing>
  <thing id="cMrsGrMoA2" name="Grant Move Action (2/day)" description="Gain another daily use of Grant Move Action." compset="ClSpecial">
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="8"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsGrMoA3" name="Grant Move Action (3/day)" description="Gain another daily use of Grant Move Action." compset="ClSpecial">
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="12"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsGrMoA4" name="Grant Move Action (4/day)" description="Gain another daily use of Grant Move Action." compset="ClSpecial">
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="16"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsGrMoA5" name="Grant Move Action (5/day)" description="Gain another daily use of Grant Move Action." compset="ClSpecial">
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="ClSpecWhen" tag="20"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsMaAura" name="Major Aura +1" description="The marshal exerts an effect on allies in his vicinity. He can learn to produce different effects, or auras, over the course of his career. The marshal may project one minor aura and (starting at 2nd level) one major aura at a time.\n\nProjecting an aura is a swift action (see Chapter 2: Magic). The aura remains in effect until the marshal uses a free action to dismiss it or activates another aura of the same kind (major or minor). A marshal can have an aura active continually; thus, an aura can be in effect at the start of a combat encounter even before the marshal takes his first turn.\n\nActivating an aura involves haranguing, ordering, directing, encouraging, cajoling, or calming allies. A marshal sizes up the enemy, allies, and the terrain, then gives allies the direction that they can use to do their best.\n\nUnless otherwise noted, a marshal&apos;s aura affects all allies within 60 feet (including himself) who can hear the marshal. An ally must have an Intelligence score of 3 or higher and be able to understand the marshal&apos;s language to gain the bonus. A marshal&apos;s aura is dismissed if he is dazed, unconscious, stunned, paralyzed, or otherwise unable to be heard or understood by his allies.\n\nA marshal begins play knowing one minor aura of his choice. As his marshal level increases, he gains access to new auras, as indicated on Table 1-5: The Marshal.\n\nAll bonuses granted by a marshal&apos;s auras are circumstance bonuses that do not stack with each other." compset="ClSpecial" summary="Swift, project one major aura at a time, affecting self &amp; allies in 60 ft who hear.">
    <tag group="ClSpecWhen" tag="2"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    <eval phase="PostLevel" priority="10000"><![CDATA[  if (field[xTotalLev].value >= 20) then
    field[Value].value += 4
  elseif (field[xTotalLev].value >= 14) then
    field[Value].value += 3
  elseif (field[xTotalLev].value >= 7) then
    field[Value].value += 2
  else
    field[Value].value += 1
  endif]]></eval>
    </thing>
  <thing id="cMrsMaAur2" name="Major Aura +2" description="The effect of your Major Auras strengthens." compset="ClSpecial" summary="Major Aura bonus increases.">
    <tag group="ClSpecWhen" tag="7"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsMaAur3" name="Major Aura +3" description="The effect of your Major Auras strengthens." compset="ClSpecial" summary="Major Aura bonus increases.">
    <tag group="ClSpecWhen" tag="14"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cMrsMaAur4" name="Major Aura +4" description="The effect of your Major Auras strengthens." compset="ClSpecial" summary="Major Aura bonus increases.">
    <tag group="ClSpecWhen" tag="20"/>
    <tag group="SpecSource" tag="cHelpMrs"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cHelpMrs" name="Marshal" compset="ClassHelp" uniqueness="unique">
    <fieldval field="cHDSides" value="8"/>
    <fieldval field="cAbbr" value="Mrs"/>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSpecSing" value="Minor Aura"/>
    <fieldval field="cSpec2ndSi" value="Major Aura"/>
    <arrayval field="cCustTot" index="0" value="1"/>
    <arrayval field="cCustTot" index="2" value="2"/>
    <arrayval field="cCustTot" index="4" value="3"/>
    <arrayval field="cCustTot" index="6" value="4"/>
    <arrayval field="cCustTot" index="8" value="5"/>
    <arrayval field="cCustTot" index="11" value="6"/>
    <arrayval field="cCustTot" index="14" value="7"/>
    <arrayval field="cCustTot" index="18" value="8"/>
    <arrayval field="cCustScTot" index="1" value="1"/>
    <arrayval field="cCustScTot" index="4" value="2"/>
    <arrayval field="cCustScTot" index="8" value="3"/>
    <arrayval field="cCustScTot" index="13" value="4"/>
    <arrayval field="cCustScTot" index="19" value="5"/>
    <usesource source="MinHand"/>
    <tag group="ClassSkill" tag="kSenseMot"/>
    <tag group="ClassSkill" tag="kSpeakLang"/>
    <tag group="ClassSkill" tag="kSpot"/>
    <tag group="ClassSkill" tag="kSurvival"/>
    <tag group="ClassSkill" tag="kSwim"/>
    <tag group="cRef" tag="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="psiClass" tag="AddNewTag"/>
    <tag group="psiClDisc" tag="None"/>
    <tag group="Classes" tag="Marshal" name="Marshal"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="AgeColumn" tag="3"/>
    <tag group="cFort" tag="Good"/>
    <tag group="ClassSkill" tag="Knowledge"/>
    <tag group="ClassSkill" tag="Perform"/>
    <tag group="ClassSkill" tag="kBluff"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kHandleAnm"/>
    <tag group="ClassSkill" tag="kIntim"/>
    <tag group="ClassSkill" tag="kListen"/>
    <tag group="ClassSkill" tag="kRide"/>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="cMrsMiAura"></bootstrap>
    <bootstrap thing="cMrsBonFea"></bootstrap>
    <bootstrap thing="cMrsGrMoAc"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="cMrsGrMoA2"></bootstrap>
    <bootstrap thing="cMrsGrMoA3"></bootstrap>
    <bootstrap thing="cMrsGrMoA4"></bootstrap>
    <bootstrap thing="cMrsGrMoA5"></bootstrap>
    <bootstrap thing="cMrsMaAura"></bootstrap>
    <bootstrap thing="cMrsMaAur2"></bootstrap>
    <bootstrap thing="cMrsMaAur3"></bootstrap>
    <bootstrap thing="cMrsMaAur4"></bootstrap>
    </thing>
  <thing id="fBatInspir" name="Battlefield Inspiration" description="You inspire courage in your allies.\n\n{b}Prerequisite{/b}: Cha 13.\n\n{b}Benefit{/b}: As a free action, you can inspire courage in your allies. Each ally within 30 feet of you (not including you) that can hear you and has an Intelligence of 3 or higher gains a +2 circumstance bonus on saving throws against fear effects.\n\n{b}Special{/b}: You may select this feat multiple times. Its effects stack. Each time you take the feat, your bonus increases by +2." compset="Feat">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PreLevel" priority="6000"><![CDATA[var bonus as number

bonus = 2 * hero.tagcount[HasFeat.fBatInspir]

field[xSumm].text = "Allies gain (+" & bonus & ") bonus on saves against fear effects."]]></eval>
    <exprreq message="Charisma 13 required"><![CDATA[child[aCHA].field[aFinalVal].value >= 13]]></exprreq>
    </thing>
  <thing id="fDisAttack" name="Distracting Attack" description="You are skilled at interfering with opponents in melee.\n\n{b}Prerequisite{/b}: Base attack bonus +1.\n\n{b}Benefit{/b}: When you make a melee attack against a creature, whether you are successful or not, all other creatures get a +1 circumstance bonus on attack rolls against that creature until the start of your next turn.\n\n{b}Special{/b}: A fighter may select Distracting Attack as one of his fighter bonus feats." compset="Feat" summary="Your attack gives +1 bonus on other creatures&apos; attacks against same target." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    </thing>
  <thing id="fDoubleHit" name="Double Hit" description="You can react with your off hand to make an additional attack along with an attack of opportunity.\n\n{b}Prerequisites{/b}: Combat Reflexes, Two-Weapon Fighting, Improved Two-Weapon Fighting.\n\n{b}Benefit{/b}: When making an attack of opportunity, you may make an attack with your off hand against the same target at the same time. You must decide before your first attack roll whether you want to also use your off hand. If you do, both attacks take the standard penalties for fighting with two weapons.\n\n{b}Special{/b}: A fighter may select Double Hit as one of his fighter bonus feats." compset="Feat" summary="Gain off-hand attack when making an attack of opportunity." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Combat Reflexes feat required"><![CDATA[#hasfeat[fComRef] <> 0]]></exprreq>
    <exprreq message="Two-Weapon Fighting feat required"><![CDATA[#hasfeat[fTwoWep] <> 0]]></exprreq>
    <exprreq message="Improved Two-Weapon Fighting feat required"><![CDATA[#hasfeat[fImpTwoWep] <> 0]]></exprreq>
    </thing>
  <thing id="fExtDomSpe" name="Extra Domain Spell" description="You have chosen to be more specialized in a particular domain.\n\n{b}Prerequisite{/b}: Wis 15, access to one domain spell.\n\n{b}Benefit{/b}: Choose one domain spell that you can cast. You may cast this spell one extra time each day. Once this spell is chosen, it may not be changed.\n\n{b}Special{/b}: You may take this feat multiple times. Each time you choose this feat, you select a different domain spell to which it applies." compset="Feat" summary="Cast one of your domain spells an extra time.">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fShowWhat" tag="Freeform"/>
    <exprreq message="Wisdom 15 required"><![CDATA[child[aWIS].field[aFinalVal].value >= 15]]></exprreq>
    </thing>
  <thing id="fFoeSpecia" name="Foe Specialist" description="You are trained at how to damage a particular type of foe. \n\n{b}Prerequisites{/b}: Sneak attack +1d6, base attack bonus +4.\n\n{b}Benefit{/b}: Choose a type of creature from Table 3&#150;14: Ranger Favored Enemies, page 47 of the Player&#146;s Handbook.You deal an extra 1d6 points of damage on successful sneak attacks against that type of creature. (The selected type cannot be construct, elemental, ooze, plant, or undead, since those types are not subject to critical hits.)\n\n{b}Special{/b}: You can gain this feat multiple times. Its effects do not stack. Each time you take the feat, it applies to a new creature type from among those that remain eligible." compset="Feat" summary="Your attack gives +1 bonus on other creatures&apos; attacks against same target.">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fShowWhat" tag="Freeform"/>
    <exprreq message="Base attack bonus +4 required."><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="Sneak attack required."><![CDATA[childfound[xSneakAtt].field[Value].value >= 1]]></exprreq>
    </thing>
  <thing id="fHurlCharg" name="Hurling Charge" description="You are trained in using thrown weapons as part of a charge attack\n\n{b}Prerequisites{/b}: Quick Draw, base attack bonus +6.\n\n{b}Benefit{/b}: If you charge an opponent, you may make a ranged attack with a thrown weapon as well as a melee attack with another weapon that you draw during the charge. You may use this feat only if you have a throwing weapon in hand at the start of your turn. Both attacks must be made at the same opponent, and both receive the bonus on attack rolls for making a charge. (If you kill the enemy you&#146;re charging with the thrown weapon, you complete the charge but don&#146;t get a melee attack.) You must also follow all the requirements of making a charge. If you have the ability to make multiple attacks on a charge, you may make only one attack in addition to the thrown weapon attack. You still take the normal &#150;2 penalty to Armor Class for making a charge attack.\n\n{b}Special{/b}: A fighter may select Hurling Charge as one of his fighter bonus feats." compset="Feat" summary="Throw a weapon as part of a charge." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Quick Draw feat required."><![CDATA[#hasfeat[fQuickDraw] <> 0]]></exprreq>
    </thing>
  <thing id="fGrPowChar" name="Greater Powerful Charge" description="You can charge with extra force.\n\n{b}Prerequisites{/b}: Medium or larger, Powerful Charge, base attack bonus +4.\n\n{b}Benefit{/b}: As Powerful Charge, but treat yourself as one size category larger than you are. For Colossal creatures, the extra 6d6 points of damage bonus becomes 8d6.\n\n{b}Special{/b}: A fighter may select Greater Powerful Charge as one of his fighter bonus feats." compset="Feat" summary="Additional extra damage when you charge." uniqueness="unique">
    <usesource source="MinHand"/>
    <tag group="BonusFor" tag="Fighter" name="Fighter" abbrev="Fighter"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="UserPreLv" priority="105"><![CDATA[doneif (#hasfeat[fPwrCharge] = 0)

~ Check our size, and define our bonus damage
   var bonus as string
if (herofield[tSize].value = 0) then
  bonus = "2d6"
elseif (herofield[tSize].value = 1) then
  bonus = "3d6"
elseif (herofield[tSize].value = 2) then
  bonus = "4d6"
elseif (herofield[tSize].value = 3) then
  bonus = "6d6"
elseif (herofield[tSize].value >= 4) then
  bonus = "8d6"
  endif

  hero.child[fPwrCharge].field[livename].text = "Powerful Charge (" & bonus & ")"]]></eval>
    <exprreq message="Powerful Charge feat required."><![CDATA[#hasfeat[fPwrCharge] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +4 required."><![CDATA[child[Attack].field[tAtkBase].value >= 4]]></exprreq>
    <exprreq message="Size Medium or larger required."><![CDATA[herofield[tSize].value >= 0]]></exprreq>
    </thing>
  <thing id="fMartThrow" name="Martial Throw" description="You can switch positions with an opponent you hit in melee by throwing that opponent.\n\n{b}Prerequisites{/b}: Dex 17, Improved Unarmed Strike.\n\n{b}Benefit{/b}: When you are adjacent to an opponent of your size category or smaller and you hit that opponent with an unarmed strike, you may immediately make a special opposed grapple check against that opponent. Make a grapple check using your Dexterity modifier instead of your Strength modifier. The opponent uses its Strength modifier as normal. If you succeed, you and your opponent are not grappling, but you switch positions with the foe. (If either combatant occupies more than one square, both must end up adjacent to each other after the throw, each must occupy at least one square the other formerly occupied, and neither can be located in a square occupied by any obstacle or other creature. If both combatants can&#146;t meet these conditions, you can&#146;t execute the throw.)\n\nSwitching positions in this fashion does not provoke attacks of opportunity.\n\nYou can use this feat on allies as well as enemies. If the other character is willing, your attack roll and grapple check are automatically successful, and you deal unarmed strike damage to your ally normally. (This move is a hard, violent throw, and you can&#146;t pull it off without actually striking the subject of the throw.)\n\nThis feat can be used only once per round.\n\n{b}Special{/b}: A fighter may select this feat as one of his fighter bonus feats." compset="Feat" summary="Special grapple to switch places with enemy." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Dexterity 17 required"><![CDATA[child[aDEX].field[aFinalVal].value >= 17]]></exprreq>
    <exprreq message="Improved Unarmed Strike feat required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    </thing>
  <thing id="fMountCast" name="Mounted Casting" description="You are skilled at casting spells while riding a mount.\n\n{b}Prerequisites{/b}: Ride 1 rank, Mounted Combat.\n\n{b}Benefit{/b}: You gain a +10 bonus on Concentration checks to cast spells while mounted." compset="Feat" summary="+10 on Concentration checks to cast while mounted" uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Mounted Combat feat required."><![CDATA[#hasfeat[fMountCom] <> 0]]></exprreq>
    <exprreq message="Ride rank 1 required."><![CDATA[#skillranks[kRide] >= 1]]></exprreq>
    </thing>
  <thing id="fPushback" name="Pushback" description="You can knock opponents back when you hit them in melee.\n\n{b}Prerequisites{/b}: Str 17, Improved Bull Rush, Power Attack.\n\n{b}Benefit{/b}: When you are adjacent to an opponent of your size category or smaller and you hit that opponent with a melee attack, you may immediately make a special bull rush attempt against that opponent. If you succeed, you push the opponent back 5 feet (only) and move into the square (or one of the squares) previously occupied by that opponent. You choose whether the opponent moves one square straight back, one square diagonally back to the right, or one square diagonally back to the left.\n\nYou can&#146;t push an opponent back through (or into) solid obstacles or otherwise occupied squares.\n\nIf, after making the bull rush attempt, you would not be able to move into a square previously occupied by the opponent, you can&#146;t push that opponent back.\n\nThis feat can be used once per round.\n\nThe movement caused by the use of this feat does not provoke attacks of opportunity.\n\n{b}Special{/b}: A fighter may select Pushback as one of his fighter bonus feats." compset="Feat" summary="Push enemy back after melee attack." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Strength 17 required"><![CDATA[child[aSTR].field[aFinalVal].value >= 17]]></exprreq>
    <exprreq message="Improved Bull Rush feat required."><![CDATA[#hasfeat[fImpBull] <> 0]]></exprreq>
    <exprreq message="Power Attack feat required."><![CDATA[#hasfeat[fPowerAtt] <> 0]]></exprreq>
    </thing>
  <thing id="fReckCharg" name="Reckless Charge" description="You can charge with wild abandon.\n\n{b}Prerequisite{/b}: Base attack bonus +1.\n\n{b}Benefit{/b}: When you charge, before making your attack roll, you may choose to take a &#150;4 penalty to Armor Class until the start of your next turn to gain a +4 bonus on your attack roll.\n\n{b}Normal{/b}: Without this feat, a charging character gains a +2 bonus on his attack roll and a &#150;2 penalty to Armor Class until the start of his next turn.\n\n{b}Special{/b}: A fighter may select Reckless Charge as one of his fighter bonus feats." compset="Feat" summary="Charges get +4 on attack rolls, but -4 penalty to AC." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    </thing>
  <thing id="fSeconWind" name="Second Wind" description="You can shrug off minor wounds with ease.\n\n{b}Benefit{/b}: Once per day, as a free action, you can heal yourself of a number of points of damage equal to your Constitution modifier (minimum 1)." compset="Feat" summary="Heal hit points equal to Con modifier 1/day" uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="General"/>
    </thing>
  <thing id="fShieldmat" name="Shieldmate" description="You can protect those near you with your shield.\n\n{b}Prerequisite{/b}: Base attack bonus +1.\n\n{b}Benefit{/b}: When you are using a shield with which you are proficient, friendly creatures adjacent to you get a +1 shield bonus to their Armor Class. If you are using a tower shield, those creatures get a +2 shield bonus.\n\nThe creatures lose the bonus if they are no longer adjacent to you, if you&#146;re grappling, or if you&#146;re stunned, paralyzed, or otherwise unable to take actions.\n\nThis shield bonus doesn&#146;t stack with other shield bonuses the allied creatures may have.\n\n{b}Special{/b}: A fighter may select Shieldmate as one of his fighter bonus feats." compset="Feat" summary="Your shield grants shield bonus to adjacent ally." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    </thing>
  <thing id="fImpShmate" name="Improved Shieldmate" description="You have an outstanding ability to protect those near you with your shield.\n\n{b}Prerequisites{/b}: Shieldmate, base attack bonus +4.\n\n{b}Benefit{/b}: As Shieldmate, except that the bonus is +2, or +3 if you are using a tower shield.\n\n{b}Special{/b}: A fighter may select Improved Shieldmate as one of his fighter bonus feats." compset="Feat" summary="Bonus from shieldmate improves by +1." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    <exprreq message="Shieldmate feat required."><![CDATA[#hasfeat[fShieldmat] <> 0]]></exprreq>
    </thing>
  <thing id="fSidestep" name="Sidestep" description="You can move nimbly around the battlefield.\n\n{b}Prerequisites{/b}: Dex 15, Tumble 8 ranks, Dodge, Mobility.\n\n{b}Benefit{/b}: Once per round, when you make an attack of opportunity, you may take a 5-foot step after you attack. This 5-foot step doesn&#146;t count against your limit of one 5-foot step per round or against any movement you take on your turn." compset="Feat" summary="Gain 5-foot step after making attack of opportunity." uniqueness="useronce">
    <usesource source="MinHand"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Tumble rank 8 required."><![CDATA[#skillranks[kTumble] >= 8]]></exprreq>
    <exprreq message="Dodge feat required."><![CDATA[#hasfeat[fDodge] <> 0]]></exprreq>
    <exprreq message="Mobility feat required."><![CDATA[#hasfeat[fMobility] <> 0]]></exprreq>
    <exprreq message="Dexterity 15 required"><![CDATA[child[aDEX].field[aFinalVal].value >= 15]]></exprreq>
    </thing>
  <thing id="fSudEneSub" name="Sudden Energy Substitution" description="You can modify an energy-based spell to use another type of energy instead.\n\n{b}Prerequisites{/b}: Energy Substitution\n\n{b}Benefit{/b}: Once per day, you may apply the Energy Substitution feat to any spell you cast, without increasing the level of the spell or specially preparing it ahead of time. You may still use the Energy Substitution feat normally.\n\n{b}Special{/b}: You can gain this feat multiple times. Each time it applies to a different type of energy.\n\n{b}Note{/b}: This spell replaces {i}Energy Affinity{/i} from the Miniatures Handbook." compset="Feat" summary="Substitute spell energy with special preparation 1/day">
    <fieldval field="ftCandExpr" value="User.PickElem &amp; !User.ElemSoni"/>
    <fieldval field="hTotal" value="1"/>
    <usesource source="MinHand"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="Metamagic" name="Metamagic" abbrev="Metamagic"/>
    <exprreq message="Energy Substitution feat required."><![CDATA[tagcount[HasFeat.fEnergySub] <> 0]]></exprreq>
    </thing>
  </document>
