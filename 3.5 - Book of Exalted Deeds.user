<?xml version="1.0" encoding="ISO-8859-1"?>
<document signature="Hero Lab Data">
  <fileinfo>
    <info_history>02-24-11 Sendric
Removed (BoED) from feat names.

01-08-11 Lawful_G
Modified Hands of a Healer to work with new Lay on Hands mechanic.

c6-12-10</info_history>
    </fileinfo>
  <thing id="rGuaEquina" name="Guardinal, Equinal" description="{i}This creature resembles a human with some of the qualities of a draft horse. Its chest and shoulders are of heroic proportion, and its long arms end in thick, iron-hard fingers that make a creditable hoof when curled into a fist. Its legs are even more horselike, with a long foot ending in a true hoof. Its lower limbs are covered with short, bristly hair, and its face is long and narrow, with a long, wild mane running from the crest of its head down to the center of its back.{/i}\n\nAlong with cervidals, equinals are the most common guardinals. They are strong, boisterous, and generally good-natured champions of good.  Equinals stand just shy of 8 feet tall, but their chests are like barrels and they weigh 600 pounds or more. They speak Celestial and Common.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Race">
    <comment>Errata:
Added by TobyFox 2/8/2014
To do: Add each spell-like seperately for In-Play tab.</comment>
    <fieldval field="rSTR" value="10"/>
    <fieldval field="rDEX" value="1"/>
    <fieldval field="rCON" value="6"/>
    <fieldval field="rINT" value="3"/>
    <fieldval field="rWIS" value="5"/>
    <fieldval field="rCHA" value="7"/>
    <fieldval field="rSpeed" value="60"/>
    <fieldval field="rInfAutoLn" value="Celestial, Draconic, Infernal"/>
    <fieldval field="rHPStart" value="54"/>
    <fieldval field="rInfHit" value="6d8 Hit Dice (6 levels of Outsider)"/>
    <fieldval field="rSkillPlus" value="8"/>
    <fieldval field="rAC" value="11"/>
    <fieldval field="rCR" value="6"/>
    <fieldval field="rHitDice" value="6"/>
    <fieldval field="rAttack" value="7"/>
    <fieldval field="rFort" value="5"/>
    <fieldval field="rRef" value="5"/>
    <fieldval field="rWill" value="5"/>
    <fieldval field="rFeat" value="-3"/>
    <usesource source="MonManual1" parent="p35" name="Monster Manual"/>
    <tag group="RaceType" tag="NPC" name="NPC Race" abbrev="NPC Race"/>
    <tag group="Alignment" tag="Good" name="Good" abbrev="G"/>
    <tag group="Alignment" tag="NeutralLC" name="Neutral" abbrev="N"/>
    <tag group="ClassSkill" tag="Knowledge" name="All Knowledge Skills" abbrev="All Knowledge Skills"/>
    <tag group="ClassSkill" tag="kBalance" name="Balance" abbrev="Balance"/>
    <tag group="ClassSkill" tag="kConcent" name="Concentration" abbrev="Concentration"/>
    <tag group="ClassSkill" tag="kHide" name="Hide" abbrev="Hide"/>
    <tag group="ClassSkill" tag="kIntim" name="Intimidate" abbrev="Intimidate"/>
    <tag group="ClassSkill" tag="kJump" name="Jump" abbrev="Jump"/>
    <tag group="ClassSkill" tag="kListen" name="Listen" abbrev="Listen"/>
    <tag group="ClassSkill" tag="kMoveSil" name="Move Silently" abbrev="Move Silently"/>
    <tag group="ClassSkill" tag="kSenseMot" name="Sense Motive" abbrev="Sense Motive"/>
    <tag group="ClassSkill" tag="kSpot" name="Spot" abbrev="Spot"/>
    <tag group="ClassSkill" tag="kSurvival" name="Survival" abbrev="Survival"/>
    <tag group="Race" tag="typOutside" name="Type - Outsider" abbrev="Type - Outsider"/>
    <tag group="Hero" tag="NoDefComm" name="NoDefComm" abbrev="NoDefComm"/>
    <tag group="ClassSkill" tag="kCrafGemc"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kTumble"/>
    <tag group="Language" tag="Any" name="Any" abbrev="Any"/>
    <tag group="Race" tag="stypExPlan" name="Subtype - Extraplanar" abbrev="Subtype - Extraplanar"/>
    <tag group="Race" tag="stypGood" name="Subtype - Good" abbrev="Subtype - Good"/>
    <tag group="Race" tag="stypGuardi" name="Subtype - Guardinal" abbrev="Subtype - Guardinal"/>
    <tag group="RaceSize" tag="Large1"/>
    <bootstrap thing="lDraconic"></bootstrap>
    <bootstrap thing="xDamRdSil"></bootstrap>
    <bootstrap thing="lInfernal"></bootstrap>
    <bootstrap thing="stypGood"></bootstrap>
    <bootstrap thing="stypGuardi"></bootstrap>
    <bootstrap thing="wSlam">
      <autotag group="Helper" tag="NatPrimary"/>
      <autotag group="wMain" tag="1d8_6"/>
      <autotag group="Value" tag="2"/>
      </bootstrap>
    <bootstrap thing="xDamRdEvil"></bootstrap>
    <bootstrap thing="xDamRsCold"></bootstrap>
    <bootstrap thing="xDamRsSoni"></bootstrap>
    <bootstrap thing="kKnowPlane"></bootstrap>
    <bootstrap thing="kKnowRel"></bootstrap>
    <bootstrap thing="xSplRs"></bootstrap>
    <bootstrap thing="typOutside"></bootstrap>
    <bootstrap thing="stypExtraP"></bootstrap>
    <bootstrap thing="xWhinny"></bootstrap>
    <bootstrap thing="xSplAbEqui"></bootstrap>
    <bootstrap thing="lCelestial"></bootstrap>
    <bootstrap thing="fImpOver">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fImpSunder">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fPowerAtt">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <bootstrap thing="fRun">
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    <eval phase="PostLevel" priority="10000" index="2">~ Set up our spell resistance
      var damage as number
      damage = hero.child[Totals].field[tHitDice].value + 16
      #applysr[damage]</eval>
    <eval phase="First" priority="5000">var index as number
      index = field[cClsIndex].value

    hero.child[kBalance].field[kInnate].arrayvalue[index] += 2
    hero.child[kConcent].field[kInnate].arrayvalue[index] += 9
    hero.child[kDiplomacy].field[kInnate].arrayvalue[index] += 3
    hero.child[kHide].field[kInnate].arrayvalue[index] += 9
    hero.child[kJump].field[kInnate].arrayvalue[index] += 0
    hero.childfound[kKnowPlane].field[kInnate].arrayvalue[index] += 9
    hero.childfound[kKnowRel].field[kInnate].arrayvalue[index] += 9
    hero.child[kListen].field[kInnate].arrayvalue[index] += 9
    hero.child[kSenseMot].field[kInnate].arrayvalue[index] += 9
    hero.child[kSpot].field[kInnate].arrayvalue[index] += 9
    hero.child[kSurvival].field[kInnate].arrayvalue[index] += 9
    hero.child[kTumble].field[kInnate].arrayvalue[index] += 2

      ~ Set up our damage reduction
      #applydr[xDamRdSil, 10]
      #applydr[xDamRdEvil, 10]

      ~ Set our resistances
      #applyresist[xDamRsSoni, 10]
      #applyresist[xDamRsCold, 10]

      ~ We have 60 foot Darkvision
      hero.child[rDarkVis2].field[Value].value = maximum(60, hero.child[rDarkVis2].field[Value].value)</eval>
    </thing>
  <thing id="xSplAbEqui" name="Spell-Like Abilities: Equinal" description="At will&#151;{i}aid{/i} (DC 14), {i}command{/i} (DC13), {i}detect evil{/i}, {i}detect magic{/i}, {i}dimension door{/i} (DC 16), {i}dispel magic{/i}, {i}fog cloud{/i}, {i}light{/i}, {i}magic circle against evil{/i} (self only), {i}magic missile{/i}, and {i}see invisibility{/i}; 1/day&#151;{i}slow{/i} (DC 15) and {i}wall of stone{/i} (DC 17). Caster level 6th. The save DCs are Charisma-based." compset="Special" summary="Use many different spell like abilities.">
    <tag group="AbilType" tag="SpellLike" name="Spell-Like Ability" abbrev=" (Sp)"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="SpecType" tag="SpellLike" name="Spell-Like Ability" abbrev="Spell-Like Ability"/>
    </thing>
  <thing id="xWhinny" name="Whinny" description="Once per hour, as a free action, an equinal can emit a piercing shriek that affects all nonguardinals in a 20-foot spread. Creatures with 4 HD or fewer are stunned for 1d6 rounds, while creatures with more than 4 HD are deafened for 1d6 rounds. A successful DC 16 Fortitude save negates either effect. This is a sonic effect.  The save DC is Constitution-based." compset="Special" summary="Stun or Deafen creatures in 20ft spread.">
    <fieldval field="hTotal" value="1"/>
    <fieldval field="hName1" value="per hour"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="User" tag="PickFocus"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Super"/>
    <eval phase="PostAttr"><![CDATA[~ DC of Whinny 10 + (1/2 HD) + CHA
      var DC as number
      DC = herofield[tHitDice].value / 2
      DC = DC + 10 + hero.child[aCHA].field[aModBonus].value
      DC = round(DC, 0, -1)

      field[livename].text = "Whinny (F" & DC & ")"]]></eval>
    </thing>
  <thing id="fSanStrike" name="Sanctify Martial Strike" description="Sacred power suffuses your attacks with a certain kind of weapon.\n\n{b}Prerequisites{/b}: Cha 15, Weapon Focus with the specified weapon.\n\n{b}Benefit{/b}: Whenever you wield a specific kind of weapon, it deals 1 extra point of damage to evil creatures, or 1d4 points to evil outsiders and evil undead. In addition, that weapon is considered good-aligned for purposes of overcoming damage reduction.\n\n{b}Special{/b}: You can take this feat more than once, selecting a different weapon each time.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+1 dam vs evil foes, or +1d4 vs evil outsider/undead. Wep is good aligned.">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="fShowWhat" tag="Weapons"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Sanctify Martial Strike: " & field[fChosen].chosen.field[name].text
        endif]]></eval>
    <evalrule phase="Render" priority="12000" message="Weapon Focus with chosen weapon required."><![CDATA[doneif (field[fChosen].ischosen = 0)

var wpn as string
wpn = field[fChosen].chosen.idstring
wpn = "WepFocus." & wpn

validif (hero.tagcountstr[wpn] <> 0)]]></evalrule>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Weapon Focus with weapon required."><![CDATA[tagis[WepFocus.?] <> 0]]></exprreq>
    </thing>
  <thing id="fAnceRelic" name="Ancestral Relic" description="You own an ancestral heirloom and can invest it with increasing power.\n\n{b}Prerequisites{/b}: Any good alignment, character level 3rd.\n\n{b}Benefit{/b}: Choose an item you own. The item must be of masterwork quality, and it must be an item that once belonged to a member of your family. Alternatively, the item may have belonged to another person to whom you are somehow connected, such as another member of your religious order.\n\nAt any time, you may retreat to a consecrated or hallowed location and spend time in prayer in order to awaken the spirits in your ancestral relic. This requires a sacrifice of valuable items worth the difference between the market price of the magic item your relic will become and the market price of your current relic. This sacrifice does not have to be gold&#151;you can sacrifice magic items or other goods worth the required amount, rather than selling your goods (at half value) to pay for the sacrifice. You must spend 1 day per 1,000 gp value you sacrifice. During this time, you must spend at least 8 hours each day in prayer or meditation, not stopping to eat or rest.\n\nFor example, a 4th-level paladin has a masterwork bastard sword she inherited from her grandfather. She makes sacrifices worth 2,000 gp and spends two days in prayer and fasting in the temple of Heironeous. When she emerges, her devotion has awakened the magic inherent in the blade, making it a {i}+1 bastard sword{/i}. When she reaches 7th level, she once again retreats to the temple for 6 days, sacrificing items worth an additional 6,000 gp to make her weapon a {i}+2 bastard sword{/i} (market price 8,000 gp). When she reaches 11th level, she can make it a {i}+2 holy bastard sword{/i} by making sacrifices worth 24,000 gp (the difference between 32,000 and 8,000 gp) and spending 24 days in prayer.\n\nA character&#146;s level dictates the maximum value of his or her ancestral relic, as shown in Table 4&#150;2.\n\nNo character may have more than one ancestral relic.\n\n{b}Table 4&#150;2: Ancestral Relic\nCharacter Level &#150;&#150; Max Relic Value{/b}\n3rd &#150;&#150; 1,350 gp \n4th &#150;&#150; 2,700 gp \n5th &#150;&#150; 4,500 gp \n6th &#150;&#150; 6,500 gp \n7th &#150;&#150; 9,500 gp \n8th &#150;&#150; 13,500 gp \n9th &#150;&#150; 18,000 gp \n10th &#150;&#150; 24,500 gp \n11th &#150;&#150; 33,000 gp \n12th &#150;&#150; 44,000 gp\n13th &#150;&#150; 55,000 gp\n14th &#150;&#150; 75,000 gp\n15th &#150;&#150; 100,000 gp\n16th &#150;&#150; 130,000 gp\n17th &#150;&#150; 170,000 gp\n18th &#150;&#150; 220,000 gp\n19th &#150;&#150; 290,000 gp\n20th &#150;&#150; 380,000 gp\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="You can enchant one item of your choice." uniqueness="useronce">
    <comment>Favored of the Companions, Knight of Stars, or Servant of the Heavens (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="General" name="General" abbrev="General"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Sanctify Martial Strike: " & field[fChosen].chosen.field[name].text
        endif]]></eval>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Character level 3rd required."><![CDATA[herofield[tLevel].value >= 3]]></exprreq>
    </thing>
  <thing id="fAniFriend" name="Animal Friend" description="Animals respond favorably to the aura of goodness that exudes from you.\n\n{b}Prerequisites{/b}: Cha 15, wild empathy class feature.\n\n{b}Benefit{/b}: You receive a +4 exalted bonus on wild empathy checks to sway the attitudes of animals and good-aligned magical beasts (including, but not limited to, blink dogs, unicorns, pegasi, and animals with the celestial template). In the case of good magical beasts, this bonus simply eliminates the penalty you normally take when trying to deal with magical beasts rather than animals.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+4 exalted bon to wild empathy vs animals &amp; good magical beasts." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Sanctify Martial Strike: " & field[fChosen].chosen.field[name].text
        endif]]></eval>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Wild Empathy required."><![CDATA[picklives[cRgrWildE] + picklives[cDrdWildE] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fCelestFam" name="Celestial Familiar" description="As long as you are able to acquire a new familiar, you may receive a celestial as a familiar.\n\n{b}Prerequisites{/b}: Able to acquire a new familiar, minimum level requirement (see below).\n\n{b}Benefit{/b}: When choosing a familiar, the following creatures are also available to you. You must choose a familiar whose alignment is the same as yours.\n\n{b}Familiar &#150; Alignment &#150; Arcane Spellcaster Level{/b}\nCelestial animal* &#150;&#150; Any good &#150;&#150; 3rd\nCoure eladrin &#150;&#150; Chaotic good &#150;&#150; 7th\nLantern archon &#150;&#150; Lawful good &#150;&#150; 7th\nMusteval guardinal &#150;&#150; Neutral good &#150;&#150; 7th\n* Apply the celestial template to any animal from the standard familiar list. Unlike other celestial familiars, a celestial animal grants its master the standard benefit for having an animal familiar of that type.\n\nThe celestial familiar is magically linked to its master like a normal familiar. The familiar uses the basic statistics for a creature of its kind, as given in the Monster Manual or this volume, except as noted below.\n\n{i}Hit Dice{/i}: For effects related to Hit Dice, use the master&#146;s level or the familiar&#146;s normal total, whichever is higher.\n{i}Hit Points{/i}: One-half the master&#146;s total or the familiar&#146;s normal total, whichever is higher.\n{i}Attacks{/i}: Use the master&#146;s base attack bonus or the familiar&#146;s, whichever is better.\n{i}Saving Throws{/i}: Use the master&#146;s base save bonuses if they are better than the familiar&#146;s.\n{i}Familiar Special Abilities{/i}: Use the information in the Familiars sidebar on pages 52&#150;53 of the Player&#146;s Handbook to determine additional abilities as you would for a normal familiar. With the exception of celestial animals, celestial familiars do not grant their masters any of the benefits that appear in that sidebar.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Gain a celestial creature as your familiar." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Able to acquire a new familiar required."><![CDATA[tagis[CompAvail.cArcFamil] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fCeleMount" name="Celestial Mount" description="Your special mount is a true creature of the heavens.\n\n{b}Prerequisites{/b}: Paladin level 4th.\n\n{b}Benefit{/b}: Your special mount gains the celestial creature template. It gains the ability to smite evil once per day, darkvision out to 60 feet, resistances (acid, cold, and electricity) based on its total Hit Dice, and damage reduction and spell resistance that increase as its Hit Dice increase. See the celestial creature template in the Monster Manual for details.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Apply the Celestial creature template to your special mount." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Paladin level 4th required."><![CDATA[#levelcount[Paladin] >= 4]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fExaltComp" name="Exalted Companion" description="Instead of an animal companion, you have a magical beast of good alignment.\n\n{b}Prerequisites{/b}: Able to acquire a new animal companion, minimum level requirement (see below).\n\n{b}Benefit{/b}: When choosing an animal companion, you may choose a magical beast as shown on the table below. You must choose a companion whose alignment is the same as yours, so only a ranger can have a blink dog, pegasus, or unicorn as a companion. Even though your companion is a magical beast, you can cast spells on it as though it were an animal. The exalted companion has all the normal abilities of a typical creature of its kind, as well as the characteristics of an animal companion determined by the druid or ranger&#146;s level.\n\n{b}Companion &#150;&#150; Alignment &#150;&#150; Druid Level{/b}* &#134;\nCelestial animal**&#150;&#150;  Any good&#134;&#134; &#150;&#150; Any\nBlink dog &#150;&#150; Lawful good &#150;&#150; 4th (&#150;3)\nAsperi** &#150;&#150; Neutral good &#150;&#150; 7th (&#150;6)\nGiant eagle &#150;&#150; Neutral good &#150;&#150; 7th (&#150;6)\nGiant owl &#150;&#150; Neutral good &#150;&#150; 7th (&#150;6)\nPegasus &#150;&#150; Chaotic good &#150;&#150; 7th (&#150;6)\nUnicorn &#150;&#150; Chaotic good &#150;&#150; 7th (&#150;6)\n\n* A ranger&#146;s effective druid level, for purposes of this feat, is half his ranger level.\n&#134; Subtract the number in parentheses from the druid&#146;s level (or the ranger&#146;s effective druid level) for purposes of determining the companion&#146;s characteristics and special abilities as shown on page 36 of the Player&#146;s Handbook.\n** Apply the celestial creature template to a potential animal companion listed in the Player&#146;s Handbook.\n&#134;&#134; Subtract an extra &#150;1 from the druid&#146;s level (or the ranger&#146;s effective druid level) for purposes of determining the companion&#146;s characteristics and special abilities.\n*** Monster detailed in the Monster Manual II.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Gain an animal companion from an extended list." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Ability to acquire a new animal companion required."><![CDATA[tagis[CompAvail.cAnimComp] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fConSpAbil" name="Consecrate Spell-like Ability" description="You can channel holy power into your spell-like abilities. \n\n{b}Prerequisites{/b}: Any good alignment.\n\n{b}Benefit{/b}: This feat adds the good descriptor to a spell-like ability. Furthermore, if the ability deals damage, half that damage (rounded down) results from divine power and can&#146;t be reduced by resistance or immunity to energy-based attacks. For example, if a consecrated {i}lightning bolt{/i} from an avoral deals 31 points of damage, 16 points of that is electricity damage and the other 15 points is not. Thus, a non good creature immune to electricity still takes 15 points of damage if it fails its Reflex save.\n\nEach of your spell-like abilities can be consecrated three times per day, though this feat does not allow you to exceed your normal usage limit for any ability. Thus, if a tulani eladrin chooses to consecrate its {i}chain lightning{/i} ability, it can use a consecrated {i}chain lightning{/i} up to three times that day. Thereafter, it could use its {i}chain lightning{/i} ability again normally (since it can use {i}chain lightning{/i} at will), or it could consecrate another of its spell-like abilities, such as {i}meteor swarm{/i}.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="3/day for each spell-like abil, half dam is divine power &amp; ignores resistance." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fConSpTrig" name="Consecrate Spell Trigger" description="You can channel holy power through a spell trigger item, such as a wand or staff.\n\n{b}Prerequisites{/b}: Craft Wand or Craft Staff, ability to turn undead.\n\n{b}Benefit{/b}: When you use a spell trigger item, such as a wand or staff, you can use one of your turning attempts for the day to trigger the item. You still expend a charge from the wand or staff. The spell cast by the item is modified as though it had the Consecrate Spell feat applied to it.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Use turn to apply Consecrate Spell MM effect to spell from staff/wand." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Craft Wand or Craft Staff required."><![CDATA[#hasfeat[fCraftStf] + #hasfeat[fCraftWand] <> 0]]></exprreq>
    <exprreq message="Turn Undead required."><![CDATA[hero.tagis[Hero.TurnUndead] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fExaltSmit" name="Exalted Smite" description="Your smite ability is empowered with holy energy.\n\n{b}Prerequisites{/b}: Smite evil class ability.\n\n{b}Benefit{/b}: When you use your smite evil ability, your weapon is considered good-aligned for purposes of bypassing damage reduction.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Weapon is considered good aligned when smiting evil" uniqueness="useronce">
    <comment>Pre-req (done)

Test pre req? Not working.... need to make custom replace for smite in core book mods. (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Smite Evil required."><![CDATA[hero.tagis[User.SmiteEvil] <> 0]]></exprreq>
    </thing>
  <thing id="fExaSplRes" name="Exalted Spell Resistance" description="You are particularly resistant to evil spells.\n\n{b}Prerequisites{/b}: Cha 15, spell resistance.\n\n{b}Benefit{/b}: Against evil spells (spells with the evil designator) and spell-like abilities used by evil outsiders, your spell resistance increases by +4.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+4 to SR vs evil spells." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Spell Resistance required."><![CDATA[hero.childfound[xSplRs].field[Value].value <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fExaltTurn" name="Exalted Turning" description="You turn undead with such power that affected undead take damage.\n\n{b}Prerequisites{/b}: Ability to turn undead.\n\n{b}Benefit{/b}: Any undead creature that you turn takes 3d6 points of damage in addition to the normal turning effect.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Undead affected by your turning take 3d6 dam." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Turn Undead required."><![CDATA[hero.tagis[Hero.TurnUndead] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fExWildSha" name="Exalted Wild Shape" description="You can use your wild shape ability to take the form of a goodaligned magical beast.\n\n{b}Prerequisites{/b}: Wild shape class ability, wild shaping class level 8th.\n\n{b}Benefit{/b}: You can use your wild shape ability to turn yourself into a blink dog, giant eagle, giant owl, pegasus, or unicorn. You can also turn into a celestial version of any animal you could normally transform into. (At the DM&#146;s discretion, other magical beast forms might be available to you. In general, only creatures of CR 3 or lower are possible.) You gain the extraordinary and supernatural abilities of the creature. This ability counts as a use of your wild shape ability and functions the same way.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="May wild shape into celestial animals or select magical beasts." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="First">perform hero.assign[fCategory.Wild]</eval>
    <exprreq message="Wild Shape required."><![CDATA[hero.tagis[Hero.WildShape] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Wild shaping class level 8th required."><![CDATA[hero.childfound[cDrdWild1].field[xTotalLev].value >= 8]]></exprreq>
    </thing>
  <thing id="fFavorComp" name="Favored of the Companions" description="You swear allegiance to Talisid or one of the Five Companions, the paragons of the guardinals, and in exchange gain power to act on their behalf.\n\n{b}Benefit{/b}: Once per day, while performing an act of good, you may call upon your guardinal patron to gain a +1 luck bonus on any one roll or check.\n\n{b}Special{/b}: Once you take this feat, you may not take it again, nor can you take either the Servant of the Heavens feat or the Knight of Stars feat. Your allegiance is only yours to give once.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="1/day, +1 luck bon on any roll or check." uniqueness="useronce">
    <comment>Others (Done)</comment>
    <fieldval field="hTotal" value="1"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Only one celestial patron allowed.">#hasfeat[fKnighStar] + #hasfeat[fSerHeaven] = 0</exprreq>
    </thing>
  <thing id="fFistHeavn" name="Fist of the Heavens" description="Your stunning attack is empowered by celestial might.\n\n{b}Prerequisites{/b}: Wis 15, Sanctify {i}Ki{/i} Strike, Stunning Fist.\n\n{b}Benefit{/b}: The saving throw DC of your Stunning Fist increases by 2 when you use it against an evil creature. If the stunning attack succeeds, the creature is staggered for 1 round following the round it is stunned.\n\n{b}Special{/b}: A fighter may select Fist of the Heavens as one of his fighter bonus feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+2 DC vs evil foes for Stunning Fist, and staggered rd after stunned." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Wisdom 15 required."><![CDATA[child[aWIS].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Sanctify Ki Strike required."><![CDATA[#hasfeat[fSancKiStr] <> 0]]></exprreq>
    <exprreq message="Stunning Fist required."><![CDATA[#hasfeat[fStunFist] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fGiftFaith" name="Gift of Faith" description="You have an unusual capacity to trust in divine providence working all things for the good.\n\n{b}Prerequisites{/b}: Wis 13.\n\n{b}Benefit{/b}: You gain a +2 bonus on saving throws to resist any fear effect, despair effect (such as the {i}crushing despair{/i} spell), or similar mind-affecting condition, but not charms or compulsions (such as the {i}charm person{/i} and {i}dominate person{/i} spells).\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+2 bon vs fear, despair, &amp; mind affecting (except for charm/compulsion)." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Wisdom 13 required."><![CDATA[child[aWIS].field[aFinalVal].value >= 13]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fGiftGrace" name="Gift of Grace" description="You can improve the saving throws of your allies by sharing some of your divine grace.\n\n{b}Prerequisites{/b}: Divine grace class ability.\n\n{b}Benefit{/b}: You can give up some of your saving throw bonus granted by divine grace and share it with one or more other characters. You can sacrifice any amount of your own divine grace, up to your full Charisma bonus. You can divide that bonus among allies that you touch, to a maximum of one ally per character level you possess. For example, if you are a 5th-level paladin with a +3 Charisma bonus, you can give three characters each a +1 bonus on their saving throws, one character a +3 bonus, two characters a +1 bonus (keeping a +1 bonus for yourself), or any similar division of your +3 bonus.\n\nThis shared divine grace lasts for one day or until you revoke it (as a free action).\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Transfer some or all of Divine Grace to one or more allies." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <exprreq message="Divine Grace required."><![CDATA[hero.tagis[User.DivineGrc] + hero.childfound[cPalDivGrc].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fHandHeale" name="Hands of a Healer" description="You can heal more damage than normal by laying on hands.\n\n{b}Prerequisites{/b}: Cha 13, lay on hands class ability.\n\n{b}Benefit{/b}: When determining how many hit points you can cure, treat your Charisma score as if it were 2 points higher. For example, a 7th-level paladin with a 16 Charisma could cure up to 28 points of damage per day with this feat.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="PostLevel" priority="10000">~ We gain additional charges = to our level
      hero.childfound[xLayOnHand].field[hTotal].value += hero.childfound[cPalLayHn2].field[xTotalLev].value</eval>
    <exprreq message="Charisma 13 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 13]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Lay on Hands required."><![CDATA[hero.childfound[cPalLayHnd].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    </thing>
  <thing id="fHolyKiStr" name="Holy Ki Strike" description="Your unarmed attacks deal extra damage to evil creatures.\n\n{b}Prerequisites{/b}: Cha 15, Improved Unarmed Strike, {i}Ki{/i} strike (lawful), Sanctify {i}Ki{/i} Strike.\n\n{b}Benefit{/b}: Your unarmed strike deals 2d6 points of extra holy damage to evil creatures. In addition, it is considered holy, which means that it can bypass the damage reduction of some evil outsiders. This does not stack with the extra damage from the Sanctify {i}Ki{/i} Strike feat.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Unarmed strike does +2d6 dam vs evil foes, and bypasses DR as good aligned." uniqueness="useronce">
    <comment>Pre-req.... Ki strike (holy) no longer exists (Changed to lawful, Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Improved Unarmed Strike required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <exprreq message="Ki strike (lawful) required."><![CDATA[hero.childfound[cMnkKiLaw].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    </thing>
  <thing id="fKnighStar" name="Knight of the Stars" description="You swear allegiance to the Court of Stars, the paragons of the eladrin, and in exchange gain power to act on their behalf.\n\n{b}Benefit{/b}: Once per day, while performing an act of good, you may call upon your eladrin patron to gain a +1 luck bonus on any one roll or check.\n\n{b}Special{/b}: Once you take this feat, you may not take it again, nor can you take either the Servant of the Heavens feat or the Favored of the Companions feat. Your allegiance is only yours to give once.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="1/day, +1 luck bon on any roll or check." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Sanctify Martial Strike: " & field[fChosen].chosen.field[name].text
        endif]]></eval>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Only one celestial patron allowed.">#hasfeat[fSerHeaven] + #hasfeat[fFavorComp] = 0</exprreq>
    </thing>
  <thing id="fSerHeaven" name="Servant of the Heavens" description="You swear allegiance to one of the Tome Archons who rule the Seven Heavens, and in exchange gain power to act on their behalf.\n\n{b}Benefit{/b}: Once per day, while performing an act of good, you may call upon your archon patron to gain a +1 luck bonus on any one roll or check.\n\n{b}Special{/b}: Once you take this feat, you may not take it again, nor can you take either the Knight of Stars feat or the Favored of the Companions feat. Your allegiance is only yours to give once.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="1/day, +1 luck bon on any roll or check." uniqueness="useronce">
    <fieldval field="hTotal" value="1"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec" name="ShowSpec" abbrev="ShowSpec"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Sanctify Martial Strike: " & field[fChosen].chosen.field[name].text
        endif]]></eval>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Only one celestial patron allowed.">#hasfeat[fKnighStar] + #hasfeat[fFavorComp] = 0</exprreq>
    </thing>
  <thing id="fHolyRadia" name="Holy Radiance" description="You can increase the intensity of the light surrounding you to damage undead creatures.\n\n{b}Prerequisites{/b}: Cha 15, Nimbus of Light.\n\n{b}Benefit{/b}: At will, as a free action, you can empower the radiance surrounding you into a blazing glow that sheds bright light in a 10-foot radius (and shadowy illumination out to 20 feet). Undead within 10 feet of you take 1d4 points of damage per round they remain within your halo.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Free, glow is bright to 10 ft, shadowy to 20. Undead in 10 ft take 1d4 dam/rd." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Nimbus of Light required."><![CDATA[#hasfeat[fNimbLight] <> 0]]></exprreq>
    </thing>
  <thing id="fHolySubdu" name="Holy Subdual" description="You can turn bonus damage into nonlethal damage.\n\n{b}Prerequisites{/b}: Subduing Strike.\n\n{b}Benefit{/b}: When you use your weapon to deal nonlethal damage, you can also transform bonus damage from a holy weapon, your smite evil class ability, or your smite granted power into nonlethal damage.\n\n{b}Special{/b}: A fighter may select Holy Subdual as one of his fighter bonus feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="If use wep to do nonlethal dam can also convert smite/holy dam to nonlethal." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Subduing Strike required."><![CDATA[#hasfeat[fSubdueStr] <> 0]]></exprreq>
    </thing>
  <thing id="fIntuitAtt" name="Intuitive Attack" description="You fight by faith more than brute strength.\n\n{b}Prerequisites{/b}: Base attack bonus +1.\n\n{b}Benefit{/b}: With a simple weapon of your size or a natural weapon, you may use your Wisdom modifier instead of your Strength modifier on attack rolls.\n\n{b}Special{/b}: A fighter may select Intuitive Attack as one of his fighter bonus feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="BonusFor" tag="Fighter"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[      var bonus as number
      var minus as number
      bonus = hero.child[aWIS].field[aModBonus].value
      minus = hero.child[aSTR].field[aModBonus].value

      doneif (minus >= bonus)

      var diff as number
      diff = bonus - minus

      ~ Since our wisdom is higher and we passed, subtract strength from our melee attacks and add wisdom instead. 
      foreach pick in hero from BaseWep where "wProfReq.Simple|component.BaseNatWep"
         each.field[wAttack].value += diff
      nexteach]]></eval>
    <exprreq message="Base attack bonus +1 required."><![CDATA[child[Attack].field[tAtkBase].value >= 1]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fNemesAber" name="Nemesis" description="You are the holy bane of creatures of a particular type.\n\n{b}Prerequisites{/b}: Favored enemy class ability.\n\n{b}Benefit{/b}: Choose one of your favored enemies. You can sense the presence of creatures of this type within 60 feet, as well as pinpoint their exact location (distance and direction) relative to you. Normal barriers and obstructions do not block this supernatural ability, allowing you to sense the presence and location of creatures behind doors or walls, for example. This feat does not allow you to see an invisible or hidden creature (although you can still discern its location).\n\nIn addition to sensing the presence of your favored enemy, you deal +1d6 points of damage on weapon attack rolls made against evil representatives of the favored enemy creature type.\n\n{b}Special{/b}: You can choose this feat multiple times. Its effects do not stack. Each time you select this feat, it applies to a different favored enemy.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Sense presence &amp; pinpoint favored enemies in 60 ft, +1d6 wep dam if evil.">
    <comment>Pre req (Done)

Multi (Done)</comment>
    <fieldval field="ftCandExpr" value="User.PickEnemy"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="SpecType" tag="Sense"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Nemesis: " & field[fChosen].chosen.field[name].text
      endif]]></eval>
    <evalrule phase="Validation" priority="10000" message="Must choose a Favored Enemy!" summary="Must choose a Favored Enemy!"><![CDATA[   if (field[fChosen].chosen.tagis[User.EnemyAber] <> 0) then
      validif (hero.childfound[feAberr].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyAnim] <> 0) then
      validif (hero.childfound[feAnimal].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyCons] <> 0) then
      validif (hero.childfound[feConstr].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyDrag] <> 0) then
      validif (hero.childfound[feDragon].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyElem] <> 0) then
      validif (hero.childfound[feElement].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyFey] <> 0) then
      validif (hero.childfound[feFey].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyGian] <> 0) then
      validif (hero.childfound[feGiant].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuAq] <> 0) then
      validif (hero.childfound[feHumAqua].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuDw] <> 0) then
      validif (hero.childfound[feHumDwarf].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuEl] <> 0) then
      validif (hero.childfound[feHumElf].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuGl] <> 0) then
      validif (hero.childfound[feHumGnoll].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuGn] <> 0) then
      validif (hero.childfound[feHumGnome].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuGo] <> 0) then
      validif (hero.childfound[feHumGobln].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuHa] <> 0) then
      validif (hero.childfound[feHumHalfl].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuHu] <> 0) then
      validif (hero.childfound[feHumHuman].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuOr] <> 0) then
      validif (hero.childfound[feHumOrc].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyHuRe] <> 0) then
      validif (hero.childfound[feHumRept].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyMaBe] <> 0) then
      validif (hero.childfound[feMagicBst].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyMoHu] <> 0) then
      validif (hero.childfound[feMonstHum].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOoze] <> 0) then
      validif (hero.childfound[feOoze].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuAi] <> 0) then
      validif (hero.childfound[feOutAir].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuCh] <> 0) then
      validif (hero.childfound[feOutChaos].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuEa] <> 0) then
      validif (hero.childfound[feOutEarth].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuEv] <> 0) then
      validif (hero.childfound[feOutEvil].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuFi] <> 0) then
      validif (hero.childfound[feOutFire].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuGo] <> 0) then
      validif (hero.childfound[feOutGood].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuLa] <> 0) then
      validif (hero.childfound[feOutLaw].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuNa] <> 0) then
      validif (hero.childfound[feOutNat].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyOuWa] <> 0) then
      validif (hero.childfound[feOutWater].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyPlan] <> 0) then
      validif (hero.childfound[feOutPlant].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyUnde] <> 0) then
      validif (hero.childfound[feUndead].tagis[Helper.ShowSpec] <> 0)
   endif

   if (field[fChosen].chosen.tagis[User.EnemyVerm] <> 0) then
      validif (hero.childfound[feVermin].tagis[Helper.ShowSpec] <> 0)
   endif]]></evalrule>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fNimbLight" name="Nimbus of Light" description="You are cloaked in a radiant light that marks you as a servant of the purest ideals. All who look upon you know without a doubt that you are a champion of good and are favored by the powers of the Upper Planes. The nimbus may take the form of a cloud surrounding your entire body, or it may appear as beams of light around your head.\n\n{b}Benefit{/b}: Good creatures automatically recognize the radiance surrounding you as a sign of your purity and devotion to the powers of good. You gain a +2 circumstance bonus on all Diplomacy and Sense Motive checks made when interacting with good creatures.\n\nYour radiance sheds light as a common lamp: bright light to a radius of 5 feet and shadowy illumination to 10 feet. You can extinguish this radiance at will and reactivate it again as a free action.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Free, glow bright to 5, shad to 10 ft. +2 circ bon Diplo &amp; Sense mot vs good." uniqueness="useronce">
    <comment>Too long? (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fNymphKiss" name="Nymph&apos;s Kiss" description="By maintaining an intimate relationship with a good-aligned fey (such as a nymph or dryad), you gain some of the characteristics of fey.\n\n{b}Benefit{/b}: Fey creatures regard you as though you were fey. You gain a +2 circumstance bonus on all Charisma-related checks, and a +1 bonus on all saving throws against spells and spell-like abilities. Starting with the level when you take this feat, you gain 1 extra skill point per level.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+1 bon vs spells/spell like abilities. Fey treat you as one of thier own." uniqueness="useronce">
    <comment>Skill Point question... still working on this. (Done)

Eval for Cha skills (Done)</comment>
    <fieldval field="ftCandExpr" value="User.PickLev2"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
        ~ Iterate through all our skills
    foreach pick in hero from BaseSkill
        ~ If this skill has a linkage to the Charisma attribute, give it a +2 circumstance bonus.
      if (eachpick.islinkage[skillattr] <> 0) then
        if (eachpick.linkage[skillattr].tagis[thingid.aCHA] <> 0) then
          each.field[ModCirc].value += 2
        endif
      endif
    nexteach]]></eval>
    <eval phase="First" index="2"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
        endif

      ~ Forward the User Level tags from that thing to the hero (this will be used to determine how many bonus exalted feats we get.
      var result as number
      result = field[fChosen].chosen.forward[User.Lvl?]]]></eval>
    <eval phase="UserPostLv" priority="10000" index="3"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

   ~ First check for the tag that tells us what level the feat was taken at.
   var level as number
   if (hero.tagis[User.Lvl20] <> 0) then
     level = 20
   elseif (hero.tagis[User.Lvl19] <> 0) then
     level = 19
   elseif (hero.tagis[User.Lvl18] <> 0) then
     level = 18
   elseif (hero.tagis[User.Lvl17] <> 0) then
     level = 17
   elseif (hero.tagis[User.Lvl16] <> 0) then
     level = 16
   elseif (hero.tagis[User.Lvl15] <> 0) then
     level = 15
   elseif (hero.tagis[User.Lvl14] <> 0) then
     level = 14
   elseif (hero.tagis[User.Lvl13] <> 0) then
     level = 13
   elseif (hero.tagis[User.Lvl12] <> 0) then
     level = 12
   elseif (hero.tagis[User.Lvl11] <> 0) then
     level = 11
   elseif (hero.tagis[User.Lvl10] <> 0) then
     level = 10
   elseif (hero.tagis[User.Lvl9] <> 0) then
     level = 9
   elseif (hero.tagis[User.Lvl8] <> 0) then
     level = 8
   elseif (hero.tagis[User.Lvl7] <> 0) then
     level = 7
   elseif (hero.tagis[User.Lvl6] <> 0) then
     level = 6
   elseif (hero.tagis[User.Lvl5] <> 0) then
     level = 5
   elseif (hero.tagis[User.Lvl4] <> 0) then
     level = 4
   elseif (hero.tagis[User.Lvl3] <> 0) then
     level = 3
   elseif (hero.tagis[User.Lvl2] <> 0) then
     level = 2
   elseif (hero.tagis[User.Lvl1] <> 0) then
     level = 1
   endif

~search through all the class levels
foreach pick in hero from BaseClass
  ~for each class level that's at or above the level we've chosen
  if (each.field[cLvlIndex].value >= level) then
    ~retrieve the cClsIndex from the class helper, and use that to figure
    ~out which arrayvalue of the skill totals array to add a bonus to
 
    ~we'll add +1, since this will repeat once for every class level
    herofield[tSkTotals].arrayvalue[eachpick.linkage[helper].field[cClsIndex].value] += 1
 
    ~if the feat was taken at level 1, and we're modifying the class level
    ~at level 1, add another 3 skill points, so that we've added +4 total
    ~for this level
    if (level = 1) then
      if (each.field[cLvlIndex].value = 1) then
        herofield[tSkTotals].arrayvalue[eachpick.linkage[helper].field[cClsIndex].value] += 3
        endif
      endif
    endif
  nexteach]]></eval>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fPurifySpl" name="Purify Spell" description="You can charge your damaging spells with celestial energy that leaves good creatures unharmed.\n\n{b}Prerequisites{/b}: Any good alignment.\n\n{b}Benefit{/b}: A spell you modify with this feat gains the good descriptor. Furthermore, if the spell deals damage, neutral creatures take half damage, or one-quarter with a successful saving throw (if allowed), while good creatures take no damage at all. Evil outsiders affected by the spell take extra damage: The spell&#146;s damage is increased by one die type (each 1d6 becomes 1d8, each 1d8 becomes 2d6, and so on, using the same progression as weapons increasing in size). For example, a purified {i}lightning bolt{/i} cast by a 7th-level wizard deals 7d6 points of electricity damage to evil creatures, half damage to neutral creatures, and no damage at all to good creatures caught in its path. Evil outsiders (except ones immune to electricity) take 7d8 points of damage.\n\nA purified spell uses up a spell slot one level higher than the spell&#146;s actual level.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Extra dam to evil outsiders, &#189; to neutral &amp; none to good. Add good desc, +1 Level." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Metamagic"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fPureSpLAb" name="Purify Spell-Like Ability" description="You can charge your damaging spell-like abilities with celestial energy that leaves good creatures unharmed.\n\n{b}Prerequisites{/b}: Any good alignment.\n\n{b}Benefit{/b}: This feat adds the good descriptor to a spell-like ability. Furthermore, if the ability deals damage, neutral creatures take half damage, or one-quarter with a successful saving throw (if allowed), while good creatures take no damage at all. Evil outsiders affected by the ability take extra damage: The ability&#146;s damage is increased by one die type (each 1d6 becomes 1d8, each 1d8 becomes 2d6, and so on, using the same progression as weapons increasing in size). For example purified {i}lightning bolt{/i} cast by an avoral deals 8d6 points of electricity damage to evil creatures, half damage to neutral creatures, and no damage at all to good creatures caught in its path. Evil outsiders (except ones immune to electricity) take 8d8 points of damage.\n\nEach of your spell-like abilities can be purified three times per day, though this feat does not allow you to exceed your normal usage limit for any ability. Thus, if a tulani eladrin chooses to purify its {i}chain lightning{/i} ability, it can use a purified {i}chain lightning{/i} up to three times that day. Thereafter, it could use its {i}chain lightning{/i} ability again normally (since it can use {i}chain lightning{/i} at will), or it could purify another of its spell-like abilities, such as {i}meteor swarm{/i}.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="3/day each, extra dam to evil outsiders, 1/2 to neutral &amp; none to good." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fPurSpTrig" name="Purify Spell Trigger" description="You can channel holy power through a spell trigger item, such as a wand or staff.\n\n{b}Prerequisites{/b}: Craft Wand or Craft Staff, ability to turn undead.\n\n{b}Benefit{/b}: When you use a spell trigger item, such as a wand or staff, you can use one of your turning attempts for the day to trigger the item. You still expend a charge from the wand or staff. The spell cast by the item is modified as though it had the Purify Spell feat applied to it.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Use 1 turn when activate wand/staff, apply Purify Spell MM to effect." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Craft Wand or Craft Staff required."><![CDATA[#hasfeat[fCraftStf] + #hasfeat[fCraftWand] <> 0]]></exprreq>
    <exprreq message="Turn Undead required."><![CDATA[hero.tagis[Hero.TurnUndead] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fQuellProf" name="Quell the Profane" description="Your mightiest attacks weaken evil foes.\n\n{b}Prerequisites{/b}: Str 13, Power Attack, Resounding Blow, base attack bonus +8.\n\n{b}Benefit{/b}: Whenever you deal a critical hit to an evil creature using a melee weapon with which you are proficient, your opponent must succeed on a Fortitude save (DC 10 + 1/2 your character level + your Cha modifier) or take 1d4+1 points of temporary Strength damage. A monk&#146;s unarmed strike is considered a melee weapon for purposes of this feat.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="When crit evil foe in melee deal 1d4+1 Str dam (DCXX Fort neg)." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[      var DC as number
      DC = 10 + round(herofield[tHitDice].value/2,0,-1) + hero.child[aCHA].field[aModBonus].value

      field[xSumm].text = "When crit evil foe in melee deal 1d4+1 Str dam (DC" & DC & " Fort neg)."]]></eval>
    <exprreq message="Strength 13 required."><![CDATA[child[aSTR].field[aFinalVal].value >= 13]]></exprreq>
    <exprreq message="Power Attack required."><![CDATA[#hasfeat[fPowerAtt] <> 0]]></exprreq>
    <exprreq message="Resounding Blow required."><![CDATA[#hasfeat[fResouBlow] <> 0]]></exprreq>
    <exprreq message="Base attack bonus +8 required."><![CDATA[child[Attack].field[tAtkBase].value >= 8]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fRngSmite" name="Ranged Smite Evil" description="Your smite ability can be channeled through your ranged weapon.\n\n{b}Prerequisites{/b}: Smite evil class ability.\n\n{b}Benefit{/b}: Your smite evil ability can be channeled through a missile that you fire. This counts as one use of your smite evil ability.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Smite evil can be channeled through a ranged attack." uniqueness="useronce">
    <comment>Pre req (Done)

Test pre req? Not working.... need to make custom replace for smite in core book mods. (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Smite Evil required."><![CDATA[hero.tagis[User.SmiteEvil] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fResouBlow" name="Resounding Blow" description="Your mightiest attacks cause your foes to tremble before you.\n\n{b}Prerequisites{/b}: Str 13, Power Attack, Intimidate 7 ranks.\n\n{b}Benefit{/b}: Whenever you deal a critical hit using a melee weapon with which you are proficient, your opponent must succeed on a Will save (DC 10 + 1/2 your character level + your Cha modifier) or cower for 1 round. A monk&#146;s unarmed strike is considered a melee weapon for purposes of this feat.\n\n{b}Special{/b}: A fighter may select Resounding Blow as one of her fighter bonus feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="When crit foe in melee they cower 1 rd (DCXX Will neg)." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[      var DC as number
      DC = 10 + round(herofield[tHitDice].value/2,0,-1) + hero.child[aCHA].field[aModBonus].value

      field[xSumm].text = "When crit foe in melee they cower 1 rd (DC" & DC & " Will neg)."]]></eval>
    <exprreq message="Power Attack required."><![CDATA[#hasfeat[fPowerAtt] <> 0]]></exprreq>
    <exprreq message="Intimidate 7 ranks required."><![CDATA[#skillranks[kIntim] >= 7]]></exprreq>
    <exprreq message="Strength 13 required."><![CDATA[child[aSTR].field[aFinalVal].value >= 13]]></exprreq>
    </thing>
  <thing id="fRighWrath" name="Righteous Wrath" description="Your rage is empowered with divine fury.\n\n{b}Prerequisites{/b}: Rage class ability.\n\n{b}Benefit{/b}: When you first deal damage with a melee attack against an evil foe during your rage, that creature must make a successful Will saving throw (DC 10 + 1/2 your raging class level + your Cha modifier) or be shaken. If you fail to affect a creature the first time you hit it, you cannot affect it in that encounter. The shaken effect remains until you withdraw or are killed or incapacitated.\n\nWhile raging, you maintain clarity of mind unusual among barbarians. You are perfectly able to deal nonlethal damage, stop your attacks to show mercy, and distinguish friend from foe even in the heat of your rage.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Evil foe may be shaken on first hit of rage (DCXX Will neg). Mind remains clear." uniqueness="useronce">
    <comment>Pre req (Done)</comment>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Rage required."><![CDATA[hero.childfound[cAveRage].tagis[Helper.ShowSpec] + hero.childfound[cBbnRage].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fSacredStr" name="Sacred Strike" description="Your sneak attack is enhanced by your unshakable faith in a good-aligned deity.\n\n{b}Prerequisites{/b}: Sneak attack class ability.\n\n{b}Benefit{/b}: When you use your sneak attack ability against an evil creature, roll d8s for your sneak attack dice (instead of d6s) and your sneak attack damage is considered good-aligned for purposes of overcoming damage reduction.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Sneak attacks vs evil foes roll d8s instead of d6s." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Sneak Attack required."><![CDATA[hero.childfound[xSneakAtt].field[Value].value >= 1]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fSacredVow" name="Sacred Vow" description="You have willingly given yourself to the service of a good deity or cause, denying yourself an ordinary life to better serve your highest ideals.\n\n{b}Benefit{/b}: You gain a +2 perfection bonus on Diplomacy checks.\n\n{b}Special{/b}: This feat serves as the prerequisite for several other feats, including the Vow of Abstinence, Vow of Chastity, Vow of Nonviolence, Vow of Obedience, Vow of Peace, Vow of Poverty, and Vow of Purity.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <eval phase="First">#skillbonus[kDiplomacy] += 2</eval>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fSancKiStr" name="Sanctify Ki Strike" description="Sacred power suffuses your unarmed strikes.\n\n{b}Prerequisites{/b}: Improved Unarmed Strike, {i}Ki{/i} strike (lawful), Cha 15.\n\n{b}Benefit{/b}: Your unarmed strikes deal 1 extra point of damage to evil creatures, or 1d4 points to evil outsiders and evil undead. In addition, they are considered good-aligned for purposes of overcoming damage reduction.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Unarmed strike does +1 vs evil or +1d4 vs evil outsider/und &amp; is good aligned." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Improved Unarmed Strike required."><![CDATA[#hasfeat[fImpUnarm] <> 0]]></exprreq>
    <exprreq message="Ki strike (lawful) required."><![CDATA[hero.childfound[cMnkKiLaw].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fSancNaAtt" name="Sanctify Natural Attack" description="You can focus holy power into your natural attacks.\n\n{b}Prerequisites{/b}: One or more natural weapon attacks, base attack bonus +5.\n\n{b}Benefit{/b}: Each time you deal damage with a natural attack, you deal 1 extra point of damage to evil creatures, or 1d4 points to evil outsiders and evil undead. In addition, your natural attacks are considered good-aligned for purposes of overcoming damage reduction.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Natural attack does +1 vs evil or +1d4 vs evil outsider/und &amp; is good aligned." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Base attack bonus +5 required."><![CDATA[child[Attack].field[tAtkBase].value >= 5]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <prereq message="One or more natural weapons required.">
      <validate><![CDATA[
        validif (haschild[BaseNatWep] <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="fSancWep" name="Sanctify Weapon" description="You can focus holy power into your weapon.\n\n{b}Prerequisites{/b}: Able to cast {i}align weapon{/i}.\n\n{b}Benefit{/b}: When you cast {i}align weapon{/i}, the affected weapon also becomes sanctified. A sanctified weapon deals 1 extra point of holy damage to evil creatures or 1d4 points of damage to evil outsiders and evil undead. In addition, creatures with the corrupted template (described in the Book of Vile Darkness) cannot recover hit point damage dealt by a sanctified weapon by means of normal healing, including fast healing.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="{i}Align weapon{/i} does extra dam vs evil and is sanctified, corrupt foes can&apos;t heal." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <prereq message="Ability to cast {i}align weapon{/i} required.">
      <validate><![CDATA[ ~ To be able to cast align weapon, we need to be a 3rd level cleric with at least 12 Wisdom.
 if (#levelcount[Cleric] >= 3) then
   validif (child[aWIS].field[aFinalVal].value >= 12)
 endif]]></validate>
      </prereq>
    </thing>
  <thing id="fSpelFocGo" name="Spell Focus: Good" description="Your spells with the good descriptor are more potent than normal due to your relationship with the powers of good.\n\n{b}Prerequisites{/b}: Any good alignment.\n\n{b}Benefit{/b}: Add +2 to the Difficulty Class for all saving throws against your spells with the good descriptor.\n\n{b}Special{/b}: The +2 increase also applies to the Difficulty Class for a possessing fiend to Hide from your good spells such as {i}detect evil{/i} or {i}magic circle against evil{/i} (as detailed in the Book of Vile Darkness).\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="+2 DC for spells with the good descriptor." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fStigmata" name="Stigmata" description="You bear the marks of wounds on your body, as sort of a living martyrdom.\n\n{b}Prerequisite{/b}: Nimbus of Light.\n\n{b}Benefit{/b}: You can heal the wounds and ailments of others using your own life energy. When you activate this ability, as a free action, you immediately take at least 2 points of temporary Constitution damage. You can take as many points of Constitution damage as you wish, as long as you remain alive and conscious.\n\nOnce you have activated your stigmata, you can touch your allies to heal them of 1 point of damage per level they possess for every 2 points of Constitution damage you take. In addition, any character you touch who is suffering from a disease can immediately make a new saving throw against that disease with a sacred bonus equal to the number of points of Constitution damage you took. If the character succeeds on that saving throw, she is freed from the disease.\n\nYou can use this touch on one ally per point of Constitution damage you take. As with delivering a touch spell, you can touch up to six allies as a full-round action. A single person can only benefit once from each activation of your stigmata, but each activation lasts for 1 hour.\n\nFor example, if you sacrifice 4 points of Constitution, you can grant four allies a number of hit points of healing equal to twice their level. Each ally who was suffering from a disease would make a new saving throw with a +4 sacred bonus. If only two of your allies were wounded at the time you activated the stigmata, you could &#147;save&#148; the other two uses for up to 1 hour, in case other characters become wounded within that time. Even if the characters you originally healed were injured again, however, they could not benefit from the same activation of your stigmata.\n\nWhen you use this ability, the wounds on your body bleed in proportion to the Constitution damage you take. The bleeding persists for 1 hour, and the Constitution damage cannot be restored by any means until the bleeding has stopped. Once the bleeding has stopped, you can freely activate the stigmata again, whether or not you have recovered your lost Constitution, as long as you have enough Constitution left to use the ability and survive.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Take 2+ Con dam, free act to heal allies with touch and grant extra saves." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Nimbus of Light required."><![CDATA[#hasfeat[fNimbLight] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fToGoldIce" name="Touch of Golden Ice" description="Your touch is poisonous to evil creatures.\n\n{b}Prerequisites{/b}: Con 13.\n\n{b}Benefit{/b}: Any evil creature you touch with your bare hand, fist, or natural weapon is ravaged by golden ice (see Ravages and Afflictions in Chapter 3: Exalted Equipment for effects).\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Evil foes touched or struck suffer golden ice d6/2d6 Dex (DC14 Fort neg)." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Constitution 13 required."><![CDATA[child[aCON].field[aFinalVal].value >= 13]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fVowAbstai" name="Vow of Abstinence" description="You have taken a sacred vow to abstain from alcoholic beverages, drugs, stimulants such as caffeine, and intoxication.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: You gain a +4 perfection bonus on Fortitude saving throws against poisons and drugs (as long as you are subjected to a drug unwillingly).\n\n{b}Special{/b}: To fulfill your vow, you must not consume intoxicating, stimulating, depressant, or hallucinogenic substances, including alcohol, caffeine, and other drugs. If you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion, or otherwise unintentionally (a drug slipped into your drink, for example), you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must not take certain substances, +4 perfect bon vs poison/drugs." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fVowChaste" name="Vow of Chastity" description="You have taken a sacred vow to refrain from marriage and sexual intercourse.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: You gain a +4 perfection bonus on Will saving throws against charm and phantasm spells and effects.\n\n{b}Special{/b}: To fulfill your vow, you must abstain from any sexual contact with any other creature. If you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion, you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must not have sex, +4 perfect bon to Will saves vs charm/phantasm effects." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fVowNonvio" name="Vow of Nonviolence" description="You have taken a sacred vow to avoid violence against humanoids.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: The saving throw DC for spells you cast or other special abilities you use against humanoid or monstrous humanoid targets is increased by +4 if the spell does not deal damage (including ability damage but not nonlethal damage), bestow negative levels, or cause death. Spells affected by this feat include most Abjuration, Enchantment, and Illusion spells (though not {i}phantasmal killer{/i}, for example), those few Divination spells that have targets and require saving throws (including {i}detect thoughts{/i} and {i}discern lies{/i}), and even Necromancy spells such as {i}waves of fatigue{/i} and {i}ray of exhaustion{/i}. It does not affect most Evocation, Conjuration, and Transmutation spells.\n\nThe bonus granted by this feat does not stack with the bonus granted by the Spell Focus feat. It affects only saving throw DCs, not caster level checks or other elements of a spell.\n\nThe benefit of this feat extends to special abilities other than spells that allow a saving throw, but only if the ability does not deal damage and is not dependent on dealing damage. For example, a character with the Stunning Fist feat can increase the saving throw DC to avoid being stunned by +4 if she deals nonlethal damage, rather than regular damage, with her stunning attack. A couatl&#146;s venom would not become more virulent because of this feat, however, because it deals ability damage and requires the couatl to deal hit point damage in order to deliver it.\n\n{b}Special{/b}: To fulfill your vow, you must not cause harm or suffering to humanoid or monstrous humanoid foes. You may not deal real damage or ability damage to such foes through spells or weapons, though you may deal nonlethal damage. You may not target them with death effects, {i}disintegrate{/i}, pain effects, or other spells that have the immediate potential to cause death, suffering, or great harm.\n\nYour purity is so great that any ally of yours who slays a helpless or defenseless foe within 120 feet of you feels great remorse. Your ally takes a &#150;1 morale penalty on his attack rolls for 1 hour per your character level. For each helpless foe slain, the attack penalty increases by 1, to a maximum equal to your character level. The duration of the increased penalty starts from the latest slaying.\n\nYou may ask your allies to give you an oath that a helpless foe will not be slain. If the oath is sworn, an ally who later breaks the oath takes the penalty for doing so as if you were present. If you leave a helpless foe to be killed by your allies, you have broken your vow. You may ask a defeated creature to give you an oath of surrender or noninterference in exchange for its life. If the creature breaks this oath to you, you can allow your allies to deal with the creature as they see fit without breaking their oaths or your vow of nonviolence.\n\nIf you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion, you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Most not harm humanoids, +4 DC to spells/abilities if no harm to them." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    </thing>
  <thing id="fVowObedie" name="Vow of Obedience" description="You have taken a sacred vow to live according to the dictates of another, generally your superior in a religious order or similar organization.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: You gain a +4 perfection bonus on Will saving throws against compulsion spells and effects.\n\n{b}Special{/b}: To fulfill your vow, you must unquestioningly obey your superior and live according to the rules of your organization. If you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion, you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must obey dictates of another, +4 perfect bon to Will saves vs compulsion effects." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    </thing>
  <thing id="fVowPeace" name="Vow of Peace" description="You have taken a sacred vow to abstain from harming any living creature.\n\n{b}Prerequisites{/b}: Sacred Vow, Vow of Nonviolence.\n\n{b}Benefit{/b}: This sacred vow grants significant supernatural benefits, but its cost is high.\n\nFirst, you are constantly surrounded by a calming aura to a radius of 20 feet. Creatures within the aura must make a successful Will save (DC 10 + one-half your character level + your Cha modifier) or be affected as by the {i}calm emotions{/i} spell. Creatures who leave the aura and reenter it receive new saving throws. A creature that makes a successful saving throw and remains in the aura is unaffected until it leaves the aura and reenters. The aura is a mind-affecting, supernatural compulsion.\n\nSecond, you gain a +2 natural armor bonus to your AC, a +2 deflection bonus to your AC, and a +2 exalted bonus to your AC. This exalted bonus does not apply to touch attacks and does not hinder incorporeal touch attacks. Brilliant energy weapons, however, do not ignore it. It does not stack with an armor bonus. If you also have the Vow of Poverty feat, the natural armor, deflection, and exalted Armor Class bonuses granted by that feat all increase by +2. If a creature strikes you with a manufactured weapon, the weapon must immediately make a successful Fortitude save (DC 10 + one-half your character level + your Con modifier) or shatter against your skin, leaving you unharmed.\n\nFinally, you gain a +4 exalted bonus on all Diplomacy checks.\n\n{b}Special{/b}: To fulfill your vow, you must not cause harm to any living creature (constructs and undead are not included in this prohibition). You may not deal real damage or ability damage to such creatures through spells or weapons, though you may deal nonlethal damage. You may not target them with death effects, {i}disintegrate{/i}, or other spells that have the immediate potential to cause death or great harm. You also may not use nondamaging spells to incapacitate or weaken living foes so that your allies can kill them&#151;if you incapacitate a foe, you must take him prisoner.\n\nIf you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion or otherwise unwittingly, you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell. (Characters who have taken a Vow of Peace are known to drink water through a strainer in order to avoid accidentally swallowing, and thereby causing harm to, a small insect.)\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must not harm any living thing, 20 ft calm aura (DCXX Will neg) &amp; wep break if hit." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <eval phase="UserPostAt" priority="10000"><![CDATA[      var DC as number
      DC = 10 + round(herofield[tHitDice].value/2,0,-1) + hero.child[aCHA].field[aModBonus].value

      var DC2 as number
      DC2 = 10 + round(herofield[tHitDice].value/2,0,-1) + hero.child[aCON].field[aModBonus].value

      field[xSumm].text = "Musn't harm living, 20 ft calm aura(DC" & DC & " Will neg), break wep(DC" & DC2 & " Fort neg)."]]></eval>
    <eval phase="First" index="2">#skillbonus[kDiplomacy] += 4</eval>
    <eval phase="UserPostLv" priority="10000" index="3"><![CDATA[   var level as number
   level = herofield[tHitDice].value
   
~ If we also have Vow of Poverty, only increase our bonus by +2 if it is currently 0, after that VoP takes over.

~ First set our AC bonus (counting as an armor bonus since it doesn't stack or affect touch)
 if (#hasfeat[fVowPovert] = 0) then
    hero.child[ArmorClass].field[tACArmor].value = maximum(hero.child[ArmorClass].field[tACArmor].value, 2)
 endif

~ Next set our deflection bonus
 if (#hasfeat[fVowPovert] <> 0) then
   if (level < 6) then
     hero.child[ArmorClass].field[tACDeflect].value = maximum(hero.child[ArmorClass].field[tACDeflect].value, 2)
   endif
 endif

~ Now set our natural armor bonus
 if (#hasfeat[fVowPovert] <> 0) then
   if (level < 8) then
      hero.child[mNatural].field[Bonus].value += 2
   endif
 endif]]></eval>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    <exprreq message="Vow of Nonviolence required."><![CDATA[#hasfeat[fVowNonvio] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fVowPovert" name="Vow of Poverty" description="You have taken a sacred vow to forswear material possessions.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: You gain bonuses to your Armor Class, ability scores, and saving throws, as well as bonus exalted feats, all depending on your character level. See Voluntary Poverty in Chapter 2 for details.\n\n{b}Special{/b}: To fulfill your vow, you must not own or use any material possessions, with the following exceptions: You may carry and use ordinary (neither magic nor masterwork) simple weapons, usually just a quarterstaff that serves as a walking stick. You may wear simple clothes (usually just a homespun robe, possibly also including a hat and sandals) with no magical properties. You may carry enough food to sustain you for one day in a simple (non magic) sack or bag. You may carry and use a spell component pouch. You may not use any magic item of any sort, though you can benefit from magic items used on your behalf&#151;you can drink a {i}potion of cure serious wounds{/i} a friend gives you, receive a spell cast from a wand, scroll, or staff, or ride on your companion&#146;s {i}ebony fly{/i}. You may not, however, &#147;borrow&#148; a {i}cloak of resistance{/i} or any other magic item from a companion for even a single round, nor may you yourself cast a spell from a scroll, wand, or staff.\n\nIf you break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it.\n{b}Character Level &#150;&#150; Benefit{/b}\n1st &#150;&#150; AC bonus +4, bonus exalted feat\n2nd &#150;&#150; Bonus exalted feat\n3rd &#150;&#150; AC bonus +5, endure elements\n4th &#150;&#150; Exalted strike +1 (magic), bonus exalted feat\n5th &#150;&#150; Sustenance\n6th &#150;&#150; AC bonus +6, deflection +1, bonus exalted feat\n7th &#150;&#150; Resistance +1, ability score enhancement +2\n8th &#150;&#150; Natural armor +1, mind shielding, bonus exalted feat\n9th &#150;&#150; AC bonus +7\n10th &#150;&#150; Exalted strike +2 (good), damage reduction 5/magic, bonus exalted feat\n11th &#150;&#150; Ability score enhancement +4/+2\n12th &#150;&#150; AC bonus +8, deflection +2, greater sustenance, bonus exalted feat\n13th &#150;&#150; Resistance +2, energy resistance 5\n14th &#150;&#150; Exalted strike +3, freedom of movement, bonus exalted feat\n15th &#150;&#150; AC bonus +9, ability score enhancement +6/+4/+2, damage reduction 5/evil\n16th &#150;&#150; Natural armor +2, bonus exalted feat\n17th &#150;&#150; Exalted strike +4, resistance +3, regeneration\n18th &#150;&#150; AC bonus +10, deflection +3, true seeing, bonus exalted feat\n19th &#150;&#150; Ability score enhancement +8/+6/+4/+2, damage reduction 10/evil\n20th &#150;&#150; Exalted strike +5, energy resistance 15, bonus exalted feat\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must not own anything, gain bon to AC, ability scores, saves &amp; exalted feats." uniqueness="useronce">
    <comment>Crazy Eval (Done.... I think)</comment>
    <fieldval field="ftCandExpr" value="User.PickLevel"/>
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="Helper" tag="ShowSpec"/>
    <bootstrap thing="xDamRdMag"></bootstrap>
    <bootstrap thing="xDamRdEvil"></bootstrap>
    <bootstrap thing="xDamRsAcid"></bootstrap>
    <bootstrap thing="xDamRsCold"></bootstrap>
    <bootstrap thing="xDamRsElec"></bootstrap>
    <bootstrap thing="xDamRsFire"></bootstrap>
    <bootstrap thing="xDamRsSoni"></bootstrap>
    <bootstrap thing="fVoPAbEnh1">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 7]]></containerreq>
      </bootstrap>
    <bootstrap thing="fVoPAbEnh2">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 11]]></containerreq>
      </bootstrap>
    <bootstrap thing="fVoPAbEnh3">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 15]]></containerreq>
      </bootstrap>
    <bootstrap thing="fVoPAbEnh4">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 19]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPEndEle">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 3]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPExaStr">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 10]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPSusten">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 5]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPMinShi">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 8]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPFreMov">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 14]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPRegen">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 17]]></containerreq>
      </bootstrap>
    <bootstrap thing="xVoPTruSee">
      <containerreq phase="First" priority="500"><![CDATA[count:Hero.HitDice >= 18]]></containerreq>
      </bootstrap>
    <eval phase="UserPostLv" priority="10000" index="2"><![CDATA[   var level as number
   level = herofield[tHitDice].value
   
~ First set our AC bonus (counting as an armor bonus since it doesn't stack or affect touch)
   var ACbon as number
   if (level >= 18) then
     ACbon = 10
   elseif (level >= 15) then
     ACbon = 9
   elseif (level >= 12) then
     ACbon = 8
   elseif (level >= 9) then
     ACbon = 7
   elseif (level >= 6) then
     ACbon = 6
   elseif (level >= 3) then
     ACbon = 5
   else 
     ACbon = 4
   endif

~ If we also have Vow of Peace increase our bonus by +2
   if (#hasfeat[fVowPeace] <> 0) then
     ACbon += 2
   endif

~ Add the armor/exalted bonus to our AC.
  hero.child[ArmorClass].field[tACArmor].value = maximum(hero.child[ArmorClass].field[tACArmor].value, ACbon)

~ Next set our deflection bonus
   var Defbon as number
   if (level >= 18) then
     Defbon = 3
   elseif (level >= 12) then
     Defbon = 2
   elseif (level >= 6) then
     Defbon = 1
   else
     Defbon = 0
   endif

~ If we also have Vow of Peace increase our bonus by +2 if it is not currently 0
   if (#hasfeat[fVowPeace] <> 0) then
     if (Defbon <> 0) then
       Defbon += 2
     endif
   endif

~ Add the deflection bonus to our AC.
   hero.child[ArmorClass].field[tACDeflect].value = maximum(hero.child[ArmorClass].field[tACDeflect].value, Defbon)

~ Now set our natural armor bonus
   var Natbon as number
   if (level >= 16) then
     Natbon = 2
   elseif (level >= 8) then
     Natbon = 1
   else 
     Natbon = 0
   endif

~ If we also have Vow of Peace increase our bonus by +2 if it is not currently 0
   if (#hasfeat[fVowPeace] <> 0) then
     if (Natbon <> 0) then
       Natbon += 2
     endif
   endif

~ Add the natural armor bonus to our AC. Note this is not an enhancement bon, this is an actual increase.
      hero.child[mNatural].field[Bonus].value += Natbon

~ Now set our Exalted Strike weapon enhancement bonus to att/dam
   var Enhbon as number
   if (level >= 20) then
     Enhbon = 5
   elseif (level >= 17) then
     Enhbon = 4
   elseif (level >= 14) then
     Enhbon = 3
   elseif (level >= 10) then
     Enhbon = 2
   elseif (level >= 4) then
     Enhbon = 1
   else 
     Enhbon = 0
   endif

~ Add the enhancement bon to all weapons.
    foreach pick in hero from BaseWep
       #enhancementbonus[each, Enhbon]
    nexteach

~ Set our resistance bonus to saves
   var Resbon as number
   if (level >= 17) then
     Resbon = 3
   elseif (level >= 13) then
     Resbon = 2
   elseif (level >= 7) then
     Resbon = 1
   else 
     Resbon = 0
   endif

~ Add the resistance bonus to saves.
   hero.child[vFort].field[vResist].value = maximum(hero.child[vFort].field[vResist].value, Resbon)
   hero.child[vRef].field[vResist].value = maximum(hero.child[vRef].field[vResist].value, Resbon)
   hero.child[vWill].field[vResist].value = maximum(hero.child[vWill].field[vResist].value, Resbon)

~ Set up our damage resistances
   if (level >= 19) then
     #applydr[xDamRdEvil, 10]
   elseif (level >= 15) then
     #applydr[xDamRdEvil, 5]
   elseif (level >= 10) then
     #applydr[xDamRdMag, 5]
   endif

~ Set up our energy resistances
   if (level >= 20) then
     #applyresist[xDamRsAcid, 15]
     #applyresist[xDamRsCold, 15]
     #applyresist[xDamRsFire, 15]
     #applyresist[xDamRsElec, 15]
     #applyresist[xDamRsSoni, 15]
   elseif (level >= 13) then
     #applyresist[xDamRsAcid, 5]
     #applyresist[xDamRsCold, 5]
     #applyresist[xDamRsFire, 5]
     #applyresist[xDamRsElec, 5]
     #applyresist[xDamRsSoni, 5]
   endif]]></eval>
    <eval phase="First"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
        endif

      ~ Forward the User Level tags from that thing to the hero (this will be used to determine how many bonus exalted feats we get.
      var result as number
      result = field[fChosen].chosen.forward[User.Level?]]]></eval>
    <eval phase="UserPostLv" priority="10000" index="3"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

   ~ First calculate the number of bonus feats we get, based only on our level.
   var level as number
   level = herofield[tHitDice].value

   var bonfeat as number
   if (level >= 20) then
      bonfeat = 11
   elseif (level >= 18) then
      bonfeat = 10
   elseif (level >= 16) then
      bonfeat = 9
   elseif (level >= 14) then
      bonfeat = 8
   elseif (level >= 12) then
      bonfeat = 7
   elseif (level >= 10) then
      bonfeat = 6
   elseif (level >= 8) then
      bonfeat = 5
   elseif (level >= 6) then
      bonfeat = 4
   elseif (level >= 4) then
      bonfeat = 3
   elseif (level >= 2) then
      bonfeat = 2
   else
      bonfeat = 1
   endif

   ~ Now calculate the number of bonus feats we missed because of taking the feat late. We will know this based on User tags assigned to the hero when the user picks the level on the feats tab.
   var missed as number
   if (hero.tagis[User.Level20] <> 0) then
   ~ Since we took the feat at 20th level, we missed the first 10 bonus feats, only getting the one at 20th level
     missed = 10
   elseif (hero.tagis[User.Level19] <> 0) then
     missed = 10
   elseif (hero.tagis[User.Level18] <> 0) then
     missed = 9
   elseif (hero.tagis[User.Level17] <> 0) then
     missed = 9
   elseif (hero.tagis[User.Level16] <> 0) then
     missed = 8
   elseif (hero.tagis[User.Level15] <> 0) then
     missed = 8
   elseif (hero.tagis[User.Level14] <> 0) then
     missed = 7
   elseif (hero.tagis[User.Level13] <> 0) then
     missed = 7
   elseif (hero.tagis[User.Level12] <> 0) then
     missed = 6
   elseif (hero.tagis[User.Level11] <> 0) then
     missed = 6
   elseif (hero.tagis[User.Level10] <> 0) then
     missed = 5
   elseif (hero.tagis[User.Level9] <> 0) then
     missed = 5
   elseif (hero.tagis[User.Level8] <> 0) then
     missed = 4
   elseif (hero.tagis[User.Level7] <> 0) then
     missed = 4
   elseif (hero.tagis[User.Level6] <> 0) then
     missed = 3
   elseif (hero.tagis[User.Level5] <> 0) then
     missed = 3
   elseif (hero.tagis[User.Level4] <> 0) then
     missed = 2
   elseif (hero.tagis[User.Level3] <> 0) then
     missed = 2
   elseif (hero.tagis[User.Level2] <> 0) then
     missed = 1
   elseif (hero.tagis[User.Level1] <> 0) then
     missed = 0
   endif

~ Do we still have a positive number of bonus feats? If not, stop now.
  bonfeat -= missed

  if (bonfeat <= 0) then
    done
  endif

~ Add to our total feats, don't worry about specifying they be exalted feats, we will do that in a separate Eval Rule.
  herofield[tFeats].value += bonfeat]]></eval>
    <evalrule phase="Final" priority="10500" message="Choose more bonus Exalted feats."><![CDATA[   ~ First calculate the number of bonus feats we get, based only on our level.
   var level as number
   level = herofield[tHitDice].value

   var bonfeat as number
   if (level >= 20) then
      bonfeat = 11
   elseif (level >= 18) then
      bonfeat = 10
   elseif (level >= 16) then
      bonfeat = 9
   elseif (level >= 14) then
      bonfeat = 8
   elseif (level >= 12) then
      bonfeat = 7
   elseif (level >= 10) then
      bonfeat = 6
   elseif (level >= 8) then
      bonfeat = 5
   elseif (level >= 6) then
      bonfeat = 4
   elseif (level >= 4) then
      bonfeat = 3
   elseif (level >= 2) then
      bonfeat = 2
   else
      bonfeat = 1
   endif

   ~ Now calculate the number of bonus feats we missed because of taking the feat late. We will know this based on User tags assigned to the hero when the user picks the level on the feats tab.
   var missed as number
   if (hero.tagis[User.Level20] <> 0) then
   ~ Since we took the feat at 20th level, we missed the first 10 bonus feats, only getting the one at 20th level
     missed = 10
   elseif (hero.tagis[User.Level19] <> 0) then
     missed = 10
   elseif (hero.tagis[User.Level18] <> 0) then
     missed = 9
   elseif (hero.tagis[User.Level17] <> 0) then
     missed = 9
   elseif (hero.tagis[User.Level16] <> 0) then
     missed = 8
   elseif (hero.tagis[User.Level15] <> 0) then
     missed = 8
   elseif (hero.tagis[User.Level14] <> 0) then
     missed = 7
   elseif (hero.tagis[User.Level13] <> 0) then
     missed = 7
   elseif (hero.tagis[User.Level12] <> 0) then
     missed = 6
   elseif (hero.tagis[User.Level11] <> 0) then
     missed = 6
   elseif (hero.tagis[User.Level10] <> 0) then
     missed = 5
   elseif (hero.tagis[User.Level9] <> 0) then
     missed = 5
   elseif (hero.tagis[User.Level8] <> 0) then
     missed = 4
   elseif (hero.tagis[User.Level7] <> 0) then
     missed = 4
   elseif (hero.tagis[User.Level6] <> 0) then
     missed = 3
   elseif (hero.tagis[User.Level5] <> 0) then
     missed = 3
   elseif (hero.tagis[User.Level4] <> 0) then
     missed = 2
   elseif (hero.tagis[User.Level3] <> 0) then
     missed = 2
   elseif (hero.tagis[User.Level2] <> 0) then
     missed = 1
   elseif (hero.tagis[User.Level1] <> 0) then
     missed = 0
   endif

~ Do we still have a positive number of bonus feats? If not, do nothing, as we are valid.
  bonfeat -= missed

  validif (bonfeat <= 0)

~ Now we know the total number of bonus exalted feats we should have, so count up all Exalted feats (except for Sacred Vow and Vow of Poverty, since those were requisites and can't be bonus.

  var result as number
  foreach pick in hero from BaseFeat where "fCategory.Exalted & !thingid.fSacredVow & !thingid.fVowPovert"
    result += 1
  nexteach

~ Do we have an equal or greater number of exalted feats than bonus feats? If so, we are valid
  validif (result >= bonfeat)]]></evalrule>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    </thing>
  <thing id="fVowPurity" name="Vow of Purity" description="You have taken a sacred vow to avoid contact with dead flesh.\n\n{b}Prerequisites{/b}: Sacred Vow.\n\n{b}Benefit{/b}: You gain a +4 perfection bonus on Fortitude saving throws to resist disease and death effects.\n\n{b}Special{/b}: To fulfill your vow, you must avoid all contact with dead creatures, including meat cooked for food. You may not touch fallen foes. You may fight undead foes, but must purify yourself as soon as possible afterward. You may touch dead characters in order to restore them to life (by way of a {i}raise dead{/i} or similar spell that requires you to touch the corpse), but for no other purpose.\n\nIf you fight undead creatures or accidentally touch dead flesh, you must purify yourself in a special ritual that requires 1 hour and a flask of holy water.\n\nIf you intentionally break your vow, you immediately and irrevocably lose the benefit of this feat. You may not take another feat to replace it. If you break your vow as a result of magical compulsion, you lose the benefit of this feat until you perform a suitable penance and receive an {i}atonement{/i} spell.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Must not touch the dead or meat, +4 perfect bon to Fort vs disease/death." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Exalted"/>
    <exprreq message="Good alignment required."><![CDATA[hero.tagis[Alignment.Good] <> 0]]></exprreq>
    <exprreq message="Sacred Vow required."><![CDATA[#hasfeat[fSacredVow] <> 0]]></exprreq>
    </thing>
  <thing id="fWordCreat" name="Words of Creation" description="The Words of Creation are fragments of a lost language thought to be the precursor of the Celestial tongue. Very few celestials remember some of these words, and even fewer mortals have access to one or two of them as well. So great is their power that no mortal mind can comprehend more than three or four words, and no evil tongue can speak them or bear their sound. A character must take the Words of Creation feat to be able to use these words in any way. \n\nIt is possible, though difficult, to communicate entirely using the Words of Creation. It has no words for evil concepts such as misery, despair, hate, and betrayal, while the subtlety of its terminology for beauty, kindness, and mercy is astonishing. It has no written form, and if transliterated into writing it loses all power and meaning.\n\nYou have learned a few of these words that were spoken to create the world.\n\n{b}Prerequisites{/b}: Int 15, Cha 15, base Will save bonus +5.\n\n{b}Benefit{/b}: You can use the Words of Creation to enhance bardic music, to help cast good spells and create good magic items, and to enhance the process of creation (see Words of Creation in Chapter 2).\n\n{b}Normal{/b}: A non evil creature that tries to utter the Words of Creation without learning them properly is affected as by a {i}feeblemind{/i} spell, while an evil character is struck dead. Fortunately, it is impossible to make someone speak the Words of Creation against his will, because their pronunciation is so exacting.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Can use words of creation in bardic music, cast/create good spells/items." uniqueness="useronce">
    <usesource source="BoED" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="Exalted"/>
    <bootstrap thing="xWoCrCelCh"></bootstrap>
    <bootstrap thing="xWoCrCreat"></bootstrap>
    <bootstrap thing="xWoCrExPow"></bootstrap>
    <bootstrap thing="xWoCrTruNa"></bootstrap>
    <exprreq message="Charisma 15 required."><![CDATA[child[aCHA].field[aFinalVal].value >= 15]]></exprreq>
    <exprreq message="Base Will save +5 required."><![CDATA[child[vWill].field[vBase].value >= 5]]></exprreq>
    <exprreq message="Intelligence 15 required."><![CDATA[child[aINT].field[aFinalVal].value >= 15]]></exprreq>
    </thing>
  <thing id="fSubdueStr" name="Subduing Strike" description="You are adept at striking to deal nonlethal damage even with normal weapons.\n\n{b}Benefit{/b}: You can use any melee weapon to deal nonlethal damage with no penalty on your attack roll. If you are a rogue, you can deal nonlethal damage with your sneak attack even if you are using a normal melee weapon. This feat does not allow you to deal nonlethal damage with ranged weapons.\n\n{b}Normal{/b}: If you use a melee weapon designed to deal lethal damage to deal nonlethal damage instead, you take a &#150;4 penalty on your attack roll. Rogues normally can only use saps or unarmed strikes to deal nonlethal damage with their sneak attacks.\n\n{b}Special{/b}: A fighter may select Subduing Strike as one of his fighter bonus feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Use melee weapons to do nonlethal damage without penalty." uniqueness="useronce">
    <usesource source="BoED" parent="p35" name="Book of Exalted Deeds"/>
    <tag group="fCategory" tag="General"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="BonusFor" tag="Fighter"/>
    </thing>
  <thing id="mmPurifySp" name="Purify Spell" description="You can charge your damaging spells with celestial energy that leaves good creatures unharmed.\n\n{b}Prerequisites{/b}: Any good alignment.\n\n{b}Benefit{/b}: A spell you modify with this feat gains the good descriptor. Furthermore, if the spell deals damage, neutral creatures take half damage, or one-quarter with a successful saving throw (if allowed), while good creatures take no damage at all. Evil outsiders affected by the spell take extra damage: The spell&#146;s damage is increased by one die type (each 1d6 becomes 1d8, each 1d8 becomes 2d6, and so on, using the same progression as weapons increasing in size). For example, a purified {i}lightning bolt{/i} cast by a 7th-level wizard deals 7d6 points of electricity damage to evil creatures, half damage to neutral creatures, and no damage at all to good creatures caught in its path. Evil outsiders (except ones immune to electricity) take 7d8 points of damage.\n\nA purified spell uses up a spell slot one level higher than the spell&#146;s actual level." compset="Metamagic" summary="Extra dam to evil outsiders, &#189; to neutral &amp; none to good. Add good desc, +1 Level." uniqueness="unique">
    <fieldval field="mmAbbr" value="Purified"/>
    <fieldval field="mmLevel" value="1"/>
    <usesource source="BoED"/>
    <prereq message="Purify Spell feat required.">
      <validate>@valid = hero.pickexists[fPurifySpl] + parent.tagis[Helper.OnScroll]</validate>
      </prereq>
    </thing>
  <thing id="xWoCrCelCh" name="Words of Creation - Celestial Choir" description="The Words of Creation can be woven into song, forming music that surpasses any earthly melody and echoes the grandeur of the music of the heavens. A bard who has the Words of Creation feat can use these powerful words to enhance his bardic music ability as detailed below. When a bard uses the Words of Creation in this manner, it is extremely draining, and the bard takes 1d4 points of nonlethal damage for each rank in Perform required to produce the bardic music effect he is enhancing. For example, if Devis uses the Words of Creation to double an inspire courage effect (minimum 3 ranks in Perform), he takes 3d4 points of nonlethal damage. If he uses the words to enhance an inspire heroics effect (minimum 18 ranks in Perform), he takes 18d4 points of nonlethal damage.\n\nThe Words of Creation doubles the effect of several bardic music abilities:\n&#149; Inspire Courage: Double the morale bonus on saving throws against charm and fear and the morale bonus on attack and weapon damage rolls (+2 at 1st level, +4 at 8th level, +6 at 14th level, +8 at 20th level).\n&#149; Inspire Competence: +4 competence bonus on skill checks.\n&#149; Inspire Greatness: Gain 4 bonus Hit Dice (d10s), the commensurate number of temporary hit points (apply the target&#146;s Constitution modifier to these bonus Hit Dice), +4 competence bonus on attacks, and +2 competence bonus on Fortitude saves.\n&#149; Inspire Heroics: +8 morale bonus on saving throws, +8 dodge bonus to AC.\n\nFor bardic music abilities that require a Perform check (countersong, {i}fascinate{/i}), the Words of Creation grant the bard a +4 sacred bonus on the check. The Words of Creation also increase the saving throw DC for the {i}suggestion{/i} and {i}dominate{/i} abilities by +2.\n\nThe Words of Creation increase the bard&#146;s effective caster level for the {i}song of freedom{/i} by +2." compset="Special" summary="Double or enhance many bardic music abilities, but take nonlethal dam.">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecSource" tag="Feat"/>
    </thing>
  <thing id="xWoCrCreat" name="Words of Creation - Creation" description="In accordance with their original purpose, the Words of Creation can greatly enhance any process of creation. If they are spoken as part of the casting of a Conjuration (Creation) spell, the duration of the spell is doubled (as if the Extend Spell feat had been applied to it, but without increasing the spell&#146;s level). Spells with an instantaneous duration are not affected. If they are spoken while using any Craft skill, they grant the crafter a +4 sacred bonus on the Craft check. These uses of the Words of Creation do not deal nonlethal damage to the speaker." compset="Special" summary="Double duration of Conjuration (creation) spells, or +4 sacred bon to Craft chk.">
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecSource" tag="Feat"/>
    </thing>
  <thing id="xWoCrExPow" name="Words of Creation - Exalted Power" description="The Words of Creation help energize good magic items and spells. If used in conjunction with a good spell that has a verbal component, the Words of Creation increase the spell&#146;s effective caster level by +1. If used when creating a good magic item, the Words of Creation increase the item&#146;s caster level by +1 without increasing the cost. Both caster level increases are considered sacred bonuses.\n\nUsing the Words of Creation to enhance a good spell deals 1d4 points of nonlethal damage to the caster per 2 spell levels (none for a 0- or 1st-level spell, up to 4d4 for a 9th-level spell). Using them to enhance a magic item deals no nonlethal damage, since their use is measured out over a long period of time." compset="Special" summary="+1 sacred bon to CL for verbal good spell/item made, nonlethal dam on 2+ spl lvl.">
    <comment>Too long?</comment>
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    </thing>
  <thing id="xWoCrTruNa" name="Words of Creation - True Name" description="Each creature has a unique true name among the Words of Creation. No mortal is familiar with the countless true names of every creature in the world, no matter how extensively she has studied the Words of Creation. Nevertheless, a character familiar with the Words of Creation can research a specific creature&#146;s true name if she has access to {i}legend lore{/i} and either {i}contact other plane{/i} or {i}commune{/i}. Researching a true name is similar to researching a new spell. It requires one week per 2 HD of the creature and an expenditure of 1,000 gp per week. The character must cast (or have cast on her behalf ) {i}legend lore{/i} once each week, but the material component cost is included in the research cost. At the end of the research time, the character must cast {i}commune{/i} or {i}contact other plane{/i}, paying the XP cost for {i}commune{/i} if applicable. Then she makes a Knowledge check, using the specialty appropriate to the target creature&#146;s type (arcana for a construct or dragon, religion for an undead, and so on). The DC for this check is 10 + the creature&#146;s Hit Dice. If the check succeeds, the character has discovered the creature&#146;s true name. If it fails, the character must go through the research process again if she wants to keep trying.\n\nOnce a character has discovered a creature&#146;s true name, she can exercise her power over that creature in a number of different ways.\n&#149; She can impose a &#150;4 penalty on the creature&#146;s saving throws to resist a specific compulsion spell or effect.\n&#149; She can reduce the creature&#146;s spell resistance by 4 or reduce the amount of its damage reduction by 5. This reduction lasts for 1 minute.\n&#149; She can cast {i}teleport{/i} or {i}greater teleport{/i} on the creature without including herself as a target of the spell.\n&#149; She can gain a +6 bonus on her opposed Charisma check to compel service from the creature after she summons it with a {i}planar binding{/i} spell.\n\nEach of these actions requires a full-round action, which includes speaking the creature&#146;s true name and a binding incantation in the Words of Creation. Uttering the incantation deals 5d4 points of nonlethal damage to the speaker. The character and the creature do not have to be in the same area or even the same plane&#151;it is possible, for example, to reduce a creature&#146;s spell resistance before using {i}planar binding{/i} to summon it to the Material Plane. The one exception is the teleportation function, which requires the character to touch the creature after speaking its true name and the incantation." compset="Special" summary="Research true name to gain adv over 1 creature, incantation does 5d4 nonlethal.">
    <comment>Too long?</comment>
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    </thing>
  <thing id="xCharLev1" name="Character Level 1st" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level1" name="1st Level"/>
    </thing>
  <thing id="fVoPAbEnh1" name="Vow of Poverty - 1st Ability Enhancement" description="The chosen ability score gains bonuses based on character level." compset="Feat" uniqueness="useronce">
    <fieldval field="ftCandExpr" value="component.BaseAttr"/>
    <tag group="Helper" tag="Helper" name="Helper" abbrev="Helper"/>
    <tag group="fCategory" tag="Special" name="Special" abbrev="Special"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="FeatUnique" name="FeatUnique" abbrev="FeatUnique"/>
    <tag group="fSelFrom" tag="Hero"/>
    <tag group="User" tag="AbiChosen1" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen2"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

   var level as number
   level = herofield[tHitDice].value
   
~ First set our ability bonus
   var bonus as number
   if (level >= 19) then
     bonus = 8
   elseif (level >= 15) then
     bonus = 6
   elseif (level >= 11) then
     bonus = 4
   elseif (level >= 7) then
     bonus = 2
   else
     bonus = 0
   endif

   #enhancementbonus[field[fChosen].chosen, bonus]

~ Now assign a user tag to our chosen ability so it will not be selectable by the next few feats.
   perform field[fChosen].chosen.assign[User.AbiChosen1]]]></eval>
    </thing>
  <thing id="fVoPAbEnh2" name="Vow of Poverty - 2nd Ability Enhancement" description="The chosen ability score gains bonuses based on character level." compset="Feat" uniqueness="useronce">
    <fieldval field="ftCandExpr" value="component.BaseAttr &amp; !User.AbiChosen1"/>
    <tag group="fCategory" tag="Special" name="Special" abbrev="Special"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="FeatUnique" name="FeatUnique" abbrev="FeatUnique"/>
    <tag group="fSelFrom" tag="Hero"/>
    <tag group="User" tag="AbiChosen1" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen2"/>
    <tag group="Helper" tag="Helper" name="Helper" abbrev="Helper"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

   var level as number
   level = herofield[tHitDice].value
   
~ First set our ability bonus
   var bonus as number
   if (level >= 19) then
     bonus = 6
   elseif (level >= 15) then
     bonus = 4
   elseif (level >= 11) then
     bonus = 2
   else
     bonus = 0
   endif

   #enhancementbonus[field[fChosen].chosen, bonus]

~ Now assign a user tag to our chosen ability so it will not be selectable by the next few feats.
   perform field[fChosen].chosen.assign[User.AbiChosen2]]]></eval>
    </thing>
  <thing id="fVoPAbEnh3" name="Vow of Poverty - 3rd Ability Enhancement" description="The chosen ability score gains bonuses based on character level." compset="Feat" uniqueness="useronce">
    <fieldval field="ftCandExpr" value="component.BaseAttr &amp; !User.AbiChosen1 &amp; !User.AbiChosen2"/>
    <tag group="fCategory" tag="Special" name="Special" abbrev="Special"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="FeatUnique" name="FeatUnique" abbrev="FeatUnique"/>
    <tag group="fSelFrom" tag="Hero"/>
    <tag group="User" tag="AbiChosen1" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen3" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen2"/>
    <tag group="Helper" tag="Helper" name="Helper" abbrev="Helper"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

   var level as number
   level = herofield[tHitDice].value
   
~ First set our ability bonus
   var bonus as number
   if (level >= 19) then
     bonus = 4
   elseif (level >= 15) then
     bonus = 2
   else
     bonus = 0
   endif

   #enhancementbonus[field[fChosen].chosen, bonus]

~ Now assign a user tag to our chosen ability so it will not be selectable by the next few feats.
   perform field[fChosen].chosen.assign[User.AbiChosen3]]]></eval>
    </thing>
  <thing id="fVoPAbEnh4" name="Vow of Poverty - 4th Ability Enhancement" description="The chosen ability score gains bonuses based on character level." compset="Feat" uniqueness="useronce">
    <fieldval field="ftCandExpr" value="component.BaseAttr &amp; !User.AbiChosen1 &amp; !User.AbiChosen2 &amp; !User.AbiChosen3"/>
    <tag group="fCategory" tag="Special" name="Special" abbrev="Special"/>
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="Helper" tag="FeatUnique" name="FeatUnique" abbrev="FeatUnique"/>
    <tag group="fSelFrom" tag="Hero"/>
    <tag group="User" tag="AbiChosen1" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen3" name="Ability Already Chosen"/>
    <tag group="User" tag="AbiChosen2"/>
    <tag group="Helper" tag="Helper" name="Helper" abbrev="Helper"/>
    <eval phase="UserPostLv" priority="10000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

   var level as number
   level = herofield[tHitDice].value
   
~ First set our ability bonus
   var bonus as number
   if (level >= 19) then
     bonus = 2
   else
     bonus = 0
   endif

   #enhancementbonus[field[fChosen].chosen, bonus]]]></eval>
    </thing>
  <thing id="xVoPEndEle" name="Vow of Poverty - Endure Elements" description="A 3rd-level ascetic is immune to the effects of being in a hot or cold environment. He can exist comfortably in conditions between &#150;50 and 140 degrees Fahrenheit without having to make Fortitude saves (as described in the Dungeon Master&#146;s Guide)." compset="Special" summary="Constant, non magical {i}endure elements{/i} on self.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="xVoPExaStr" name="Vow of Poverty - Exalted Strike" description="At 10th level, any weapon damage the character deals is also considered to be good-aligned, so that it can bypass the damage reduction of some evil outsiders." compset="Special" summary="Any weapon wielded is considered good aligned.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="xVoPSusten" name="Vow of Poverty - Sustenance" description="A 5th-level ascetic doesn&#146;t need to eat or drink and once he attains 12th level, an ascetic character doesn&#146;t need to breathe." compset="Special" summary="No need for food or water.">
    <comment>Change name and xSumm at higher level.</comment>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="SpecSource" tag="Feat"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="xVoPMinShi" name="Vow of Poverty - Mind Shielding" description="Also at 8th level, an ascetic character becomes immune to {i}detect thoughts{/i}, {i}discern lies{/i}, and any attempt to discern his alignment." compset="Special" summary="Immune to {i}detect thoughts{/i}, {i}discern lies{/i}, and any effect to discern alignment.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="xVoPFreMov" name="Vow of Poverty - Freedom of Movement" description="At 14th level, an ascetic can act as if continually under the effect of a {i}freedom of movement{/i} spell." compset="Special" summary="Constant, non magical {i}freedom of movement{/i} on self.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="xVoPRegen" name="Vow of Poverty - Regeneration" description="At 17th level, an ascetic heals 1 point of damage per level every hour rather than every day. (This ability cannot be aided by the Heal skill.) Nonlethal damage heals at a rate of 1 point of damage per level every 5 minutes." compset="Special" summary="Heal 1 lethal dam/level every hour, 1 nonlethal dam/level every 5 min.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Extra"/>
    </thing>
  <thing id="xVoPTruSee" name="Vow of Poverty - True Seeing" description="At 18th level, an ascetic gains a continuous {i}true seeing{/i} ability, as the spell." compset="Special" summary="Constant {i}true seeing{/i} on self.">
    <tag group="SpecSource" tag="Feat"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="AbilType" tag="Super"/>
    </thing>
  <thing id="xCharLev2" name="Character Level 2nd" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level2" name="2nd Level"/>
    </thing>
  <thing id="xCharLev3" name="Character Level 3rd" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level3" name="3rd Level"/>
    </thing>
  <thing id="xCharLev4" name="Character Level 4th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level4" name="4th Level"/>
    </thing>
  <thing id="xCharLev5" name="Character Level 5th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level5" name="5th Level"/>
    </thing>
  <thing id="xCharLev6" name="Character Level 6th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level6" name="6th Level"/>
    </thing>
  <thing id="xCharLev7" name="Character Level 7th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level7" name="7th Level"/>
    </thing>
  <thing id="xCharLev8" name="Character Level 8th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level8" name="8th Level"/>
    </thing>
  <thing id="xCharLev9" name="Character Level 9th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level9" name="9th Level"/>
    </thing>
  <thing id="xCharLev10" name="Character Level 10th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level10" name="10th Level"/>
    </thing>
  <thing id="xCharLev11" name="Character Level 11th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level11" name="11th Level"/>
    </thing>
  <thing id="xCharLev12" name="Character Level 12th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level12" name="12th Level"/>
    </thing>
  <thing id="xCharLev13" name="Character Level 13th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level13" name="13th Level"/>
    </thing>
  <thing id="xCharLev14" name="Character Level 14th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level14" name="14th Level"/>
    </thing>
  <thing id="xCharLev15" name="Character Level 15th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level15" name="15th Level"/>
    </thing>
  <thing id="xCharLev16" name="Character Level 16th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level16" name="16th Level"/>
    </thing>
  <thing id="xCharLev17" name="Character Level 17th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level17" name="17th Level"/>
    </thing>
  <thing id="xCharLev18" name="Character Level 18th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level18" name="18th Level"/>
    </thing>
  <thing id="xCharLev19" name="Character Level 19th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level19" name="19th Level"/>
    </thing>
  <thing id="xCharLev20" name="Character Level 20th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLevel" name="Chosen Level"/>
    <tag group="User" tag="Level20" name="20th Level"/>
    </thing>
  <thing id="xCharLvl1" name="Character Level 1st" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl1" name="1st Level"/>
    </thing>
  <thing id="xCharLvl2" name="Character Level 2nd" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl2" name="2nd Level"/>
    </thing>
  <thing id="xCharLvl3" name="Character Level 3rd" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl3" name="3rd Level"/>
    </thing>
  <thing id="xCharLvl4" name="Character Level 4th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl4" name="4th Level"/>
    </thing>
  <thing id="xCharLvl5" name="Character Level 5th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl5" name="5th Level"/>
    </thing>
  <thing id="xCharLvl6" name="Character Level 6th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl6" name="6th Level"/>
    </thing>
  <thing id="xCharLvl7" name="Character Level 7th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl7" name="7th Level"/>
    </thing>
  <thing id="xCharLvl8" name="Character Level 8th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl8" name="8th Level"/>
    </thing>
  <thing id="xCharLvl9" name="Character Level 9th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl9" name="9th Level"/>
    </thing>
  <thing id="xCharLvl10" name="Character Level 10th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl10" name="10th Level"/>
    </thing>
  <thing id="xCharLvl11" name="Character Level 11th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl11" name="11th Level"/>
    </thing>
  <thing id="xCharLvl12" name="Character Level 12th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl12" name="12th Level"/>
    </thing>
  <thing id="xCharLvl13" name="Character Level 13th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl13" name="13th Level"/>
    </thing>
  <thing id="xCharLvl14" name="Character Level 14th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl14" name="14th Level"/>
    </thing>
  <thing id="xCharLvl15" name="Character Level 15th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl15" name="15th Level"/>
    </thing>
  <thing id="xCharLvl16" name="Character Level 16th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl16" name="16th Level"/>
    </thing>
  <thing id="xCharLvl17" name="Character Level 17th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl17" name="17th Level"/>
    </thing>
  <thing id="xCharLvl18" name="Character Level 18th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl18" name="18th Level"/>
    </thing>
  <thing id="xCharLvl19" name="Character Level 19th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl19" name="19th Level"/>
    </thing>
  <thing id="xCharLvl20" name="Character Level 20th" description="This is purely for selection of feats to specify which level they were taken at (when it matters), and should remain invisible." compset="Special">
    <tag group="User" tag="PickLev2" name="Chosen Level"/>
    <tag group="User" tag="Lvl20" name="20th Level"/>
    </thing>
  <thing id="fNonleSubs" name="Nonlethal Substitution" description="You can modify a spell that uses energy to deal damage to deal nonlethal damage instead.\n\n{b}Prerequisites{/b}: Any other metamagic feat, Knowledge (arcana) 5 ranks.\n\n{b}Benefit{/b}: Choose one type of energy: acid, cold, electricity, fire, or sonic. You can modify a spell with the chosen designator to deal nonlethal damage instead of energy damage. The altered spell works normally in all respects except the type of damage dealt. For example, a {i}nonlethal fireball{/i} spell works in the usual way except it deals nonlethal damage instead of fire damage.\n\nA nonlethal spell uses a spell slot of the spell&#146;s normal level, modified by any other metamagic feats.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="Feat" summary="Modify spells of chosen element to do nonlethal dam. +0 Level.">
    <fieldval field="ftCandExpr" value="User.PickElem"/>
    <usesource source="BoED"/>
    <tag group="Helper" tag="ShowSpec"/>
    <tag group="fCategory" tag="Metamagic"/>
    <eval phase="PreLevel" priority="5000"><![CDATA[
      ~ If we're disabled, do nothing
      if (tagis[Helper.FtDisable] <> 0) then
        done
        endif

      ~ If we haven't chosen anything, get out now
      if (field[fChosen].ischosen = 0) then
        done
      endif

      ~ Set our 'short name'
      if (field[fChosen].ischosen <> 0) then
        field[fShortName].text = "Nonlethal Substitution: " & field[fChosen].chosen.field[name].text
      endif

      ~ Assign an appropriate element tag to ourselves depending on our choice
      if (field[fChosen].chosen.tagis[User.ElemAcid] <> 0) then
         perform assign[User.ElemAcid]
      elseif (field[fChosen].chosen.tagis[User.ElemCold] <> 0) then
         perform assign[User.ElemCold]
      elseif (field[fChosen].chosen.tagis[User.ElemElec] <> 0) then
         perform assign[User.ElemElec]
      elseif (field[fChosen].chosen.tagis[User.ElemFire] <> 0) then
         perform assign[User.ElemFire]
      endif]]></eval>
    <exprreq message="Knowledge (Arcana) 5 ranks required."><![CDATA[#skillranks[kKnowArcan] >= 5]]></exprreq>
    <exprreq message="Any one metamagic feat required."><![CDATA[hero.tagcount[fCategory.Metamagic] - hero.tagcount[HasFeat.fNonleSubs] <> 0]]></exprreq>
    </thing>
  <thing id="cFistRaz" name="Fist of Raziel" description="The fists of Raziel represent a knightly order dedicated to the celestial patron of holy warfare against evil. Its members include large numbers of paladins, as well as lawful good clerics, fighters, rangers, and occasionally warriors. While Sealtiel champions those who defend good communities from evil assault, Raziel&#146;s crusaders lead the charge against evil wherever it is found. Smiting evil is their mission and their specialty.\n\nTo become a fist of Raziel, a character must already possess some degree of divine spellcasting ability, so members of the class generally begin as paladins or clerics, less often as fighter/clerics or ranger/clerics. Perhaps strangely, the order includes a number of ex-barbarians who first multiclassed as clerics and then adopted the fist of Raziel prestige class. These ferocious warriors seem to be drawn to Raziel&#146;s crusading creed.\n\nThe fists of Raziel are an elite, ordered, and disciplined fighting force. To make best use of their power, however, they typically serve as leaders or advisors to adventuring parties, military strike teams, or the armies of good kingdoms, working with members of other classes instead of with each other.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="ClassLevel" maxlimit="10">
    <fieldval field="cHitDice" value="10"/>
    <fieldval field="cInfWeps" value="Simple, Martial"/>
    <fieldval field="cInfArmor" value="All Armor and Shields"/>
    <fieldval field="cInfSkills" value="2"/>
    <usesource source="BoED"/>
    <tag group="cRef" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cWill" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="Helper" tag="Prestige" name="Prestige" abbrev="Prestige"/>
    <tag group="cAttack" tag="Good" name="Good" abbrev="Good"/>
    <tag group="ClassType" tag="Prestige"/>
    <tag group="cFort" tag="Good" name="Good" abbrev="Good"/>
    <bootstrap thing="cHelpFRa"></bootstrap>
    <link linkage="helper" thing="cHelpFRa"/>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Ability to cast Divine Favor required."><![CDATA[tagcount[Hero.Divine] >= 1 + 1]]></exprreq>
    <exprreq message="Knowledge (Religion) 5 ranks required."><![CDATA[childfound[kKnowRel].field[kUserRanks].value >= 5]]></exprreq>
    <exprreq message="Diplomacy 5 ranks required."><![CDATA[childfound[kDiplomacy].field[kUserRanks].value >= 5]]></exprreq>
    </thing>
  <thing id="cHelpFRa" name="Fist of Raziel" compset="ClassHelp" uniqueness="unique">
    <comment><![CDATA[field[cGiveMagic].value = field[cGiveMagic].value + field[cTotalLev].value - 1

      ~ Calculate the number of bonus feats we have
      var bonus as number
      if (field[cTotalLev].value > 3) then
        bonus = 1
       if (field[cTotalLev].value < 4) then
         bonus = 0
       endif
      endif
      field[cGiveSpec].value = field[cGiveSpec].value + bonus]]></comment>
    <fieldval field="cAbbr" value="FRa"/>
    <fieldval field="cHDSides" value="10"/>
    <fieldval field="cSkills" value="2"/>
    <arrayval field="cSpell" index="1" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="2" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="3" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="4" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="5" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="6" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="7" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="8" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cSpell" index="9" value="+1 level of existing divine spellcasting class"/>
    <arrayval field="cMagLevTot" index="1" value="1"/>
    <arrayval field="cMagLevTot" index="2" value="2"/>
    <arrayval field="cMagLevTot" index="3" value="3"/>
    <arrayval field="cMagLevTot" index="4" value="4"/>
    <arrayval field="cMagLevTot" index="5" value="5"/>
    <arrayval field="cMagLevTot" index="6" value="6"/>
    <arrayval field="cMagLevTot" index="7" value="7"/>
    <arrayval field="cMagLevTot" index="8" value="8"/>
    <arrayval field="cMagLevTot" index="9" value="9"/>
    <arrayval field="cSpecial" index="0" value="Magic Circle, smite evil 1/day (good aligned)"/>
    <arrayval field="cSpecial" index="1" value="&#151;"/>
    <arrayval field="cSpecial" index="2" value="Smite evil 2/day (confirming)"/>
    <arrayval field="cSpecial" index="3" value="Sanctify Martial Strike"/>
    <arrayval field="cSpecial" index="4" value="Smite evil 3/day (holy)"/>
    <arrayval field="cSpecial" index="5" value="Sunder evil item"/>
    <arrayval field="cSpecial" index="6" value="Smite evil 4/day (fiendsmite)"/>
    <arrayval field="cSpecial" index="7" value="&#151;"/>
    <arrayval field="cSpecial" index="8" value="Smite evil 5/day (chain)"/>
    <arrayval field="cSpecial" index="9" value="Holy martial strike"/>
    <arrayval field="cSpell" index="0" value="&#151;"/>
    <usesource source="BoED"/>
    <tag group="wGroup" tag="cHelpFRa" name="Fist of Raziel" abbrev="Fist of Raziel"/>
    <tag group="BonusFeat" tag="FistRaziel" name="FistRaziel" abbrev="FistRaziel"/>
    <tag group="ClassPanel" tag="ExtraMagic" name="ExtraMagic" abbrev="ExtraMagic"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="Profession" name="All Profession Skills" abbrev="All Profession Skills"/>
    <tag group="ClassSkill" tag="kConcent" name="Concentration" abbrev="Concentration"/>
    <tag group="ClassSkill" tag="kDiplomacy" name="Diplomacy" abbrev="Diplomacy"/>
    <tag group="ClassSkill" tag="kHeal" name="Heal" abbrev="Heal"/>
    <tag group="ClassSkill" tag="kKnowPlane" name="Knowledge: The Planes" abbrev="Knowledge: The Planes"/>
    <tag group="ClassPanel" tag="ExNeeded"/>
    <tag group="ClassSkill" tag="kKnowRel" name="Knowledge: Religion" abbrev="Knowledge: Religion"/>
    <tag group="ClassSkill" tag="kSenseMot" name="Sense Motive" abbrev="Sense Motive"/>
    <tag group="Classes" tag="FistRaziel" name="FistRaziel" abbrev="FistRaziel"/>
    <tag group="SpecSource" tag="FistRaziel" name="FistRaziel" abbrev="FistRaziel"/>
    <tag group="SpellType" tag="FistRaziel" name="FistRaziel" abbrev="FistRaziel"/>
    <tag group="cAttack" tag="Good" name="Good" abbrev="Good"/>
    <tag group="cFort" tag="Good" name="Good" abbrev="Good"/>
    <tag group="cRef" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cWill" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="AlgnReq" tag="LawGood"/>
    <tag group="wGroup" tag="cHelpEKn" name="Eldritch Knight" abbrev="Eldritch Knight"/>
    <bootstrap thing="cFRaSmite2"></bootstrap>
    <bootstrap thing="cFRaSanStr"></bootstrap>
    <bootstrap thing="fArmShield"></bootstrap>
    <bootstrap thing="fSimple"></bootstrap>
    <bootstrap thing="cFRaSmite3"></bootstrap>
    <bootstrap thing="cFRaSmite4"></bootstrap>
    <bootstrap thing="cFRaSmite5"></bootstrap>
    <bootstrap thing="cFRaMagCir"></bootstrap>
    <bootstrap thing="cFRaHolySt"></bootstrap>
    <bootstrap thing="fArmLight"></bootstrap>
    <bootstrap thing="fWepMart"></bootstrap>
    <bootstrap thing="fWepSimple"></bootstrap>
    <bootstrap thing="fArmMedium"></bootstrap>
    <bootstrap thing="fArmHeavy"></bootstrap>
    <bootstrap thing="cFRaSuEvil"></bootstrap>
    <bootstrap thing="cFRaSmite"></bootstrap>
    </thing>
  <thing id="cFRaSmite" name="Smite Evil 1/day (good-aligned)" description="Adds your Charisma bonus to your attack roll and your Fist of Raziel level to your damage roll when used. Levels in Paladin stack for purposes of damage.\n\nAlso, the weapon that the paladin uses to smite evil is considered good aligned for purposes of overcoming damage resistance." compset="ClSpecial" summary="+Charisma Bonus to hit, +Fist of Raziel Level to damage when used." sortorder="1">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="ClSpecWhen" tag="1" name="1" abbrev="1"/>
    <tag group="User" tag="Smite"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="Helper" tag="SpecUp"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="ShowCharge" name="ShowCharge" abbrev="ShowCharge"/>
    <bootstrap thing="xSmiteEvil"></bootstrap>
    <containerreq phase="First" priority="100">!Hero.ExPaladin</containerreq>
    <eval phase="UserPostLv" priority="10000" index="2"><![CDATA[      doneif (tagis[Helper.SpcDisable] <> 0)

      var level as number
      level = field[xTotalLev].value

      if (level >= 1) then
        perform hero.assign[User.Smite]
        perform hero.assign[User.SmiteEvil]
      endif]]></eval>
    <eval phase="PostAttr"><![CDATA[ ~ Generate our new name
      var level as number
      level = hero.child[cHelpFRa].field[cTotalLev].value
      field[livename].text = "Smite Evil ("
      var total as number
      if (level < 3) then
        total = 1
      elseif (level < 5) then
        total = 2
      elseif (level < 7) then
        total = 3
      elseif (level < 9) then
        total = 4
      else
        total = 5
        endif
   field[livename].text = field[livename].text & total & "/day)"

      doneif (tagis[Helper.SpcDisable] <> 0)

   hero.child[xSmiteEvil].field[hTotal].value += total
   hero.child[xSmiteEvil].field[Value].value += level]]></eval>
    </thing>
  <thing id="cFRaSmite2" name="Smite Evil (confirming)" description="You can Smite Evil twice per day and all threats are automatically confirmed. This works even if the weapon has a magical effect related to critical hits." compset="ClSpecial" summary="When Smiting, all threats are automatically confirmed." sortorder="3">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="ClSpecWhen" tag="3" name="3" abbrev="3"/>
    <containerreq phase="First" priority="100">!Hero.ExPaladin</containerreq>
    </thing>
  <thing id="cFRaSmite3" name="Smite Evil (holy)" description="You can Smite Evil three times a day. Your weapon is considered holy when smiting evil, doing an additional 2d6 damage to evil creatures. This stacks with the extra smite damage but not with the damage from a weapon that is already has the Holy property." compset="ClSpecial" summary="Your weapon is considered holy when smiting evil." sortorder="5">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="ClSpecWhen" tag="5" name="5" abbrev="5"/>
    <containerreq phase="First" priority="100">!Hero.ExPaladin</containerreq>
    </thing>
  <thing id="cFRaSmite4" name="Smite Evil (fiendsmite)" description="You can Smite Evil four times a day. The holy damage dealt by your smite is enhanced against undead and evil outsiders, doing 2d8 damage instead of the usual 2d6" compset="ClSpecial" summary="Holy damage becomes 2d8 vs undead and evil outsiders." sortorder="7">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="ClSpecWhen" tag="7" name="7" abbrev="7"/>
    <containerreq phase="First" priority="100">!Hero.ExPaladin</containerreq>
    </thing>
  <thing id="cFRaSmite5" name="Smite Evil (chain)" description="You can Smite Evil five times a day. Whenever you smite evil bolts of holy power erupt from the target and strike up to 5 additional targets who are within 30 feet. Each target takes 2d6 damage or 2d8 if they are undead or evil outsiders. They are allowed a Ref save (DC15+ Fist of Raziel&apos;s Cha modifier) for half damage." compset="ClSpecial" summary="Up to 5 foes within 30 feet take 2d6 (or 2d8) holy dam when smiting." sortorder="9">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="ClSpecWhen" tag="9" name="9" abbrev="9"/>
    </thing>
  <thing id="cFRaSuEvil" name="Sunder Evil Item" description="Whenever you sunder an evil item (like an unholy sword or a darkskull) or an evil construct (like a retriever) you deal double damage. This does not stack with the Great Sunder feat." compset="ClSpecial" summary="Double damage vs evil constructs and items." sortorder="6">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="ClSpecWhen" tag="6" name="6" abbrev="6"/>
    </thing>
  <thing id="cFRaSanStr" name="Sanctify Martial Strike" description="You gain Sanctify Martial Strike as a bonus feat." compset="ClSpecial" sortorder="4">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="ClSpecWhen" tag="4" name="4" abbrev="4"/>
    <bootstrap thing="fSanStrike">
      <containerreq phase="First" priority="500"><![CDATA[count:Classes.FistRaziel >=4]]></containerreq>
      <autotag group="thing" tag="skipprereq"/>
      </bootstrap>
    </thing>
  <thing id="cFRaHolySt" name="Holy Martial Strike" description="Any weapon you wield is treated as though it were a Holy weapon, dealing an additional 2d6 damage to evil creatures. This does not stack with the holy weapon property, nor with the Sanctify Martial Strike feat." compset="ClSpecial" summary="Any weapon you wield is has the Holy property, doing +2d6 dam vs evil." sortorder="10">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="ClSpecWhen" tag="10" name="10" abbrev="10"/>
    </thing>
  <thing id="cFRaMagCir" name="Magic Circle" description="You are constantly surrounded by a {i}magic circle against evil{/i} as the spell cast by a cleric of your character level.\n\nThis gives a +2 resistance bonus to saves and a +2 Deflection bonus to AC to you and all allies within 10 feet against attacks from evil enemies. It also blocks mental control and wards off non-good summoned creatures." compset="ClSpecial" summary="Constant {i}magic circle against evil{/i} effect centered on you." sortorder="1">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpFRa"/>
    <tag group="Helper" tag="ClExLose"/>
    <tag group="ClSpecWhen" tag="1" name="1" abbrev="1"/>
    </thing>
  <thing id="cSlayDom" name="Slayer of Domiel" description="Assassins, of course, are evil by their nature and the nature of what they do: committing murder for money is a completely evil act. However, sometimes the skill set of an assassin is required for more noble purposes. Claiming the power of the paragon archon Domiel, the slayers of Domiel are a disciplined, secretive order of stealthy spies and&#151;when the need arises&#151;assassins who serve the cause of law and good. Rather than relying entirely on stealth and poison, the slayers of Domiel use supernatural means to dispatch evil foes.\n\nRogues most commonly become slayers of Domiel. On very rare occasions, the order accepts former assassins who have repented and atoned for their past evil deeds and wish to become slayers. Some slayers also have monk, fighter, or even paladin levels. Sorcerer/rogues and cleric/rogues are also found among their numbers.\n\nSlayers of Domiel often work closely with other lawful good characters, but not often with other slayers. Every slayer has a superior in the order responsible for mentoring, training, and supervising her progress, but some slayers go for months between meetings with their superiors. Few slayers know of more than one or two other slayers besides their mentors.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="ClassLevel" maxlimit="10">
    <fieldval field="cHitDice" value="6"/>
    <fieldval field="cInfSkills" value="4"/>
    <usesource source="BoED"/>
    <tag group="cRef" tag="Good" abbrev="Good"/>
    <tag group="cWill" tag="Poor" abbrev="Poor"/>
    <tag group="cAttack" tag="Medium" abbrev="Medium"/>
    <tag group="cFort" tag="Poor" abbrev="Poor"/>
    <tag group="Helper" tag="Prestige" abbrev="Prestige"/>
    <tag group="AlgnReq" tag="LawGood"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpSDo"></bootstrap>
    <link linkage="helper" thing="cHelpSDo"/>
    <exprreq message="Sneak Attack +3d6 required." onlyonce="yes"><![CDATA[childfound[xSneakAtt].field[Value].value >= 3]]></exprreq>
    <exprreq message="Hide 8 ranks required."><![CDATA[#skillranks[kHide] >= 8]]></exprreq>
    <exprreq message="Move Silently 8 ranks required." onlyonce="yes"><![CDATA[#skillranks[kMoveSil] >= 8]]></exprreq>
    <exprreq message="Evasion required."><![CDATA[childfound[cHOREvas].tagis[Helper.ShowSpec] + childfound[cShnEvas].tagis[Helper.ShowSpec] + childfound[cMnkEvas].tagis[Helper.ShowSpec] + childfound[cRgrEvas].tagis[Helper.ShowSpec] + childfound[cRogEvas].tagis[Helper.ShowSpec] + childfound[cNinEvas].tagis[Helper.ShowSpec] + childfound[cSctEvas].tagis[Helper.ShowSpec] + childfound[cAnimEvas].tagis[Helper.ShowSpec] <> 0]]></exprreq>
    <exprreq message="Sanctify Martial Strike required."><![CDATA[#hasfeat[fSanStrike] <> 0]]></exprreq>
    <exprreq message="Servant of the Heavens required."><![CDATA[#hasfeat[fSerHeaven] <> 0]]></exprreq>
    </thing>
  <thing id="cSDoDeTouc" name="Death Touch 1/day" description="A Slayer of Domiel can slay living evil opponents with a single touch. She must succeed on a melee touch attack against the target. When she touches, she rolls 1d6 per slayer level. If the total at least equals the target&apos;s current hit points, it dies. This is a death effect, and it has no effect on nonevil creatures.\n\nA Slayer of Domiel can use this ability more often as she increases in levels." compset="ClSpecial" summary="A Slayer of Domiel can slay living evil opponents with a single touch.">
    <usesource source="BoED"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="User" tag="DeathTouch"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="ShowCharge"/>
    <tag group="SpecType" tag="Attack"/>
    <tag group="ClSpecWhen" tag="1"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[  
  ~ Generate our new name
      var level as number
      level = field[xTotalLev].value
      field[livename].text = "Death Touch ("
      var total as number
      if (level < 4) then
        total = 1
      elseif (level < 8) then
        total = 2
      elseif (level < 10) then
        total = 3
     else
        total = 4
        endif
      field[hTotal].value += total
      field[livename].text = field[livename].text & total & "/day)"]]></eval>
    </thing>
  <thing id="cSDoDeTou2" name="Death Touch 2/day" description="A Slayer of Domiel can slay living evil opponents with a single touch. She must succeed on a melee touch attack against the target. When she touches, she rolls 1d6 per slayer level. If the total at least equals the target&apos;s current hit points, it dies. This is a death effect, and it has no effect on nonevil creatures.\n\nA Slayer of Domiel can use this ability more often as she increases in levels." compset="ClSpecial" summary="A Slayer of Domiel can slay living evil opponents with a single touch.">
    <tag group="ClSpecWhen" tag="4"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cSDoDeTou3" name="Death Touch 3/day" description="A Slayer of Domiel can slay living evil opponents with a single touch. She must succeed on a melee touch attack against the target. When she touches, she rolls 1d6 per slayer level. If the total at least equals the target&apos;s current hit points, it dies. This is a death effect, and it has no effect on nonevil creatures.\n\nA Slayer of Domiel can use this ability more often as she increases in levels." compset="ClSpecial" summary="A Slayer of Domiel can slay living evil opponents with a single touch.">
    <tag group="ClSpecWhen" tag="8"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cSDoDeTou4" name="Death Touch 4/day" description="A Slayer of Domiel can slay living evil opponents with a single touch. She must succeed on a melee touch attack against the target. When she touches, she rolls 1d6 per slayer level. If the total at least equals the target&apos;s current hit points, it dies. This is a death effect, and it has no effect on nonevil creatures.\n\nA Slayer of Domiel can use this ability more often as she increases in levels." compset="ClSpecial" summary="A Slayer of Domiel can slay living evil opponents with a single touch.">
    <tag group="ClSpecWhen" tag="10"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Super"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cSDoDeEvil" name="Detect Evil" description="You can use Detect Evil at will (as the spell)." compset="ClSpecial">
    <tag group="AbilType" tag="SpellLike" name="Spell-Like Ability" abbrev=" (Sp)"/>
    <tag group="ClSpecWhen" tag="1" name="1" abbrev="1"/>
    <tag group="Helper" tag="ClExLose" name="ClExLose" abbrev="ClExLose"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="SpecType" tag="SpellLike" name="Spell-Like Ability" abbrev="Spell-Like Ability"/>
    </thing>
  <thing id="cSDoSnAtt" name="Sneak Attack +1d6" description="+1d6 to your Sneak Attack damage." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="1" name="1" abbrev="1"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="SpecType" tag="Attack" name="Attack" abbrev="Attack"/>
    <tag group="AbilType" tag="Extra"/>
    <bootstrap thing="xSneakAtt"></bootstrap>
    <eval phase="PostLevel" priority="10000"><![CDATA[
      ~ Add our level + 1 / 2 to our sneak attack damage.
      var sneak as number
      sneak = (field[xTotalLev].value + 1) / 2
      sneak = round(sneak, 0, -1)
      hero.child[xSneakAtt].field[Value].value = hero.child[xSneakAtt].field[Value].value + sneak
      field[livename].text = "Sneak Attack +" & sneak & "d6"
      field[CustDesc].text = "+" & sneak & "d6 to your Sneak Attack damage."]]></eval>
    </thing>
  <thing id="cSDoSnAtt2" name="Sneak Attack +2d6" description="+2d6 to your Sneak Attack damage." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="3" name="3" abbrev="3"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cSDoSnAtt3" name="Sneak Attack +3d6" description="+3d6 to your Sneak Attack damage." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="5" name="5" abbrev="5"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cSDoSnAtt4" name="Sneak Attack +4d6" description="+4d6 to your Sneak Attack damage." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="7" name="7" abbrev="7"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cSDoSnAtt5" name="Sneak Attack +5d6" description="+5d6 to your Sneak Attack damage." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="9" name="9" abbrev="9"/>
    <tag group="Helper" tag="SpecUp" name="SpecUp" abbrev="SpecUp"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Extra"/>
    <tag group="SpecType" tag="Attack"/>
    </thing>
  <thing id="cSDoImpEva" name="Improved Evasion" description="Take only half damage on a failed Reflex save." compset="ClSpecial">
    <tag group="AbilType" tag="Extra" name="Extraordinary Ability" abbrev=" (Ex)"/>
    <tag group="ClSpecWhen" tag="6"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="SpecType" tag="Defense" name="Defense" abbrev="Defense"/>
    </thing>
  <thing id="cSDoDGrace" name="Divine Grace" description="You gain your Charisma Bonus as a bonus to all saving throws." compset="ClSpecial">
    <comment><![CDATA[(Changed so does not apply bonus if Paladin's Divine Grace already present)]]></comment>
    <tag group="ClSpecWhen" tag="2" name="2" abbrev="2"/>
    <tag group="Helper" tag="ClExLose" name="ClExLose" abbrev="ClExLose"/>
    <tag group="SpecSource" tag="cHelpSDo"/>
    <tag group="AbilType" tag="Super" name="Supernatural Ability" abbrev=" (Su)"/>
    <eval phase="PostAttr" priority="10000"><![CDATA[
      ~ If we're not shown, just get out now
      doneif (tagis[Helper.ShowSpec] = 0)

      if (field[xTotalLev].value >= 2) then
        perform hero.assign[User.DivineGrc]
      endif

     if (hero.childfound[cPalDivGrc].tagis[Helper.ShowSpec] <> 0) then
        perform delete[Helper.ShowSpec]
        done
     endif

      var bonus as number
      bonus = hero.child[aCHA].field[aModBonus].value
      hero.child[vFort].field[Bonus].value = hero.child[vFort].field[Bonus].value + bonus
      hero.child[vRef].field[Bonus].value = hero.child[vRef].field[Bonus].value + bonus
      hero.child[vWill].field[Bonus].value = hero.child[vWill].field[Bonus].value + bonus]]></eval>
    </thing>
  <thing id="sSDoBlWpn" name="Bless Weapon" description="Weapon strikes true against evil foes." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoDisSel" name="Disguise Self" description="Changes your appearance." compset="Spell">
    <fieldval field="sRange" value="Personal"/>
    <fieldval field="sDuration" value="10 minutes/level (D)"/>
    <fieldval field="sSave" value="None or Reflex Half; See Text"/>
    <fieldval field="sResist" value="-"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSave" tag="RefHalf" name="Reflex Half" abbrev="Reflex Half"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSchool" tag="Illusion" name="Illusion" abbrev="Illu"/>
    <tag group="sSubschool" tag="Glamer" name="Glamer" abbrev="Glamer"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoDeWatc" name="Deathwatch" description="Reveals how near death subjects within 30 ft. are." compset="Spell">
    <fieldval field="sRange" value="30 ft"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="Evil" name="Evil" abbrev="Evil"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoDivFav" name="Divine Favor" description="You gain +1 per three levels on attack and damage rolls." compset="Spell">
    <fieldval field="sRange" value="Personal"/>
    <fieldval field="sDuration" value="1 minute"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="-"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Evocation" name="Evocation" abbrev="Evoc"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoGhSoun" name="Ghost Sound" description="Figment sounds." compset="Spell">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="1 round/level (D)"/>
    <fieldval field="sSave" value="Will Disbelief (if interacted with)"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="1"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="WillDis" name="Will Disbelief" abbrev="Will Disbelief"/>
    <tag group="sSchool" tag="Illusion" name="Illusion" abbrev="Illu"/>
    <tag group="sSubschool" tag="Figment" name="Figment" abbrev="Figment"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoObMist" name="Obscuring Mist" description="Fog surrounds you." compset="Spell">
    <fieldval field="sRange" value="20 ft"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1" name="1" abbrev="1"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Creation" name="Creation" abbrev="Creation"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoSpClim" name="Spider Climb" description="Grants ability to walk on walls and ceilings." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="1"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoVisHea" name="Vision of Heaven" description="Your words allow the target creature the merest glimpse of the blessed joy of the Seven Heavens, spurring the target to a moment of regret for its evil deeds. For 1 round, the target is dazed. In addition, the creature is more susceptible to future redemption. For the next 24 hours, the creatures takes a -1 penalty on all Will saves related to redemption." compset="Spell" summary="Dazes evil creatures by the splendors of the heavens.">
    <fieldval field="sRange" value="Close (25 ft. +5 ft./2 levels)"/>
    <fieldval field="sDuration" value="1 round"/>
    <fieldval field="sSave" value="Will negates"/>
    <fieldval field="sResist" value="Yes"/>
    <usesource source="BoED"/>
    <tag group="sCastTime" tag="Action1"/>
    <tag group="sLevel" tag="1"/>
    <tag group="sClass" tag="SDo" name="Slayer of Domiel"/>
    <tag group="sSchool" tag="Enchant"/>
    <tag group="sSubschool" tag="MindAffect"/>
    <tag group="sRange" tag="5"/>
    <tag group="sRange" tag="Close"/>
    <tag group="sRange" tag="Lvl_Based"/>
    <tag group="sDuration" tag="Round"/>
    <tag group="sSave" tag="WillNeg"/>
    <tag group="sResist" tag="Yes"/>
    <tag group="sComp" tag="V"/>
    </thing>
  <thing id="sSDoAltSel" name="Alter Self" description="Assume form of a similar creature." compset="Spell">
    <fieldval field="sRange" value="Personal"/>
    <fieldval field="sDuration" value="10 minutes/level (D)"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="-"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoDarkne" name="Darkness" description="20-ft. radius of supernatural shadow." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="10 minutes/level (D)"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Evocation" name="Evocation" abbrev="Evoc"/>
    <tag group="sSubschool" tag="Darkness" name="Darkness" abbrev="Darkness"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoGenRep" name="Gentle Repose" description="Preserves one corpse." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 day/level"/>
    <fieldval field="sSave" value="Will Negates (Object)"/>
    <fieldval field="sResist" value="Yes (object)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Day" name="1+ Days" abbrev="1+ Days"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2" name="2" abbrev="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoPassTr" name="Pass without Trace" description="One subject/level leaves no tracks." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 hour/level (D)"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="2"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoBlSigh" name="Blessed Sight" description="This spell makes your eyes glow with white light and allows you to see evil auras within 120 feet of you. The effect is similar to a detect evil spell, but does not require concentration and discerns aura location and strength more quickly.\n      You know the location and strength of all evil auras within your sight. An aura;s strength depends on the type and Hit Dice of any evil creature, as noted in the description of the detect evil spell." compset="Spell" summary="Glowing eyes reveal evil auras like detect evil.">
    <tag group="sLevel" tag="3"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sSchool" tag="Divination"/>
    <tag group="sComp" tag="V"/>
    <tag group="sComp" tag="S"/>
    </thing>
  <thing id="sDeepDV" name="Deeper Darkvision" description="{i}You toss the powdered dried carrot into the air as you cast this spell, and it vanishes. You choose yourself as the spell&#146;s recipient and your eyes begin to glow with an alien purple luster. {/i}\n\nThe subject gains the ability to see 90 feet in total darkness and ignores the 20% miss chance normally present in shadowy illumination (such as might be created by a {i}darkness{/i} spell). {i}Deeper darkvision{/i} is black and white only but otherwise similar to normal sight.\n\n{i}Material Component{/i}: A pinch of dried carrot or an agate." compset="Spell" summary="Subject can see 90 ft. in magical darkness.">
    <fieldval field="sDuration" value="1 hour/level"/>
    <fieldval field="sSave" value="Will negates (harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Transmutat" name="Transmutation" abbrev="Trans"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="sSDoInvisi" name="Invisibility" description="Subject is invisible for 1 min./level or until it attacks." compset="Spell">
    <fieldval field="sRange" value="Personal or touch"/>
    <fieldval field="sDuration" value="1 minute/level (D)"/>
    <fieldval field="sSave" value="Will Negates (Harmless, Object)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Illusion" name="Illusion" abbrev="Illu"/>
    <tag group="sSubschool" tag="Glamer" name="Glamer" abbrev="Glamer"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="MorDF" name="Material or Divine Focus" abbrev="{ref s_M}M{ref}/{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoMisdir" name="Misdirection" description="Misleads divinations for one creature or object." compset="Spell">
    <fieldval field="sRange" value="Close (25 ft.+5 ft./2 levels)"/>
    <fieldval field="sDuration" value="1 hour/level"/>
    <fieldval field="sSave" value="None or Will Negates; See Text"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3"/>
    <tag group="sRange" tag="Close" name="Close" abbrev="{ref s_Close}Cls{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Illusion" name="Illusion" abbrev="Illu"/>
    <tag group="sSubschool" tag="Glamer" name="Glamer" abbrev="Glamer"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoNonDet" name="Nondetection" description="Hides subject from divination, scrying." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 hour/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless, Object)"/>
    <fieldval field="sResist" value="Yes (Harmless, Object)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Hour" name="1+ Hours" abbrev="1+ Hours"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoSpkDed" name="Speak with Dead" description="Corpse answers one question/two levels." compset="Spell">
    <fieldval field="sRange" value="10 ft"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="Will Negates; See Text"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="3" name="3" abbrev="3"/>
    <tag group="sRange" tag="Feet" name="Feet" abbrev="Feet"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="SeeText" name="See Text" abbrev="See Text"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="LangDepend" name="Language-Dependent" abbrev="Language-Dependent"/>
    <tag group="sCastTime" tag="Minute10" name="10 Minute(s)" abbrev="Minute10"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoDeaWar" name="Death Ward" description="Grants immunity to death spells and negative energy effects." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 minute/level"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Necromancy" name="Necromancy" abbrev="Necro"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    </thing>
  <thing id="sSDoDimDor" name="Dimension Door" description="Teleports you short distance." compset="Spell">
    <fieldval field="sRange" value="Long (400 ft.+40 ft./level)"/>
    <fieldval field="sDuration" value="Instantaneous"/>
    <fieldval field="sSave" value="None and Will Negates"/>
    <fieldval field="sResist" value="Yes (object)"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Long" name="Long" abbrev="{ref s_Long}Long{ref}"/>
    <tag group="sResist" tag="Object" name="Object" abbrev="Object"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Conjur" name="Conjuration" abbrev="Conjur"/>
    <tag group="sSubschool" tag="Teleport" name="Teleportation" abbrev="Teleport"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Instant" name="Instantaneous" abbrev="Instantaneous"/>
    </thing>
  <thing id="sSDoFrdMov" name="Freedom of Movement" description="Subject moves normally despite impediments." compset="Spell">
    <fieldval field="sRange" value="Personal or touch"/>
    <fieldval field="sDuration" value="10 minutes/level"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    <tag group="sDuration" tag="Minute" name="1+ Minutes" abbrev="1+ Minutes"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Abjur" name="Abjuration" abbrev="Abjur"/>
    <tag group="sSubschool" tag="None" name="None" abbrev="None"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="DF" name="Divine Focus" abbrev="{ref s_DF}DF{ref}"/>
    <tag group="sComp" tag="M" name="Material" abbrev="{ref s_M}M{ref}"/>
    </thing>
  <thing id="sSDoHolySw" name="Holy Sword" description="Weapon becomes +5, deals +2d6 damage against evil." compset="Spell">
    <fieldval field="sRange" value="Touch"/>
    <fieldval field="sDuration" value="1 round/level"/>
    <fieldval field="sSave" value="None"/>
    <fieldval field="sResist" value="No"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="No" name="No" abbrev="No"/>
    <tag group="sSave" tag="None" name="None" abbrev="None"/>
    <tag group="sSchool" tag="Evocation" name="Evocation" abbrev="Evoc"/>
    <tag group="sSubschool" tag="Good" name="Good" abbrev="Good"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoInvGre" name="Invisibility, Greater" description="As invisibility, but subject can attack and stay invisible." compset="Spell">
    <fieldval field="sRange" value="Personal or touch"/>
    <fieldval field="sDuration" value="1 round/level (D)"/>
    <fieldval field="sSave" value="Will Negates (Harmless)"/>
    <fieldval field="sResist" value="Yes (harmless)"/>
    <tag group="sDuration" tag="Dismiss" name="Dismissable" abbrev="Dismissable"/>
    <tag group="sDuration" tag="PerLevel" name="Level-based" abbrev="Level-based"/>
    <tag group="sDuration" tag="Round" name="1+ Rounds" abbrev="1+ Rounds"/>
    <tag group="sLevel" tag="4" name="4" abbrev="4"/>
    <tag group="sRange" tag="Personal" name="Personal" abbrev="{ref s_Pers}Pers{ref}"/>
    <tag group="sRange" tag="Touch" name="Touch" abbrev="{ref s_Touch}Tch{ref}"/>
    <tag group="sResist" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sResist" tag="Yes" name="Yes" abbrev="Yes"/>
    <tag group="sSave" tag="Harmless" name="Harmless" abbrev="Harmless"/>
    <tag group="sSave" tag="WillNeg" name="Will Negates" abbrev="Will Negates"/>
    <tag group="sSchool" tag="Illusion" name="Illusion" abbrev="Illu"/>
    <tag group="sSubschool" tag="Glamer" name="Glamer" abbrev="Glamer"/>
    <tag group="sCastTime" tag="Action1" name="1 Action" abbrev="Action1"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sComp" tag="S" name="Somatic" abbrev="{ref s_S}S{ref}"/>
    <tag group="sComp" tag="V" name="Verbal" abbrev="{ref s_V}V{ref}"/>
    </thing>
  <thing id="sSDoSwdCon" name="Sword of Conscience" description="The target creature, which must be evil, is struck by pangs of conscience and remorse. The creature instantaneously takes Wisdom and Charisma damage according to the magnitude of its evil. The creature regains lost abilities normally; they do not automatically return when the spell&apos;s duration expires. This effect is not language-dependent." compset="Spell" summary="Evil creature stuck by pangs of conscience and remorse, takes Wisdom and Charsima damage.">
    <fieldval field="sRange" value="Close (25 ft. + 5 ft./2 levels)"/>
    <fieldval field="sDuration" value="Instantaneous; see text"/>
    <fieldval field="sSave" value="Will Negates"/>
    <fieldval field="sResist" value="Yes"/>
    <usesource source="BoED"/>
    <tag group="sSubschool" tag="MindAffect"/>
    <tag group="sComp" tag="V"/>
    <tag group="sComp" tag="DF"/>
    <tag group="sCastTime" tag="Action1"/>
    <tag group="sLevel" tag="4"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="sSchool" tag="Enchant"/>
    <tag group="sSubschool" tag="Compulsion"/>
    <tag group="sRange" tag="25"/>
    <tag group="sRange" tag="Close"/>
    <tag group="sRange" tag="Lvl_Based"/>
    <tag group="sDuration" tag="Instant"/>
    <tag group="sDuration" tag="SeeText"/>
    <tag group="sSave" tag="WillNeg"/>
    <tag group="sResist" tag="Yes"/>
    <tag group="sSubschool" tag="Good"/>
    </thing>
  <thing id="cHelpSDo" name="Slayer of Domiel" compset="ClassHelp" uniqueness="unique">
    <comment>spells if 0 then get bonus spells from wisdom</comment>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cSplMaxLvl" value="4"/>
    <fieldval field="cSplMinLvl" value="1"/>
    <fieldval field="cHDSides" value="6"/>
    <fieldval field="cAbbr" value="SDo"/>
    <arrayval field="cCastTot" index="0" column="1" value=".1"/>
    <arrayval field="cCastTot" index="1" column="1" value="1"/>
    <arrayval field="cCastTot" index="2" column="1" value="1"/>
    <arrayval field="cCastTot" index="2" column="2" value=".1"/>
    <arrayval field="cCastTot" index="3" column="1" value="1"/>
    <arrayval field="cCastTot" index="3" column="2" value="1"/>
    <arrayval field="cCastTot" index="4" column="1" value="1"/>
    <arrayval field="cCastTot" index="4" column="2" value="1"/>
    <arrayval field="cCastTot" index="4" column="3" value=".1"/>
    <arrayval field="cCastTot" index="5" column="1" value="1"/>
    <arrayval field="cCastTot" index="5" column="2" value="1"/>
    <arrayval field="cCastTot" index="5" column="3" value="1"/>
    <arrayval field="cCastTot" index="6" column="1" value="2"/>
    <arrayval field="cCastTot" index="6" column="2" value="1"/>
    <arrayval field="cCastTot" index="6" column="3" value="1"/>
    <arrayval field="cCastTot" index="6" column="4" value=".1"/>
    <arrayval field="cCastTot" index="7" column="1" value="2"/>
    <arrayval field="cCastTot" index="7" column="2" value="1"/>
    <arrayval field="cCastTot" index="7" column="3" value="1"/>
    <arrayval field="cCastTot" index="7" column="4" value="1"/>
    <arrayval field="cCastTot" index="8" column="1" value="2"/>
    <arrayval field="cCastTot" index="8" column="2" value="2"/>
    <arrayval field="cCastTot" index="8" column="3" value="1"/>
    <arrayval field="cCastTot" index="8" column="4" value="1"/>
    <arrayval field="cCastTot" index="9" column="1" value="2"/>
    <arrayval field="cCastTot" index="9" column="2" value="2"/>
    <arrayval field="cCastTot" index="9" column="3" value="2"/>
    <arrayval field="cCastTot" index="9" column="4" value="1"/>
    <usesource source="BoED"/>
    <tag group="ClassSkill" tag="kSpot" name="Spot" abbrev="Spot"/>
    <tag group="ClassSkill" tag="kTumble" name="Tumble" abbrev="Tumble"/>
    <tag group="ClassSkill" tag="kUseMagic" name="Use Magic Device" abbrev="Use Magic Device"/>
    <tag group="ClassSkill" tag="kUseRope" name="Use Rope" abbrev="Use Rope"/>
    <tag group="Classes" tag="SlayDom" name="SlayDom" abbrev="SlayDom"/>
    <tag group="AlgnReq" tag="LawGood"/>
    <tag group="CasterType" tag="MemAll"/>
    <tag group="cFort" tag="Poor"/>
    <tag group="cRef" tag="Good"/>
    <tag group="CasterSrc" tag="Divine"/>
    <tag group="cWill" tag="Poor"/>
    <tag group="sClass" tag="SDo"/>
    <tag group="cAttack" tag="Medium"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="kBalance" name="Balance" abbrev="Balance"/>
    <tag group="ClassSkill" tag="kBluff" name="Bluff" abbrev="Bluff"/>
    <tag group="ClassSkill" tag="kClimb" name="Climb" abbrev="Climb"/>
    <tag group="ClassSkill" tag="kDiplomacy" name="Diplomacy" abbrev="Diplomacy"/>
    <tag group="ClassSkill" tag="kDisguise" name="Disguise" abbrev="Disguise"/>
    <tag group="ClassSkill" tag="kGatherInf" name="Gather Information" abbrev="Gather Information"/>
    <tag group="ClassSkill" tag="kHide" name="Hide" abbrev="Hide"/>
    <tag group="ClassSkill" tag="kIntim" name="Intimidate" abbrev="Intimidate"/>
    <tag group="ClassSkill" tag="kJump" name="Jump" abbrev="Jump"/>
    <tag group="ClassSkill" tag="kListen" name="Listen" abbrev="Listen"/>
    <tag group="ClassSkill" tag="kMoveSil" name="Move Silently" abbrev="Move Silently"/>
    <tag group="ClassSkill" tag="kOpenLock" name="Open Lock" abbrev="Open Lock"/>
    <tag group="ClassSkill" tag="kSearch" name="Search" abbrev="Search"/>
    <tag group="ClassSkill" tag="kSenseMot" name="Sense Motive" abbrev="Sense Motive"/>
    <bootstrap thing="cSDoDeTou3"></bootstrap>
    <bootstrap thing="cSDoDeTouc"></bootstrap>
    <bootstrap thing="cSDoDeTou4"></bootstrap>
    <bootstrap thing="cSDoDeEvil"></bootstrap>
    <bootstrap thing="cSDoDGrace"></bootstrap>
    <bootstrap thing="cSDoSnAtt"></bootstrap>
    <bootstrap thing="cSDoSnAtt2"></bootstrap>
    <bootstrap thing="cSDoSnAtt3"></bootstrap>
    <bootstrap thing="cSDoImpEva"></bootstrap>
    <bootstrap thing="cSDoSnAtt5"></bootstrap>
    <bootstrap thing="cSDoSnAtt4"></bootstrap>
    <bootstrap thing="cSDoDeTou2"></bootstrap>
    <link linkage="spellattr" thing="aWIS"/>
    </thing>
  <thing id="cSwordRigh" name="Sword of Righteousness" description="The call of exalted deeds does not exclude the path of the warrior. Though few in number, warriors of every stripe devote themselves to good, choosing a higher calling than their fellows. Even among paladins, some pursue a commitment to righteousness and purity that exceeds the norm, truly exalting them above their peers. These men and women are called swords of righteousness.\n\nThe sword of righteousness prestige class is simply a way for a martially oriented character&#151;typically a paladin, fighter, ranger, barbarian, monk, or even rogue&#151;to gain more exalted feats at the cost of a slightly slower progression in his or her basic class. It is not intended as a lifelong career path, just a sidetrack allowing such a character to focus for a short while on the trappings of righteousness. Spellcasting characters (bards, clerics, druids, sorcerers, and wizards) tend toward the wonderworker prestige class to accomplish the same goal.\n\nNo organization binds swords of righteousness together, though they are often found operating in the churches of good deities, good-aligned knightly orders, and other existing organizations dedicated to virtuous causes.\n\n{b}Source{/b}: Book of Exalted Deeds" compset="ClassLevel" maxlimit="3">
    <comment>Need to add pre-req (Done)</comment>
    <fieldval field="cHitDice" value="8"/>
    <usesource source="BoED"/>
    <tag group="Helper" tag="Prestige"/>
    <tag group="ClassType" tag="Prestige"/>
    <bootstrap thing="cHelpSwR"></bootstrap>
    <link linkage="helper" thing="cHelpSwR"/>
    <exprreq message="Base attack bonus +6 required."><![CDATA[child[Attack].field[tAtkBase].value >= 6]]></exprreq>
    <exprreq message="Favored of the Companions, Knight of Stars, or Servant of the Heavens required,"><![CDATA[#hasfeat[fFavorComp] + #hasfeat[fKnighStar] + #hasfeat[fSerHeaven] <> 0]]></exprreq>
    <prereq message="One exalted feat other than Favored of the Companions, Knight of Stars, or Servant of the Heavens required.">
      <validate><![CDATA[   var result as number
   foreach pick in hero from BaseFeat where "fCategory.Exalted & !thingid.fFavorComp & !thingid.fKnighStar & !thingid.fSerHeaven"
     result += 1
   nexteach

   validif (result <> 0)]]></validate>
      </prereq>
    </thing>
  <thing id="cHelpSwR" name="Sword of Righteousness" compset="ClassHelp" uniqueness="unique">
    <comment>Need to add text, Need to add Exalted feats, need to set bonus feats. (Done)

~ Calculate the number of bonus feats we have
      var bonus as number
      bonus = field[cTotalLev].value
      field[cGiveSpec].value = field[cGiveSpec].value + bonus
Rescued Script
~ Calculate the number of bonus feats we have
      var bonus as number
      bonus = field[cTotalLev].value
      field[cGiveSpec].value = field[cGiveSpec].value + bonus</comment>
    <fieldval field="cSkills" value="4"/>
    <fieldval field="cAbbr" value="SwR"/>
    <fieldval field="cHDSides" value="8"/>
    <arrayval field="cSpecial" index="2" value="Bonus Exalted Feat"/>
    <arrayval field="cSpecial" index="0" value="Bonus Exalted Feat"/>
    <arrayval field="cSpecial" index="1" value="Bonus Exalted Feat"/>
    <arrayval field="cBonFtTot" index="0" value="1"/>
    <arrayval field="cBonFtTot" index="1" value="2"/>
    <arrayval field="cBonFtTot" index="2" value="3"/>
    <usesource source="BoED"/>
    <tag group="cFort" tag="Good" name="Good" abbrev="Good"/>
    <tag group="cRef" tag="Poor" name="Poor" abbrev="Poor"/>
    <tag group="cWill" tag="Good"/>
    <tag group="wGroup" tag="cHelpFtr" name="Fighter" abbrev="Fighter"/>
    <tag group="ClassSkill" tag="Craft" name="All Craft Skills" abbrev="All Craft Skills"/>
    <tag group="ClassSkill" tag="kClimb" name="Climb" abbrev="Climb"/>
    <tag group="ClassSkill" tag="kHandleAnm" name="Handle Animal" abbrev="Handle Animal"/>
    <tag group="ClassSkill" tag="kIntim" name="Intimidate" abbrev="Intimidate"/>
    <tag group="BonusFeat" tag="SwordRight"/>
    <tag group="ClassSkill" tag="Profession"/>
    <tag group="ClassSkill" tag="kDiplomacy"/>
    <tag group="ClassSkill" tag="kKnowNat"/>
    <tag group="ClassSkill" tag="kKnowRel"/>
    <tag group="ClassSkill" tag="kSenseMot"/>
    <tag group="ClassSkill" tag="kJump" name="Jump" abbrev="Jump"/>
    <tag group="ClassSkill" tag="kRide" name="Ride" abbrev="Ride"/>
    <tag group="ClassSkill" tag="kSwim" name="Swim" abbrev="Swim"/>
    <tag group="cAttack" tag="Good" name="Good" abbrev="Good"/>
    <tag group="Classes" tag="SwordRight"/>
    <tag group="SpecSource" tag="SwordRight"/>
    <tag group="SpellType" tag="SwordRight"/>
    <tag group="fCategory" tag="Exalted"/>
    <tag group="AlgnReq" tag="Good"/>
    <bootstrap thing="cSwRBonFe1"></bootstrap>
    <bootstrap thing="cSwRBonFe2"></bootstrap>
    <bootstrap thing="cSwRBonFe3"></bootstrap>
    </thing>
  <thing id="cNew" name="Bonus Feat" compset="CustomSpec">
    <tag group="SpecSource" tag="SwordRight"/>
    </thing>
  <thing id="cSwRBonFe1" name="Bonus Exalted Feat" description="You gain a bonus exalted feat." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="1"/>
    <tag group="SpecSource" tag="cHelpSwR"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cSwRBonFe2" name="Bonus Exalted Feat" description="You gain a bonus exalted feat." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="2"/>
    <tag group="SpecSource" tag="cHelpSwR"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  <thing id="cSwRBonFe3" name="Bonus Exalted Feat" description="You gain a bonus exalted feat." compset="ClSpecial">
    <tag group="ClSpecWhen" tag="3"/>
    <tag group="SpecSource" tag="cHelpSwR"/>
    <tag group="Helper" tag="SpecUp"/>
    </thing>
  </document>
